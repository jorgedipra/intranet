{"version":3,"file":"front-lib.esm.js","sources":["../src/components/scope-form/context.ts","../src/components/scope-form/history-modal/index.tsx","../src/components/scope-form/styles.ts","../src/components/scope-form/form-parts/ScopeFormSchool.tsx","../src/utils/hooks.ts","../src/components/shared/form-controls/anv-autocomplete-2/styles.ts","../src/components/shared/form-controls/anv-autocomplete-2/parts/GroupHeader.tsx","../src/components/shared/anv-button/styles.ts","../src/components/shared/anv-button/index.tsx","../src/components/scope-form/form-parts/ScopeFormAuthorizer.tsx","../src/components/scope-form/form-parts/ScopeFormEMO.tsx","../src/components/scope-form/form-parts/ScopeFormESC.tsx","../src/components/scope-form/form-parts/ScopeFormSEA.tsx","../src/components/scope-form/form-parts/ScopeFormLEA.tsx","../src/utils/common.ts","../src/utils/http.ts","../src/constants/common.ts","../src/constants/env.ts","../src/utils/form.tsx","../src/utils/form-validation.ts","../src/utils/formatWLocale.ts","../src/utils/format.ts","../src/utils/files.ts","../src/utils/filter.ts","../node_modules/regenerator-runtime/runtime.js","../src/utils/image.ts","../src/components/scope-form/index.tsx","../src/components/scope-form-filter/styles.ts","../src/components/scope-form-filter/form-parts/ScopeFormFilterSchool.tsx","../src/components/scope-form-filter/form-parts/ScopeFormFilterOrganization.tsx","../src/components/shared/anv-button-group/index.tsx","../src/components/shared/icons/styles.ts","../src/components/shared/icons/icons.tsx","../src/components/shared/icons/index.tsx","../src/components/scope-form-filter/constants-filter.ts","../src/components/scope-form-filter/index.tsx","../src/components/shared/anv-modal/index.tsx","../src/components/shared/text/TextH1.tsx","../src/components/shared/text/TextH2.tsx","../src/components/shared/text/TextH3.tsx","../src/components/shared/text/TextH5.tsx","../src/components/shared/text/TextBody.tsx","../src/components/shared/text/TextBody2.tsx","../src/components/shared/anv-tabs/styles.ts","../src/components/shared/anv-tabs/Tabs.tsx","../src/components/shared/table/anv-table-head-filter/styles.ts","../src/components/shared/table/anv-table-head-filter/index.tsx","../src/components/shared/table/anv-pagination-mui/index.tsx","../src/components/shared/anv-tooltip/index.tsx","../src/components/shared/form-controls/anv-datepicker/anv-datepicker.tsx","../src/components/shared/form-controls/anv-select/index.tsx","../src/components/shared/form-controls/anv-input-zip-code/index.tsx","../src/components/shared/form-controls/anv-input-phone/index.tsx","../src/components/shared/form-controls/LabelLoading.tsx","../src/components/shared/form-controls/anv-autocomplete-2/parts/PaperTotalAutocomplete.tsx","../src/components/shared/form-controls/anv-autocomplete-2/index.tsx","../src/components/shared/form-controls/anv-switch/index.tsx","../src/models/jurisdiction.ts","../src/styles/palette.ts","../src/styles/mixins/index.ts","../src/styles/theme.ts","../src/styles/constants.ts","../src/styles/common/table.ts"],"sourcesContent":["import React from 'react';\nimport {IProps} from \"./interfaces\";\n\nexport const defaultMetaStore = {\n  jurisdictionStore: {\n    getJurisdictions: (arg: any, arg2?: any) => ({}),\n    data: null,\n    isFetching: false,\n    isLoaded: false,\n  },\n  accessHistoryStore: {\n    getAccessHistory: (arg: any, arg2?: any) => ({}),\n    data: null,\n    isFetching: false,\n    isLoaded: false,\n  },\n  organizationsStore: {\n    getOrganizations: (arg: any, arg2?: any) => ({}),\n    data: null,\n    data2: null,\n    isFetching: false,\n    isLoaded: false,\n    total: 0,\n    total2: 0,\n  },\n  tagsStore: {\n    getTags: (arg: any, arg2?: any) => ({}),\n    data: null,\n    isFetching: false,\n    isLoaded: false,\n  },\n  schoolsStore: {\n    getSchools: (arg: any, arg2?: any) => ({}),\n    data: null,\n    isFetching: false,\n    isLoaded: false,\n    total: 0,\n  },\n};\n\nexport const ScopeFormContext = React.createContext<IProps>({\n  metaStores: defaultMetaStore,\n});\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { observer } from 'mobx-react-lite';\n\nimport { Divider, Typography } from '@material-ui/core';\n\n// import { useStores } from 'src/stores/root-store';\n\nimport { AnvDialog } from 'src/components/shared/anv-modal';\nimport { TextH2 } from 'src/components/shared/text/TextH2';\nimport { AnvButton } from 'src/components/shared/anv-button';\n\ninterface IProps {\n  handleToggle: () => void;\n  open?: boolean;\n}\n\nexport const AnvAccessHistoryModal: React.FC<IProps> = observer(\n  ({ open = false, handleToggle }) => {\n    // TODO\n    // const {\n    //   metaStores: {\n    //     accessHistoryStore: { data, updateAccessHistoryState },\n    //   },\n    // } = useStores();\n    //\n    // const handleCheckAll = () => {\n    //   data\n    //     ?.filter((item: any) => !item.active)\n    //     .forEach((item) => {\n    //       updateAccessHistoryState({ id: item._id, active: true });\n    //     });\n    // };\n    //\n    // const isCheckAllEnabled = !data?.filter((item: any) => !item.active)\n    //   ?.length;\n    //\n    // const handleChangeArchive = (id: string) => (ev: any) => {\n    //   const checked = ev.target.checked;\n    //\n    //   updateAccessHistoryState({ id, active: checked });\n    // };\n\n    return (\n      <AnvDialog handleClose={handleToggle} open={open}>\n        <TextH2>\n          <FormattedMessage\n            id=\"APP.MODAL.HISTORY.ARCHIVE.TITLE\"\n            defaultMessage=\"Views Archive\"\n          />\n        </TextH2>\n\n        <Typography color={'textSecondary'} style={{ marginBottom: 16 }}>\n          <FormattedMessage\n            id=\"APP.MODAL.HISTORY.ARCHIVE.CAPTION\"\n            defaultMessage=\"Disable items that you do not want to see in the list of recently viewed\"\n          />\n        </Typography>\n\n        <div>\n          <AnvButton\n            size={'small'}\n            smallPadding\n            fullWidth={false}\n            variant={'text'}\n            // onClick={handleCheckAll}\n            // disabled={isCheckAllEnabled}\n          >\n            <FormattedMessage\n              id=\"APP.COMMON.SELECT_ALL\"\n              defaultMessage=\"Select All\"\n            />\n          </AnvButton>\n        </div>\n\n        <Divider />\n\n        {/*{data?.map((item) => {*/}\n        {/*  let label = item?.schoolRef*/}\n        {/*    ? getNameByLangNullable(item.schoolRef, 'name', locale)*/}\n        {/*    : item?.organizationRef*/}\n        {/*    ? getNameByLangNullable(item.organizationRef, 'name', locale)*/}\n        {/*    : 'TEST';*/}\n        {/*  return (*/}\n        {/*    <span key={item?._id}>*/}\n        {/*      <Checkbox*/}\n        {/*        color={'primary'}*/}\n        {/*        checked={item?.active}*/}\n        {/*        onChange={handleChangeArchive(item?._id)}*/}\n        {/*        // checked={value?.indexOf(item.value) > -1}*/}\n        {/*      />*/}\n        {/*      {label}*/}\n        {/*    </span>*/}\n        {/*  );*/}\n        {/*})}*/}\n      </AnvDialog>\n    );\n  }\n);\n","import { createStyles, makeStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles((theme) =>\n  createStyles({\n    wrapper: {\n      paddingLeft: 16,\n      paddingRight: 16,\n    },\n\n    autocompleteGroupHeader: {\n      fontFamily: 'Inter',\n      fontStyle: 'normal',\n      fontWeight: 'normal',\n      fontSize: 13,\n      lineHeight: '22px',\n\n      letterSpacing: '-0.18px',\n\n      color: theme.palette.text.secondary,\n    },\n\n    historyGroup: {\n      fontWeight: 600,\n    },\n    autocompleteFooter: {\n      marginTop: 16,\n      marginBottom: 24,\n    },\n    autocompleteHeaderButton: {\n      '&&&': {\n        padding: 0,\n        fontSize: 13,\n        lineHeight: '22px',\n      },\n    },\n    autocompleteFooterButton: {\n      '&&&': {\n        padding: theme.spacing(0.5),\n        fontFamily: 'Inter',\n        fontWeight: 'normal',\n        fontSize: 16,\n        lineHeight: ' 24px',\n        letterSpacing: '-0.18px',\n      },\n    },\n  }),\n);\n","import React, { useEffect } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport clsx from 'clsx';\nimport { capitalize, Divider, Grid } from '@material-ui/core';\n\nimport { observer } from 'mobx-react-lite';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useFormContext, useWatch } from 'react-hook-form';\n\nimport { IRequestAccessModuleScope } from 'src/models/requests';\n\nimport {\n  AnvSelect,\n  ISelectOption,\n} from 'src/components/shared/form-controls/anv-select';\nimport { AnvAutocomplete2 } from 'src/components/shared/form-controls/anv-autocomplete-2';\nimport { AnvButton } from 'src/components/shared/anv-button';\nimport { GroupHeaderAutocomplete } from 'src/components/shared/form-controls/anv-autocomplete-2/parts/GroupHeader';\n\nimport {\n  ACCESS_SCOPES,\n  AUTOCOMPLETE_HISTORY_LIMIT,\n  DEFAULT_LANGUAGE,\n  INPUT_THROTTLE_TIME,\n} from 'src/constants';\nimport { defaultMetaStore, ScopeFormContext } from '../context';\n\nimport { usePrevious } from 'src/hooks';\nimport { useDebounce, useModal } from 'src/utils/hooks';\nimport { AnvAccessHistoryModal } from '../history-modal';\n\nimport {\n  formErrorHelper,\n  getItemById,\n  getNameByLangNullable,\n  prepareOptions,\n} from 'src/utils';\n\nimport { useStyles } from '../styles';\n\ninterface IProps {\n  jurisdictions?: any;\n}\n\nconst ModuleRequestScopeSchool: React.FC<IProps> = observer(\n  ({ jurisdictions }) => {\n    const classes = useStyles();\n    const { control, errors, setValue, getValues } = useFormContext();\n\n    const {\n      existsData: item,\n      hideTags,\n      onlyMyAccessByModule,\n      metaStores = defaultMetaStore,\n      serverErrors = {},\n    } = React.useContext(ScopeFormContext) || {};\n\n    const { locale } = useIntl();\n\n    // React.useEffect(()=>{\n    //\n    // }, [])\n\n    // const schoolName = !!item\n    //   ? getNameByLangNullable(item?.school, 'name', locale) || ''\n    //   : '';\n\n    const [schoolInputValue, setSchoolInputValue] = React.useState('');\n    const schoolInputValueDef = useDebounce(\n      schoolInputValue,\n      INPUT_THROTTLE_TIME\n    );\n\n    // const [orgInputValue, setOrgInputValue] = React.useState('');\n    // const orgInputValueDef = useDebounce(orgInputValue, INPUT_THROTTLE_TIME);\n\n    const {\n      jurisdictionStore: { isFetching: isFetchingJurisdictions },\n      // organizationsStore: {\n      //   getOrganization,\n      //   getOrganizations,\n      //   data: organizations,\n      //   // organizationsMap,\n      //   total: totalOrganizations,\n      //\n      //   isFetching: isFetchingOrganizations,\n      // },\n      tagsStore: {\n        getTags,\n        total: totalTags,\n        data: tagsEntities,\n        isFetching: isFetchingTags,\n        isLoaded: isLoadedTags,\n      },\n      schoolsStore: {\n        getSchool,\n        getSchools,\n        total: totalSchools,\n        schoolsMap,\n        data: schools,\n        isFetching: isFetchingSchools,\n      },\n      accessHistoryStore: { data: accessHistory = [] },\n    } = metaStores;\n\n    const scope: IRequestAccessModuleScope = useWatch({\n      control,\n      name: 'scope',\n      defaultValue: item\n        ? item?.scope\n        : {\n            jurisdiction: null,\n            organization: null,\n            school: null,\n          },\n    });\n    const tags: ISelectOption[] = useWatch({\n      control,\n      name: 'scope.tags',\n      defaultValue: [],\n    });\n\n    const [initialSchool] = React.useState(item?.scope?.school);\n    // const [initialOrganization] = React.useState(item?.scope?.organization);\n\n    React.useEffect(() => {\n      if (initialSchool) {\n        getSchool({ id: initialSchool });\n      }\n    }, [initialSchool, getSchool]);\n    // React.useEffect(() => {\n    //   if (initialOrganization) {\n    //     getOrganization({ id: initialOrganization });\n    //   }\n    // }, [initialOrganization, getOrganization]);\n\n    const { jurisdiction, /*organization,*/ school } = scope;\n\n    const schoolStore = school && schoolsMap[school];\n    // const organizationStore = organization && organizationsMap[organization];\n\n    const tagsStringIds = (\n      tags.map((tagOption) => tagOption?.value) || []\n    ).toString();\n\n    useEffect(() => {\n      if (!isLoadedTags) {\n        getTags({ getWithTotal: true });\n      }\n    }, [isLoadedTags, getTags]);\n\n    ///////////////////////////////////////////////////////////////\n    const entitiesAll = React.useMemo(() => {\n      const array: Record<string, any>[] = [];\n\n      if (schools) {\n        array.push(...(schools || []));\n      }\n\n      if (accessHistory) {\n        array.push(\n          ...(accessHistory\n            .map(\n              (historyItem: Record<string, any>) =>\n                historyItem?.schoolRef /*|| historyItem?.organizationRef*/\n            )\n            .filter((item: any) => !!item) || [])\n        );\n      }\n\n      return array;\n    }, [schools, accessHistory]);\n\n    const schoolEntity = getItemById(entitiesAll || [], school);\n    const schoolEntityName = getNameByLangNullable(\n      schoolEntity,\n      'name',\n      locale\n    );\n    const schoolEntityJur = schoolEntity?.jurisdiction;\n\n    // const organizationEntity = React.useMemo(() => {\n    //   const fromStore = getItemById(organizations, organization);\n    //\n    //   if (fromStore) {\n    //     return fromStore;\n    //   }\n    //\n    //   if (organization && schoolEntity) {\n    //     const fromSchool = schoolEntity?.organizationsRefs?.find(\n    //       (schoolOrg: IOrganization) => schoolOrg?._id === organization,\n    //     );\n    //\n    //     if (fromSchool) {\n    //       return fromSchool;\n    //     }\n    //   }\n    //\n    //   return null;\n    // }, [organizations, organization, schoolEntity]);\n    //\n    // const organizationEntityJurId = organizationEntity?.jurisdiction?._id;\n    // const organizationEntityName = getNameByLangNullable(\n    //   organizationEntity,\n    //   'name',\n    //   locale,\n    // );\n\n    // Set values from school â–²\n    React.useEffect(() => {\n      if (schoolEntity) {\n        const schoolOrganizations = schoolEntity?.organizationsRefs;\n        let selectedOrg = schoolOrganizations?.[0]?._id;\n\n        // if (!organization) {\n        //   if (jurisdiction) {\n        //     selectedOrg =\n        //       schoolOrganizations?.find(\n        //         (org: Record<string, any>) =>\n        //           org?.jurisdiction === jurisdiction,\n        //       )?._id || selectedOrg;\n        //   }\n        //\n        //   setValue('scope.organization', selectedOrg);\n        // }\n\n        if (!jurisdiction && selectedOrg?.jurisdiction) {\n          setValue('scope.jurisdiction', selectedOrg?.jurisdiction || '');\n        }\n      }\n\n      // if (\n      //   organizationEntity &&\n      //   !jurisdiction &&\n      //   organizationEntity?.jurisdiction\n      // ) {\n      //   setValue('scope.jurisdiction', organizationEntity?.jurisdiction || '');\n      // }\n    }, [\n      schoolEntity,\n      // organization,\n      // organizationEntity,\n      jurisdiction,\n      setValue,\n    ]);\n\n    const schoolInputValuePrev = usePrevious(schoolInputValueDef);\n    // const orgInputValuePrev = usePrevious(orgInputValueDef);\n    const tagsStringIdsPrev = usePrevious(tagsStringIds);\n    const jurisdictionPrev = usePrevious(jurisdiction);\n    // const organizationPrev = usePrevious(organization);\n    const isTagChangedFromItem = !isEqual(item?.tags, tags);\n\n    // /** Get LEA ORGANIZATIONS */\n    // React.useEffect(() => {\n    //   const jurisdictionChanged =\n    //     jurisdiction !== jurisdictionPrev &&\n    //     !(!jurisdiction && !jurisdictionPrev);\n    //\n    //   if (\n    //     jurisdictionChanged ||\n    //     (orgInputValuePrev !== orgInputValueDef &&\n    //       organizationEntityName !== orgInputValueDef)\n    //   ) {\n    //     if (\n    //       item?.jurisdiction !== jurisdiction &&\n    //       jurisdictionPrev &&\n    //       jurisdiction\n    //     ) {\n    //       setValue('scope.organization', '');\n    //       setValue('scope.school', '');\n    //     }\n    //\n    //     const data: Record<string, any> = {\n    //       getWithTotal: true,\n    //       filter: {\n    //         accessScope: { eq: ORGANIZATION_TYPE_CODES.LEA },\n    //       },\n    //     };\n    //\n    //     if (jurisdiction) {\n    //       data.filter.or = [\n    //         {\n    //           jurisdiction: {\n    //             eq: jurisdiction,\n    //           },\n    //         },\n    //       ];\n    //     }\n    //\n    //     if (orgInputValueDef) {\n    //       data.name = orgInputValueDef;\n    //       data.locale = locale;\n    //     }\n    //\n    //     if (onlyMyAccessByModule) {\n    //       data.filterAccess = {};\n    //\n    //       data.filterAccess.moduleCode = onlyMyAccessByModule;\n    //       data.filterAccess.accessScope = ACCESS_SCOPES.SCHOOL;\n    //     }\n    //\n    //     getOrganizations(data);\n    //   }\n    // }, [\n    //   organizationEntityName,\n    //   orgInputValueDef,\n    //   orgInputValuePrev,\n    //   item,\n    //   jurisdiction,\n    //   jurisdictionPrev,\n    //   onlyMyAccessByModule,\n    //   locale,\n    //   getOrganizations,\n    //   setValue,\n    // ]);\n\n    /** Get SCHOOLS */\n    React.useEffect(() => {\n      const jurisdictionChanged =\n        jurisdictionPrev !== jurisdiction &&\n        schoolEntityJur !== jurisdiction &&\n        !(!jurisdiction && !jurisdictionPrev && !schoolEntityJur);\n\n      // const organizationChanged =\n      //   organizationPrev !== organization &&\n      //   (!schoolEntity ||\n      //     schoolEntity?.organizations.indexOf(organization) === -1);\n\n      const tagsChanged =\n        tagsStringIds !== tagsStringIdsPrev && isTagChangedFromItem;\n\n      if (\n        jurisdictionChanged ||\n        // organizationChanged ||\n        tagsChanged ||\n        (schoolInputValuePrev !== schoolInputValueDef &&\n          schoolInputValueDef !== schoolEntityName)\n      ) {\n        // if (!jurisdiction && organizationEntityJurId) {\n        //   setValue('scope.jurisdiction', organizationEntityJurId || '');\n        // }\n        // if (!jurisdiction && !organizationEntityJurId && schoolEntityJur) {\n        if (!jurisdiction && schoolEntityJur) {\n          setValue('scope.jurisdiction', schoolEntityJur || '');\n        }\n        if (\n          // item?.organization !== organization &&\n          // organizationPrev &&\n          // organization &&\n          // organizationPrev !== organization\n          (jurisdictionChanged && jurisdictionPrev && jurisdiction) ||\n          (jurisdiction &&\n            schoolEntity &&\n            schoolEntity?.jurisdiction !== jurisdiction)\n        ) {\n          setValue('scope.school', '');\n        }\n\n        const data: Record<string, any> = {\n          filter: {},\n          getWithTotal: true,\n        };\n        if (locale !== DEFAULT_LANGUAGE) {\n          data.locale = locale;\n        }\n        // if (organization) {\n        //   data.filter.organizations = { in: organization };\n        // }\n\n        if (jurisdiction) {\n          if (!data.filter?.or) {\n            data.filter.or = [];\n          }\n\n          data.filter.or.push({\n            jurisdiction: {\n              eq: jurisdiction,\n            },\n          });\n        }\n\n        if (schoolInputValueDef) {\n          data.name = schoolInputValueDef;\n          data.locale = locale;\n        }\n        if (onlyMyAccessByModule) {\n          data.filterAccess = {};\n\n          data.filterAccess.accessScope = ACCESS_SCOPES.SCHOOL;\n          data.filterAccess.moduleCode = onlyMyAccessByModule;\n        }\n\n        if (tagsStringIds && tagsStringIds.length) {\n          data.filter.tags = {\n            all: tagsStringIds.split(','),\n          };\n        }\n\n        getSchools(data);\n      }\n      // schoolEntity -> organizations\n      // eslint-disable-next-line\n    }, [\n      schoolEntityName,\n      schoolEntityJur,\n      schoolInputValueDef,\n      schoolInputValuePrev,\n      jurisdiction,\n      jurisdictionPrev,\n      tagsStringIds,\n      tagsStringIdsPrev,\n      isTagChangedFromItem,\n      item,\n      // organization,\n      // organizationPrev,\n      // organizationEntityJurId,\n      onlyMyAccessByModule,\n      locale,\n      getSchools,\n      setValue,\n      getValues,\n    ]);\n\n    const jurisdictionsOptions = prepareOptions(jurisdictions, {\n      locale,\n    });\n\n    // const organizationsWithCurrentEntity = [\n    //   ...(organizations || []),\n    //   organizationEntity,\n    // ]\n    //   .filter((item) => !!item)\n    //   .filter((value, index, self) => {\n    //     return self.findIndex((subItem) => subItem._id === value._id) === index;\n    //   });\n    //\n    // const organizationsOptions = prepareOptions(\n    //   organizationsWithCurrentEntity,\n    //   {\n    //     locale,\n    //   },\n    // );\n    const tagsOptions = prepareOptions(tagsEntities, {\n      locale,\n    });\n\n    const schoolsOptionsActual = prepareOptions(schools, {\n      locale,\n      type: 'school',\n      captionBottom: true,\n      captionFunc: ({ address }) =>\n        prepareSchoolAddressCaption({ address, locale, classes }),\n    });\n\n    const schoolsOptionsHistory = prepareOptions(\n      accessHistory?.filter((item: any) => item?.active && item?.schoolRef),\n      {\n        locale,\n        captionBottom: true,\n        captionFunc: ({ address }) =>\n          prepareSchoolAddressCaption({ address, locale, classes }),\n\n        labelFunc: (item) => {\n          return getNameByLangNullable(item?.schoolRef, 'name', locale);\n        },\n        customId: 'school',\n        type: 'history',\n      }\n    );\n\n    const { handleToggleModal: toggleHistoryViewAll, isOpen: historyViewAll } =\n      useModal();\n\n    const totalHistory = schoolsOptionsHistory?.length || 0;\n    const historyLengthToShow = historyViewAll\n      ? schoolsOptionsHistory.length\n      : AUTOCOMPLETE_HISTORY_LIMIT;\n\n    const schoolsOptions = React.useMemo(() => {\n      const historyFiltered =\n        schoolsOptionsHistory\n          ?.filter((item: Record<any, any>) => !!item.active)\n          .slice(0, historyLengthToShow) || [];\n\n      const isSchoolExistsInActual =\n        schoolStore &&\n        schoolsOptionsActual.findIndex(\n          (item) => item.value === schoolStore?._id\n        ) > -1;\n\n      const schoolOptionInitial =\n        !isSchoolExistsInActual && schoolStore\n          ? prepareOptions([schoolStore], {\n              locale,\n              type: 'school',\n              captionBottom: true,\n              captionFunc: ({ address }) =>\n                prepareSchoolAddressCaption({ address, locale, classes }),\n            })\n          : [];\n\n      return [\n        ...schoolOptionInitial,\n        ...historyFiltered,\n        ...schoolsOptionsActual,\n      ];\n      // [classes]\n      // eslint-disable-next-line\n    }, [\n      schoolsOptionsHistory,\n      schoolsOptionsActual,\n      schoolStore,\n      historyLengthToShow,\n      locale,\n    ]);\n\n    // SCHOOL: [\n    //     'jurisdiction',\n    //     'school is public',\n    //     'organization type LEA (2)',\n    //     'autocomplete - school name ',\n    // ],\n\n    const formHelper = (field: string) => {\n      return formErrorHelper(field, errors, serverErrors);\n    };\n\n    const { handleToggleModal: handleToggleHistory, isOpen: historyOpen } =\n      useModal();\n\n    return (\n      <>\n        <AnvSelect\n          displayEmpty\n          name={'scope.jurisdiction'}\n          control={control}\n          disabled={isFetchingJurisdictions}\n          label={\n            <FormattedMessage\n              id=\"APP.COMMON.LABEL.JURISDICTION\"\n              defaultMessage=\"Jurisdiction\"\n            />\n          }\n          options={jurisdictionsOptions}\n          helperText={formHelper('scope.jurisdiction')}\n          error={!!formHelper('scope.jurisdiction')}\n        />\n\n        {/*<AnvAutocomplete2*/}\n        {/*  total={totalOrganizations}*/}\n        {/*  options={organizationsOptions}*/}\n        {/*  loading={isFetchingOrganizations}*/}\n        {/*  label={*/}\n        {/*    <FormattedMessage*/}\n        {/*      id=\"APP.COMMON.LABEL.ORGANIZATION.LEA\"*/}\n        {/*      defaultMessage=\"LEA Organization\"*/}\n        {/*    />*/}\n        {/*  }*/}\n        {/*  onInputChange={(event, newInputValue) => {*/}\n        {/*    setOrgInputValue(newInputValue);*/}\n        {/*  }}*/}\n        {/*  onChange={() => {*/}\n        {/*    setValue('scope.school', '');*/}\n        {/*  }}*/}\n        {/*  control={control}*/}\n        {/*  name={'scope.organization'}*/}\n        {/*  helperText={formHelper('scope.organization')}*/}\n        {/*  error={!!formHelper('scope.organization')}*/}\n        {/*  value={organization}*/}\n        {/*/>*/}\n\n        {!hideTags && (\n          <AnvAutocomplete2\n            total={totalTags || 0}\n            multiple\n            options={tagsOptions}\n            loading={isFetchingTags}\n            label={\n              <FormattedMessage\n                id=\"APP.COMMON.LABEL.TAGS\"\n                defaultMessage=\"Tags\"\n              />\n            }\n            control={control}\n            name={'scope.tags'}\n            helperText={formHelper('scope.tags')}\n            error={!!formHelper('scope.tags')}\n            value={tags}\n          />\n        )}\n\n        <AnvAutocomplete2\n          total={totalSchools}\n          required\n          options={schoolsOptions}\n          loading={isFetchingSchools}\n          label={\n            <FormattedMessage\n              id=\"APP.COMMON.LABEL.SCHOOL\"\n              defaultMessage=\"School\"\n            />\n          }\n          onInputChange={(event, newInputValue) => {\n            setSchoolInputValue(newInputValue);\n          }}\n          control={control}\n          name={'scope.school'}\n          helperText={formHelper('scope.school')}\n          error={!!formHelper('scope.school')}\n          value={school}\n          // todo to custom comp\n          groupBy={(option) => option.type || ''}\n          renderGroup={(group) => {\n            let groupLocaleKey = group.group.toUpperCase();\n\n            const isHistory = group.group === 'history';\n\n            return (\n              <Grid\n                key={group.key || Math.random()}\n                className={clsx({\n                  [classes.historyGroup]: isHistory,\n                })}\n              >\n                <GroupHeaderAutocomplete\n                  title={\n                    <FormattedMessage\n                      id={`APP.COMMON.FILTER.DROPDOWN.${groupLocaleKey}`}\n                      defaultMessage={capitalize(group.group)}\n                    />\n                  }\n                >\n                  {isHistory && (\n                    <AnvButton\n                      className={classes.autocompleteHeaderButton}\n                      variant={'text'}\n                      color={'primary'}\n                      onClick={handleToggleHistory}\n                    >\n                      <FormattedMessage\n                        id=\"APP.COMMON.FILTER.ARCHIVE\"\n                        defaultMessage=\"Archive\"\n                      />\n                    </AnvButton>\n                  )}\n                </GroupHeaderAutocomplete>\n\n                <Divider />\n\n                {group.children}\n\n                {isHistory && totalHistory > AUTOCOMPLETE_HISTORY_LIMIT && (\n                  <div\n                    className={clsx(\n                      classes.wrapper,\n                      classes.autocompleteFooter\n                    )}\n                  >\n                    <AnvButton\n                      variant={'text'}\n                      color={'primary'}\n                      className={classes.autocompleteFooterButton}\n                      onClick={toggleHistoryViewAll}\n                    >\n                      {historyViewAll ? (\n                        <FormattedMessage\n                          id=\"APP.COMMON.FILTER.HIDE_ALL\"\n                          defaultMessage=\"Hide\"\n                        />\n                      ) : (\n                        <FormattedMessage\n                          id=\"APP.COMMON.FILTER.VIEW_ALL\"\n                          defaultMessage=\"View all\"\n                        />\n                      )}\n                    </AnvButton>\n                  </div>\n                )}\n              </Grid>\n            );\n          }}\n        />\n\n        <AnvAccessHistoryModal\n          handleToggle={handleToggleHistory}\n          open={historyOpen}\n        />\n      </>\n    );\n  }\n);\n\nexport default ModuleRequestScopeSchool;\n\nconst prepareSchoolAddressCaption = ({\n  address,\n  locale,\n  classes,\n}: any): string | JSX.Element => {\n  const { stateRef: state, county, city } = address;\n  const addressArr: string[] = [];\n  const countyName = getNameByLangNullable(county, 'name', locale);\n  const cityName = getNameByLangNullable(city, 'name', locale);\n\n  if (state.code) {\n    addressArr.push(state.code);\n  }\n  if (countyName) {\n    addressArr.push(countyName);\n  }\n  if (cityName) {\n    addressArr.push(cityName);\n  }\n\n  return (\n    <span className={classes.schoolAddressCaption}>\n      {addressArr.join(', ')}\n    </span>\n  );\n};\n","import React, { RefObject } from 'react';\nimport { useLocation } from 'react-router';\nimport qs from 'query-string';\n\nexport function useModal() {\n  const [isOpen, setIsOpen] = React.useState(false);\n  const handleOpenModal = (e?: any) => {\n    setIsOpen(true);\n  };\n  const handleCloseModal = () => {\n    setIsOpen(false);\n  };\n\n  const handleToggleModal = () => {\n    setIsOpen((state) => !state);\n  };\n\n  return {\n    isOpen,\n    setIsOpen,\n    handleOpenModal,\n    handleCloseModal,\n    handleToggleModal,\n  };\n}\n\nexport function useQuery() {\n  const { search } = useLocation();\n  return qs.parse(search);\n}\n\nexport function usePaginationQuery() {\n  const params: Record<string, any> = useQuery();\n\n  params &&\n    Object.keys(params).forEach(function (key) {\n      const value = params[key];\n\n      if (key === 'page' && !!value && !+value) {\n        delete params.page;\n      }\n\n      if (key.startsWith('filter.')) {\n        if (!params.filter) {\n          params.filter = {};\n        }\n\n        params.filter[key.replace('filter.', '')] = value;\n      }\n    });\n\n  return params;\n}\n\nexport function useInterval(callback: () => void, delay: number | null) {\n  const savedCallback = React.useRef(callback);\n\n  // Remember the latest callback if it changes.\n  React.useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  React.useEffect(() => {\n    // Don't schedule if no delay is specified.\n    if (delay === null) {\n      return;\n    }\n\n    const id = setInterval(() => savedCallback.current(), delay);\n\n    return () => clearInterval(id);\n  }, [delay]);\n}\n\ntype AnyEvent = MouseEvent | TouchEvent;\n\nexport function useOnClickOutside<T extends HTMLElement = HTMLElement>(\n  ref: RefObject<T>,\n  handler: (event: AnyEvent) => void,\n) {\n  React.useEffect(() => {\n    const listener = (event: AnyEvent) => {\n      const el = ref?.current;\n\n      // Do nothing if clicking ref's element or descendent elements\n      if (!el || el.contains(event.target as Node)) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    document.addEventListener(`mousedown`, listener);\n    document.addEventListener(`touchstart`, listener);\n\n    return () => {\n      document.removeEventListener(`mousedown`, listener);\n      document.removeEventListener(`touchstart`, listener);\n    };\n\n    // Reload only if ref or handler changes\n  }, [ref, handler]);\n}\n\nexport function useDebounce(value: any, delay: number = 500) {\n  const [debouncedValue, setDebouncedValue] = React.useState<any>(value);\n\n  React.useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n","import { createStyles, makeStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles((theme) =>\n  createStyles({\n    wrapper: {\n      paddingLeft: 16,\n      paddingRight: 16,\n    },\n\n    autocompleteGroupHeader: {\n      maxWidth: '100%',\n      fontFamily: 'Inter',\n      fontStyle: 'normal',\n      fontWeight: 'normal',\n      fontSize: 13,\n      lineHeight: '22px',\n\n      letterSpacing: '-0.18px',\n\n      color: theme.palette.text.secondary,\n    },\n\n    historyGroup: {\n      fontWeight: 600,\n    },\n\n    tag: {\n      height: theme.spacing(3),\n    },\n  }),\n);\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport clsx from 'clsx';\n\nimport { useStyles } from '../styles';\n\ninterface IProps {\n  // total: number;\n  title: JSX.Element | string;\n  className?: string;\n}\n\nexport const GroupHeaderAutocomplete: React.FC<IProps> = ({\n  title,\n  className = '',\n  children,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Grid\n      className={clsx(classes.wrapper, classes.autocompleteGroupHeader, {\n        [className]: !!className,\n      })}\n      container\n      spacing={2}\n      justify={'space-between'}\n    >\n      <Grid item>{title}</Grid>\n      <Grid item>{children}</Grid>\n    </Grid>\n  );\n};\n","import { createStyles, makeStyles } from '@material-ui/core/styles';\n\nimport greenHue from '@material-ui/core/colors/green';\nimport blueHue from '@material-ui/core/colors/blue';\nimport orangeHue from '@material-ui/core/colors/orange';\nimport redHue from '@material-ui/core/colors/red';\n\nexport const useStyles = makeStyles((theme) =>\n  createStyles({\n    common: {\n      '&:disabled': {\n        opacity: 0.7,\n      },\n      '&:hover.MuiButton-contained': {\n        backgroundColor: theme.palette.brand.dark,\n      },\n      '&:hover.MuiButton-outlined': {\n        backgroundColor: theme.palette.brand.light,\n      },\n      '&:hover.MuiButton-outlinedSecondary': {\n        color: theme.palette.error.main,\n      },\n    },\n    muted: {\n      '&&': {\n        color: theme.palette.text.disabled,\n        fontWeight: 400,\n      },\n    },\n    smallPadding: {\n      '&&&': {\n        padding: theme.spacing(0.5),\n      },\n    },\n\n    inactive: {\n      pointerEvents: 'none',\n    },\n\n    success: {\n      color: theme.palette.common.white,\n      backgroundColor: theme.palette.success.main,\n\n      '&:hover': {\n        backgroundColor: greenHue[400],\n      },\n      '&:active': {\n        backgroundColor: greenHue[200],\n      },\n      '&:disabled': {\n        backgroundColor: greenHue[50],\n        color: theme.palette.text.primary,\n      },\n\n      '&&.MuiButton-outlined': {\n        color: theme.palette.success.main,\n        borderColor: theme.palette.success.main,\n        backgroundColor: theme.palette.common.white,\n\n        '&:hover': {\n          backgroundColor: greenHue[50],\n        },\n        '&:active': {\n          color: theme.palette.common.white,\n          backgroundColor: greenHue[400],\n        },\n        '&:disabled': {\n          color: theme.palette.text.secondary,\n          borderColor: greenHue[50],\n        },\n      },\n    },\n    white: {\n      '&&': {\n        backgroundColor: theme.palette.common.white,\n        color: theme.palette.primary.main,\n\n        borderRadius: 3,\n\n        '&:hover': {\n          backgroundColor: '#F2F5F5',\n        },\n        '&:active': {\n          backgroundColor: '#CBD1DA',\n        },\n\n        [theme.breakpoints.up('md')]: {\n          display: 'flex',\n          maxWidth: '100vw',\n        },\n        '&&.MuiButton-outlined': {\n          color: theme.palette.success.main,\n          borderColor: theme.palette.success.main,\n          backgroundColor: theme.palette.common.white,\n\n          '&:hover': {\n            backgroundColor: greenHue[50],\n          },\n          '&:active': {\n            color: theme.palette.common.white,\n            backgroundColor: greenHue[400],\n          },\n          '&:disabled': {\n            color: theme.palette.text.secondary,\n            borderColor: greenHue[50],\n          },\n        },\n      },\n    },\n    info: {\n      color: theme.palette.common.white,\n      backgroundColor: theme.palette.info.main,\n\n      '&:hover': {\n        backgroundColor: blueHue[400],\n        // color: theme.palette.text.primary,\n      },\n      '&:active': {\n        backgroundColor: blueHue[200],\n        // color: theme.palette.text.primary,\n      },\n      '&:disabled': {\n        backgroundColor: blueHue[50],\n        // color: theme.palette.text.primary,\n      },\n\n      '&&.MuiButton-outlined': {\n        color: theme.palette.info.main,\n        borderColor: theme.palette.info.main,\n        backgroundColor: theme.palette.common.white,\n\n        '&:hover': {\n          backgroundColor: blueHue[50],\n        },\n        '&:active': {\n          color: theme.palette.common.white,\n          backgroundColor: blueHue[300],\n        },\n        '&:disabled': {\n          color: theme.palette.text.secondary,\n          borderColor: blueHue[50],\n        },\n      },\n    },\n    warning: {\n      color: theme.palette.text.primary,\n      backgroundColor: theme.palette.warning.main,\n\n      '&:hover': {\n        backgroundColor: orangeHue[400],\n        color: theme.palette.text.primary,\n      },\n      '&:active': {\n        backgroundColor: orangeHue[200],\n        color: theme.palette.text.primary,\n      },\n      '&:disabled': {\n        backgroundColor: orangeHue[50],\n        color: theme.palette.text.primary,\n      },\n\n      '&&.MuiButton-outlined': {\n        color: theme.palette.warning.main,\n        borderColor: theme.palette.warning.main,\n        backgroundColor: theme.palette.common.white,\n\n        '&:hover': {\n          backgroundColor: orangeHue[50],\n        },\n        '&:active': {\n          color: theme.palette.common.white,\n          backgroundColor: orangeHue[400],\n        },\n        '&:disabled': {\n          color: theme.palette.text.secondary,\n          borderColor: orangeHue[50],\n        },\n      },\n    },\n    error: {\n      color: theme.palette.common.white,\n      backgroundColor: theme.palette.error.main,\n\n      '&:hover': {\n        backgroundColor: redHue[400],\n        color: theme.palette.common.white,\n      },\n      '&:active': {\n        backgroundColor: redHue[200],\n        color: theme.palette.common.white,\n      },\n      '&:disabled': {\n        backgroundColor: redHue[50],\n        color: theme.palette.common.white,\n      },\n\n      '&&.MuiButton-outlined': {\n        color: theme.palette.error.main,\n        borderColor: theme.palette.error.main,\n        backgroundColor: theme.palette.common.white,\n\n        '&:hover': {\n          backgroundColor: redHue[50],\n        },\n        '&:active': {\n          color: theme.palette.common.white,\n          backgroundColor: redHue[400],\n        },\n        '&:disabled': {\n          color: theme.palette.text.secondary,\n          borderColor: redHue[50],\n        },\n      },\n    },\n  }),\n);\n","import React from 'react';\nimport clsx from 'clsx';\n\nimport { Button, ButtonProps } from '@material-ui/core';\n\nimport { useStyles } from './styles';\n\nconst colorMuiProp = ['inherit', 'primary', 'secondary', 'default'];\n\ninterface IProps extends ButtonProps {\n  customColor?:\n    | 'inherit'\n    | 'muted'\n    | 'primary'\n    | 'secondary'\n    | 'default'\n    | 'warning'\n    | 'error'\n    | 'success'\n    | 'info'\n    | 'white';\n  smallPadding?: boolean;\n  inactive?: boolean;\n}\n\nexport const AnvButton: React.FC<IProps> = ({\n  children,\n  customColor = 'default',\n  className = '',\n  smallPadding = false,\n  inactive = false,\n  ...props\n}) => {\n  const classes = useStyles();\n\n  let classNameCustom;\n\n  if (colorMuiProp.indexOf(customColor) === -1) {\n    classNameCustom = clsx(classes.common, {\n      // @ts-ignore\n      [classes[customColor]]: !!classes[customColor],\n    });\n  }\n\n  return (\n    <Button\n      className={clsx(classes.common, classNameCustom, {\n        [className]: !!className,\n        [classes.smallPadding]: smallPadding,\n        [classes.inactive]: inactive,\n      })}\n      color={'primary'}\n      {...props}\n    >\n      {children}\n    </Button>\n  );\n};\n\nexport default AnvButton;\n","import React, { useEffect } from 'react';\nimport clsx from 'clsx';\n\nimport { observer } from 'mobx-react-lite';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useFormContext, useWatch } from 'react-hook-form';\nimport { capitalize, Divider, Grid } from '@material-ui/core';\n\nimport { IRequestAccessModuleScope } from 'src/models/requests';\n\nimport { AnvSelect } from 'src/components/shared/form-controls/anv-select';\nimport { AnvAutocomplete2 } from 'src/components/shared/form-controls/anv-autocomplete-2';\n\nimport {\n  formErrorHelper,\n  getItemById,\n  getNameByLangNullable,\n  prepareOptions,\n} from 'src/utils';\nimport {\n  ACCESS_SCOPES,\n  AUTOCOMPLETE_HISTORY_LIMIT,\n  ORGANIZATION_TYPE_CODES,\n} from 'src/constants';\nimport { usePrevious } from 'src/hooks';\nimport { defaultMetaStore, ScopeFormContext } from '../context';\nimport { useStyles } from '../styles';\nimport { useModal } from '../../../utils/hooks';\nimport { GroupHeaderAutocomplete } from '../../shared/form-controls/anv-autocomplete-2/parts/GroupHeader';\nimport { AnvButton } from '../../shared/anv-button';\nimport { AnvAccessHistoryModal } from '../history-modal';\n\ninterface IProps {\n  jurisdictions?: any;\n}\n\nconst ModuleRequestScopeAuthorizer: React.FC<IProps> = observer(\n  ({ jurisdictions }) => {\n    const classes = useStyles();\n    const { locale } = useIntl();\n    const { control, errors } = useFormContext();\n\n    const {\n      onlyMyAccessByModule,\n      metaStores = defaultMetaStore,\n      serverErrors = {},\n    } = React.useContext(ScopeFormContext) || {};\n\n    const {\n      organizationsStore: {\n        total,\n        getOrganizations,\n        data: organizations,\n        isFetching: isFetchingOrganizations,\n      },\n      accessHistoryStore: { data: accessHistory = [] },\n    } = metaStores;\n\n    const scope: IRequestAccessModuleScope = useWatch({\n      control,\n      name: 'scope',\n      defaultValue: {},\n    });\n    const accessScope = useWatch({\n      control,\n      name: 'accessScope',\n      defaultValue: {},\n    });\n\n    const { jurisdiction, organization } = scope || {};\n\n    const [orgInputValue, setOrgInputValue] = React.useState('');\n    const orgInputValuePrev = usePrevious(orgInputValue);\n\n    const entitiesAll = React.useMemo(() => {\n      const array: Record<string, any>[] = [];\n\n      if (organizations) {\n        array.push(...(organizations || []));\n      }\n\n      if (accessHistory) {\n        array.push(\n          ...(accessHistory\n            .map(\n              (historyItem: Record<string, any>) => historyItem?.organizationRef\n            )\n            .filter((item: any) => !!item) || [])\n        );\n      }\n\n      return array;\n    }, [organizations, accessHistory]);\n\n    const organizationEntity = getItemById(entitiesAll, organization);\n    const organizationEntityName = getNameByLangNullable(\n      organizationEntity,\n      'name',\n      locale\n    );\n\n    const jurisdictionPrev = usePrevious(jurisdiction);\n\n    useEffect(() => {\n      if (\n        jurisdiction !== jurisdictionPrev ||\n        (orgInputValuePrev !== orgInputValue &&\n          organizationEntityName !== orgInputValue)\n      ) {\n        const data: Record<string, any> = {\n          getWithTotal: true,\n          filter: {\n            accessScope: { eq: ORGANIZATION_TYPE_CODES.AUTHORIZER },\n          },\n        };\n\n        if (jurisdiction) {\n          data.filter.or = [\n            {\n              jurisdiction: {\n                eq: jurisdiction,\n              },\n            },\n            {\n              jurisdiction: {\n                is: null,\n              },\n            },\n          ];\n        }\n\n        if (orgInputValue) {\n          data.name = orgInputValue;\n          data.locale = locale;\n        }\n\n        if (onlyMyAccessByModule) {\n          data.filterAccess = {};\n\n          data.filterAccess.accessScope = ACCESS_SCOPES.AUTHORIZER;\n          data.filterAccess.moduleCode = onlyMyAccessByModule;\n        }\n\n        getOrganizations(data);\n      }\n    }, [\n      organizationEntityName,\n      orgInputValuePrev,\n      orgInputValue,\n      jurisdiction,\n      jurisdictionPrev,\n      locale,\n      accessScope,\n      onlyMyAccessByModule,\n      getOrganizations,\n    ]);\n\n    const jurisdictionsOptions = prepareOptions(jurisdictions, {\n      locale,\n    });\n    // const organizationsOptions = organizations\n    //   ? prepareOptions(organizations, {\n    //       locale,\n    //     })\n    //   : [];\n\n    const organizationsOptionsActual = isFetchingOrganizations\n      ? []\n      : prepareOptions(organizations, {\n          locale,\n          type: 'organization',\n        });\n    const optionsHistory = prepareOptions(\n      accessHistory?.filter(\n        (item: any) => item?.active && item?.organizationRef\n      ),\n      {\n        locale,\n        labelFunc: (item) => {\n          return getNameByLangNullable(item?.organizationRef, 'name', locale);\n        },\n        customId: 'organization',\n        type: 'history',\n      }\n    );\n\n    const { handleToggleModal: toggleHistoryViewAll, isOpen: historyViewAll } =\n      useModal();\n\n    const totalHistory = optionsHistory?.length || 0;\n    const historyLengthToShow = historyViewAll\n      ? optionsHistory.length\n      : AUTOCOMPLETE_HISTORY_LIMIT;\n\n    const organizationsOptions = React.useMemo(() => {\n      const historyFiltered =\n        optionsHistory\n          ?.filter((item: Record<any, any>) => !!item.active)\n          .slice(0, historyLengthToShow) || [];\n\n      return [...historyFiltered, ...organizationsOptionsActual];\n    }, [optionsHistory, organizationsOptionsActual, historyLengthToShow]);\n\n    const { handleToggleModal: handleToggleHistory, isOpen: historyOpen } =\n      useModal();\n\n    //  AUTHORIZER: [\n    //         'jurisdiction',\n    //         'autocomplete  - organization type Authorizer type (3)',\n    //       ],\n\n    const formHelper = (field: string) => {\n      return formErrorHelper(field, errors, serverErrors);\n    };\n\n    return (\n      <>\n        <AnvSelect\n          displayEmpty\n          name={'scope.jurisdiction'}\n          control={control}\n          label={\n            <FormattedMessage\n              id=\"APP.COMMON.LABEL.JURISDICTION\"\n              defaultMessage=\"Jurisdiction\"\n            />\n          }\n          options={jurisdictionsOptions}\n          helperText={formHelper('scope.jurisdiction')}\n          error={!!formHelper('scope.jurisdiction')}\n        />\n\n        <AnvAutocomplete2\n          total={total}\n          required\n          options={organizationsOptions}\n          loading={isFetchingOrganizations}\n          label={\n            <FormattedMessage\n              id=\"APP.COMMON.LABEL.ORGANIZATION\"\n              defaultMessage=\"Organization\"\n            />\n          }\n          onInputChange={(event, newInputValue) => {\n            setOrgInputValue(newInputValue);\n          }}\n          control={control}\n          name={'scope.organization'}\n          helperText={formHelper('scope.organization')}\n          error={!!formHelper('scope.organization')}\n          groupBy={(option) => option.type || ''}\n          renderGroup={(group) => {\n            let groupLocaleKey = group.group.toUpperCase();\n\n            const isHistory = group.group === 'history';\n\n            return (\n              <Grid\n                key={group.key || Math.random()}\n                className={clsx({\n                  [classes.historyGroup]: isHistory,\n                })}\n              >\n                <GroupHeaderAutocomplete\n                  title={\n                    <FormattedMessage\n                      id={`APP.COMMON.FILTER.DROPDOWN.${groupLocaleKey}`}\n                      defaultMessage={capitalize(group.group)}\n                    />\n                  }\n                >\n                  {isHistory && (\n                    <AnvButton\n                      className={classes.autocompleteHeaderButton}\n                      variant={'text'}\n                      color={'primary'}\n                      onClick={handleToggleHistory}\n                    >\n                      <FormattedMessage\n                        id=\"APP.COMMON.FILTER.ARCHIVE\"\n                        defaultMessage=\"Archive\"\n                      />\n                    </AnvButton>\n                  )}\n                </GroupHeaderAutocomplete>\n\n                <Divider />\n\n                {group.children}\n\n                {isHistory && totalHistory > AUTOCOMPLETE_HISTORY_LIMIT && (\n                  <div\n                    className={clsx(\n                      classes.wrapper,\n                      classes.autocompleteFooter\n                    )}\n                  >\n                    <AnvButton\n                      variant={'text'}\n                      color={'primary'}\n                      className={classes.autocompleteFooterButton}\n                      onClick={toggleHistoryViewAll}\n                    >\n                      {historyViewAll ? (\n                        <FormattedMessage\n                          id=\"APP.COMMON.FILTER.HIDE_ALL\"\n                          defaultMessage=\"Hide\"\n                        />\n                      ) : (\n                        <FormattedMessage\n                          id=\"APP.COMMON.FILTER.VIEW_ALL\"\n                          defaultMessage=\"View all\"\n                        />\n                      )}\n                    </AnvButton>\n                  </div>\n                )}\n              </Grid>\n            );\n          }}\n        />\n\n        <AnvAccessHistoryModal\n          handleToggle={handleToggleHistory}\n          open={historyOpen}\n        />\n      </>\n    );\n  }\n);\n\nexport default ModuleRequestScopeAuthorizer;\n","import React, { useEffect } from 'react';\n\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useFormContext, useWatch } from 'react-hook-form';\nimport clsx from 'clsx';\nimport { observer } from 'mobx-react-lite';\n\nimport { capitalize, Divider, Grid } from '@material-ui/core';\n\nimport { AnvAutocomplete2 } from 'src/components/shared/form-controls/anv-autocomplete-2';\nimport { GroupHeaderAutocomplete } from 'src/components/shared/form-controls/anv-autocomplete-2/parts/GroupHeader';\nimport { AnvButton } from 'src/components/shared/anv-button';\n\nimport { AnvAccessHistoryModal } from '../history-modal';\n\nimport { defaultMetaStore, ScopeFormContext } from '../context';\nimport { IRequestAccessModuleScope } from 'src/models/requests';\nimport { useStyles } from '../styles';\n\nimport {\n  ACCESS_SCOPES,\n  AUTOCOMPLETE_HISTORY_LIMIT,\n  ORGANIZATION_TYPE_CODES,\n} from 'src/constants';\n\nimport {\n  formErrorHelper,\n  getItemById,\n  getNameByLangNullable,\n  prepareOptions,\n} from 'src/utils';\nimport { useModal } from 'src/utils/hooks';\nimport { usePrevious } from 'src/hooks';\n\ninterface IProps {}\n\nconst ModuleRequestScopeEMO: React.FC<IProps> = observer(() => {\n  const classes = useStyles();\n  const { locale } = useIntl();\n  const { control, errors } = useFormContext();\n\n  const {\n    onlyMyAccessByModule,\n    metaStores = defaultMetaStore,\n    serverErrors = {},\n  } = React.useContext(ScopeFormContext) || {};\n\n  const {\n    organizationsStore: {\n      total,\n      getOrganizations,\n      data: organizations,\n      isFetching: isFetchingOrganizations,\n      // isLoaded: isLoadedOrganizations,\n    },\n    accessHistoryStore: { data: accessHistory = [] },\n  } = metaStores;\n\n  const accessScope = useWatch({\n    control,\n    name: 'accessScope',\n    defaultValue: {},\n  });\n\n  const scope: IRequestAccessModuleScope = useWatch({\n    control,\n    name: 'scope',\n    defaultValue: {},\n  });\n  const { jurisdiction, organization } = scope;\n\n  const [orgInputValue, setOrgInputValue] = React.useState('');\n  const orgInputValuePrev = usePrevious(orgInputValue);\n\n  const entitiesAll = React.useMemo(() => {\n    const array: Record<string, any>[] = [];\n\n    if (organizations) {\n      array.push(...(organizations || []));\n    }\n\n    if (accessHistory) {\n      array.push(\n        ...(accessHistory\n          .map(\n            (historyItem: Record<string, any>) => historyItem?.organizationRef\n          )\n          .filter((item: any) => !!item) || [])\n      );\n    }\n\n    return array;\n  }, [organizations, accessHistory]);\n\n  const organizationEntity = getItemById(entitiesAll, organization);\n  const organizationEntityName = getNameByLangNullable(\n    organizationEntity,\n    'name',\n    locale\n  );\n\n  const jurisdictionPrev = usePrevious(jurisdiction);\n\n  // EMO: ['autocomplete  - organization type SEA type (4)'], mistake...\n  useEffect(() => {\n    if (\n      jurisdiction !== jurisdictionPrev ||\n      (orgInputValuePrev !== orgInputValue &&\n        organizationEntityName !== orgInputValue)\n    ) {\n      const data: Record<string, any> = {\n        getWithTotal: true,\n        filter: {\n          accessScope: { eq: ORGANIZATION_TYPE_CODES.EMO },\n        },\n      };\n\n      if (jurisdiction) {\n        data.filter.or = [\n          {\n            jurisdiction: {\n              eq: jurisdiction,\n            },\n          },\n          {\n            jurisdiction: {\n              is: null,\n            },\n          },\n        ];\n      }\n\n      if (orgInputValue) {\n        data.name = orgInputValue;\n        data.locale = locale;\n      }\n\n      if (onlyMyAccessByModule) {\n        data.filterAccess = {};\n\n        data.filterAccess.accessScope = ACCESS_SCOPES.EMO;\n        data.filterAccess.moduleCode = onlyMyAccessByModule;\n      }\n\n      getOrganizations(data);\n    }\n  }, [\n    organizationEntityName,\n    orgInputValuePrev,\n    orgInputValue,\n    jurisdiction,\n    jurisdictionPrev,\n    locale,\n    accessScope,\n    onlyMyAccessByModule,\n    getOrganizations,\n  ]);\n\n  // const organizationsOptions = organizations\n  //   ? prepareOptions(organizations, {\n  //       locale,\n  //     })\n  //   : [];\n\n  const organizationsOptionsActual = isFetchingOrganizations\n    ? []\n    : prepareOptions(organizations, {\n        locale,\n        type: 'organization',\n      });\n  const optionsHistory = prepareOptions(\n    accessHistory?.filter((item: any) => item?.active && item?.organizationRef),\n    {\n      locale,\n      labelFunc: (item) => {\n        return getNameByLangNullable(item?.organizationRef, 'name', locale);\n      },\n      customId: 'organization',\n      type: 'history',\n    }\n  );\n\n  const { handleToggleModal: toggleHistoryViewAll, isOpen: historyViewAll } =\n    useModal();\n\n  const totalHistory = optionsHistory?.length || 0;\n  const historyLengthToShow = historyViewAll\n    ? optionsHistory.length\n    : AUTOCOMPLETE_HISTORY_LIMIT;\n\n  const organizationsOptions = React.useMemo(() => {\n    const historyFiltered =\n      optionsHistory\n        ?.filter((item: Record<any, any>) => !!item.active)\n        .slice(0, historyLengthToShow) || [];\n\n    return [...historyFiltered, ...organizationsOptionsActual];\n  }, [optionsHistory, organizationsOptionsActual, historyLengthToShow]);\n\n  const { handleToggleModal: handleToggleHistory, isOpen: historyOpen } =\n    useModal();\n\n  const formHelper = (field: string) => {\n    return formErrorHelper(field, errors, serverErrors);\n  };\n\n  return (\n    <>\n      <AnvAutocomplete2\n        total={total}\n        required\n        options={organizationsOptions}\n        loading={isFetchingOrganizations}\n        label={\n          <FormattedMessage\n            id=\"APP.COMMON.LABEL.ORGANIZATION\"\n            defaultMessage=\"Organization\"\n          />\n        }\n        onInputChange={(event, newInputValue) => {\n          setOrgInputValue(newInputValue);\n        }}\n        control={control}\n        name={'scope.organization'}\n        helperText={formHelper('scope.organization')}\n        error={!!formHelper('scope.organization')}\n        groupBy={(option) => option.type || ''}\n        renderGroup={(group) => {\n          let groupLocaleKey = group.group.toUpperCase();\n\n          const isHistory = group.group === 'history';\n\n          return (\n            <Grid\n              key={group.key || Math.random()}\n              className={clsx({\n                [classes.historyGroup]: isHistory,\n              })}\n            >\n              <GroupHeaderAutocomplete\n                title={\n                  <FormattedMessage\n                    id={`APP.COMMON.FILTER.DROPDOWN.${groupLocaleKey}`}\n                    defaultMessage={capitalize(group.group)}\n                  />\n                }\n              >\n                {isHistory && (\n                  <AnvButton\n                    className={classes.autocompleteHeaderButton}\n                    variant={'text'}\n                    color={'primary'}\n                    onClick={handleToggleHistory}\n                  >\n                    <FormattedMessage\n                      id=\"APP.COMMON.FILTER.ARCHIVE\"\n                      defaultMessage=\"Archive\"\n                    />\n                  </AnvButton>\n                )}\n              </GroupHeaderAutocomplete>\n\n              <Divider />\n\n              {group.children}\n\n              {isHistory && totalHistory > AUTOCOMPLETE_HISTORY_LIMIT && (\n                <div\n                  className={clsx(classes.wrapper, classes.autocompleteFooter)}\n                >\n                  <AnvButton\n                    variant={'text'}\n                    color={'primary'}\n                    className={classes.autocompleteFooterButton}\n                    onClick={toggleHistoryViewAll}\n                  >\n                    {historyViewAll ? (\n                      <FormattedMessage\n                        id=\"APP.COMMON.FILTER.HIDE_ALL\"\n                        defaultMessage=\"Hide\"\n                      />\n                    ) : (\n                      <FormattedMessage\n                        id=\"APP.COMMON.FILTER.VIEW_ALL\"\n                        defaultMessage=\"View all\"\n                      />\n                    )}\n                  </AnvButton>\n                </div>\n              )}\n            </Grid>\n          );\n        }}\n      />\n\n      <AnvAccessHistoryModal\n        handleToggle={handleToggleHistory}\n        open={historyOpen}\n      />\n    </>\n  );\n});\n\nexport default ModuleRequestScopeEMO;\n","import React, { useEffect } from 'react';\n\nimport clsx from 'clsx';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useFormContext, useWatch } from 'react-hook-form';\nimport { observer } from 'mobx-react-lite';\n\nimport { capitalize, Divider, Grid } from '@material-ui/core';\n\nimport { AnvAutocomplete2 } from 'src/components/shared/form-controls/anv-autocomplete-2';\n\nimport { GroupHeaderAutocomplete } from 'src/components/shared/form-controls/anv-autocomplete-2/parts/GroupHeader';\nimport { AnvButton } from 'src/components/shared/anv-button';\n\nimport { AnvAccessHistoryModal } from '../history-modal';\n\nimport { defaultMetaStore, ScopeFormContext } from '../context';\n\nimport {\n  formErrorHelper,\n  getItemById,\n  getNameByLangNullable,\n  prepareOptions,\n} from 'src/utils';\nimport {\n  ACCESS_SCOPES,\n  AUTOCOMPLETE_HISTORY_LIMIT,\n  ORGANIZATION_TYPE_CODES,\n} from 'src/constants';\n\nimport { IRequestAccessModuleScope } from 'src/models/requests';\nimport { usePrevious } from 'src/hooks';\nimport { useModal } from 'src/utils/hooks';\n\nimport { useStyles } from '../styles';\n\ninterface IProps {}\n\nconst ModuleRequestScopeESC: React.FC<IProps> = observer(() => {\n  const classes = useStyles();\n  const { locale } = useIntl();\n  const { control, errors } = useFormContext();\n\n  const {\n    onlyMyAccessByModule,\n    metaStores = defaultMetaStore,\n    serverErrors = {},\n  } = React.useContext(ScopeFormContext) || {};\n  const {\n    organizationsStore: {\n      total,\n      getOrganizations,\n      data: organizations,\n      isFetching: isFetchingOrganizations,\n    },\n    accessHistoryStore: { data: accessHistory = [] },\n  } = metaStores;\n\n  // ESC: [\n  //  'autocomplete  - organization type ESC type (??)',\n  // ],\n\n  const accessScope = useWatch({\n    control,\n    name: 'accessScope',\n    defaultValue: {},\n  });\n\n  const scope: IRequestAccessModuleScope = useWatch({\n    control,\n    name: 'scope',\n    defaultValue: {},\n  });\n  const { organization } = scope;\n\n  const [orgInputValue, setOrgInputValue] = React.useState('');\n  const orgInputValuePrev = usePrevious(orgInputValue);\n\n  const entitiesAll = React.useMemo(() => {\n    const array: Record<string, any>[] = [];\n\n    if (organizations) {\n      array.push(...(organizations || []));\n    }\n\n    if (accessHistory) {\n      array.push(\n        ...(accessHistory\n          .map(\n            (historyItem: Record<string, any>) => historyItem?.organizationRef\n          )\n          .filter((item: any) => !!item) || [])\n      );\n    }\n\n    return array;\n  }, [organizations, accessHistory]);\n\n  const organizationEntity = getItemById(entitiesAll, organization);\n  const organizationEntityName = getNameByLangNullable(\n    organizationEntity,\n    'name',\n    locale\n  );\n\n  useEffect(() => {\n    if (\n      orgInputValuePrev !== orgInputValue &&\n      organizationEntityName !== orgInputValue\n    ) {\n      const data: Record<string, any> = {\n        getWithTotal: true,\n        filter: {\n          accessScope: { eq: ORGANIZATION_TYPE_CODES.ESC },\n        },\n      };\n\n      if (orgInputValue) {\n        data.name = orgInputValue;\n        data.locale = locale;\n      }\n\n      if (onlyMyAccessByModule) {\n        data.filterAccess = {};\n\n        data.filterAccess.accessScope = ACCESS_SCOPES.ESC;\n        data.filterAccess.moduleCode = onlyMyAccessByModule;\n      }\n\n      getOrganizations(data);\n    }\n  }, [\n    organizationEntityName,\n    orgInputValuePrev,\n    orgInputValue,\n    locale,\n    accessScope,\n    onlyMyAccessByModule,\n    getOrganizations,\n  ]);\n\n  // const organizationsOptions = organizations\n  //   ? prepareOptions(organizations, {\n  //       locale,\n  //     })\n  //   : [];\n\n  const organizationsOptionsActual = isFetchingOrganizations\n    ? []\n    : prepareOptions(organizations, {\n        locale,\n        type: 'organization',\n      });\n  const optionsHistory = prepareOptions(\n    accessHistory?.filter((item: any) => item?.active && item?.organizationRef),\n    {\n      locale,\n      labelFunc: (item) => {\n        return getNameByLangNullable(item?.organizationRef, 'name', locale);\n      },\n      customId: 'organization',\n      type: 'history',\n    }\n  );\n\n  const { handleToggleModal: toggleHistoryViewAll, isOpen: historyViewAll } =\n    useModal();\n\n  const totalHistory = optionsHistory?.length || 0;\n  const historyLengthToShow = historyViewAll\n    ? optionsHistory.length\n    : AUTOCOMPLETE_HISTORY_LIMIT;\n\n  const organizationsOptions = React.useMemo(() => {\n    const historyFiltered =\n      optionsHistory\n        ?.filter((item: Record<any, any>) => !!item.active)\n        .slice(0, historyLengthToShow) || [];\n\n    return [...historyFiltered, ...organizationsOptionsActual];\n  }, [optionsHistory, organizationsOptionsActual, historyLengthToShow]);\n\n  const { handleToggleModal: handleToggleHistory, isOpen: historyOpen } =\n    useModal();\n\n  const formHelper = (field: string) => {\n    return formErrorHelper(field, errors, serverErrors);\n  };\n\n  return (\n    <>\n      <AnvAutocomplete2\n        total={total}\n        required\n        options={organizationsOptions}\n        loading={isFetchingOrganizations}\n        label={\n          <FormattedMessage\n            id=\"APP.COMMON.LABEL.ORGANIZATION\"\n            defaultMessage=\"Organization\"\n          />\n        }\n        onInputChange={(event, newInputValue) => {\n          setOrgInputValue(newInputValue);\n        }}\n        control={control}\n        name={'scope.organization'}\n        helperText={formHelper('scope.organization')}\n        error={!!formHelper('scope.organization')}\n        groupBy={(option) => option.type || ''}\n        renderGroup={(group) => {\n          let groupLocaleKey = group.group.toUpperCase();\n\n          const isHistory = group.group === 'history';\n\n          return (\n            <Grid\n              key={group.key || Math.random()}\n              className={clsx({\n                [classes.historyGroup]: isHistory,\n              })}\n            >\n              <GroupHeaderAutocomplete\n                title={\n                  <FormattedMessage\n                    id={`APP.COMMON.FILTER.DROPDOWN.${groupLocaleKey}`}\n                    defaultMessage={capitalize(group.group)}\n                  />\n                }\n              >\n                {isHistory && (\n                  <AnvButton\n                    className={classes.autocompleteHeaderButton}\n                    variant={'text'}\n                    color={'primary'}\n                    onClick={handleToggleHistory}\n                  >\n                    <FormattedMessage\n                      id=\"APP.COMMON.FILTER.ARCHIVE\"\n                      defaultMessage=\"Archive\"\n                    />\n                  </AnvButton>\n                )}\n              </GroupHeaderAutocomplete>\n\n              <Divider />\n\n              {group.children}\n\n              {isHistory && totalHistory > AUTOCOMPLETE_HISTORY_LIMIT && (\n                <div\n                  className={clsx(classes.wrapper, classes.autocompleteFooter)}\n                >\n                  <AnvButton\n                    variant={'text'}\n                    color={'primary'}\n                    className={classes.autocompleteFooterButton}\n                    onClick={toggleHistoryViewAll}\n                  >\n                    {historyViewAll ? (\n                      <FormattedMessage\n                        id=\"APP.COMMON.FILTER.HIDE_ALL\"\n                        defaultMessage=\"Hide\"\n                      />\n                    ) : (\n                      <FormattedMessage\n                        id=\"APP.COMMON.FILTER.VIEW_ALL\"\n                        defaultMessage=\"View all\"\n                      />\n                    )}\n                  </AnvButton>\n                </div>\n              )}\n            </Grid>\n          );\n        }}\n      />\n\n      <AnvAccessHistoryModal\n        handleToggle={handleToggleHistory}\n        open={historyOpen}\n      />\n    </>\n  );\n});\n\nexport default ModuleRequestScopeESC;\n","import React from 'react';\nimport clsx from 'clsx';\n\nimport { observer } from 'mobx-react-lite';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useFormContext, useWatch } from 'react-hook-form';\n\nimport { capitalize, Divider, Grid } from '@material-ui/core';\n\nimport { IRequestAccessModuleScope } from 'src/models/requests';\n\nimport { AnvAutocomplete2 } from 'src/components/shared/form-controls/anv-autocomplete-2';\nimport { GroupHeaderAutocomplete } from 'src/components/shared/form-controls/anv-autocomplete-2/parts/GroupHeader';\nimport { AnvButton } from 'src/components/shared/anv-button';\n\nimport { AnvAccessHistoryModal } from '../history-modal';\nimport { defaultMetaStore, ScopeFormContext } from '../context';\n\nimport {\n  ACCESS_SCOPES,\n  AUTOCOMPLETE_HISTORY_LIMIT,\n  ORGANIZATION_TYPE_CODES,\n} from 'src/constants';\n\nimport { usePrevious } from 'src/hooks';\nimport { useModal } from 'src/utils/hooks';\nimport {\n  formErrorHelper,\n  getItemById,\n  getNameByLangNullable,\n  prepareOptions,\n} from 'src/utils';\n\nimport { useStyles } from '../styles';\n\ninterface IProps {}\n\nconst ModuleRequestScopeSEA: React.FC<IProps> = observer(() => {\n  const classes = useStyles();\n  const { locale } = useIntl();\n  const { control, errors, setValue } = useFormContext();\n\n  const {\n    onlyMyAccessByModule,\n    metaStores = defaultMetaStore,\n    serverErrors = {},\n  } = React.useContext(ScopeFormContext) || {};\n\n  const {\n    organizationsStore: {\n      getOrganizations,\n      data: organizations,\n      total: totalOrganizations,\n      isFetching: isFetchingOrganizations,\n    },\n    accessHistoryStore: { data: accessHistory = [] },\n  } = metaStores;\n\n  const scope: IRequestAccessModuleScope = useWatch({\n    control,\n    name: 'scope',\n    defaultValue: {},\n  });\n  const { organization } = scope;\n\n  const [orgInputValue, setOrgInputValue] = React.useState('');\n  const orgInputValuePrev = usePrevious(orgInputValue);\n\n  const entitiesAll = React.useMemo(() => {\n    const array: Record<string, any>[] = [];\n\n    if (organizations) {\n      array.push(...(organizations || []));\n    }\n\n    if (accessHistory) {\n      array.push(\n        ...(accessHistory\n          .map(\n            (historyItem: Record<string, any>) => historyItem?.organizationRef\n          )\n          .filter((item: any) => !!item) || [])\n      );\n    }\n\n    return array;\n  }, [organizations, accessHistory]);\n\n  const organizationEntity = getItemById(entitiesAll, organization);\n  const organizationEntityName = getNameByLangNullable(\n    organizationEntity,\n    'name',\n    locale\n  );\n\n  React.useEffect(() => {\n    if (\n      orgInputValuePrev !== orgInputValue &&\n      organizationEntityName !== orgInputValue\n    ) {\n      // setValue('scope.organization', '');\n\n      const data: Record<string, any> = {\n        getWithTotal: true,\n        filter: {\n          accessScope: { eq: ORGANIZATION_TYPE_CODES.SEA },\n        },\n      };\n\n      if (orgInputValue) {\n        data.name = orgInputValue;\n        data.locale = locale;\n      }\n\n      if (onlyMyAccessByModule) {\n        data.filterAccess = {};\n        data.filterAccess.accessScope = ACCESS_SCOPES.SEA;\n        data.filterAccess.moduleCode = onlyMyAccessByModule;\n      }\n\n      getOrganizations(data);\n    }\n  }, [\n    organizationEntityName,\n    orgInputValuePrev,\n    orgInputValue,\n    locale,\n    onlyMyAccessByModule,\n    setValue,\n    getOrganizations,\n  ]);\n\n  const organizationsOptionsActual = isFetchingOrganizations\n    ? []\n    : prepareOptions(organizations, {\n        locale,\n        type: 'organization',\n      });\n  const optionsHistory = prepareOptions(\n    accessHistory?.filter((item: any) => item?.active && item?.organizationRef),\n    {\n      locale,\n      labelFunc: (item) => {\n        return getNameByLangNullable(item?.organizationRef, 'name', locale);\n      },\n      customId: 'organization',\n      type: 'history',\n    }\n  );\n\n  const { handleToggleModal: toggleHistoryViewAll, isOpen: historyViewAll } =\n    useModal();\n\n  const totalHistory = optionsHistory?.length || 0;\n  const historyLengthToShow = historyViewAll\n    ? optionsHistory.length\n    : AUTOCOMPLETE_HISTORY_LIMIT;\n\n  const organizationsOptions = React.useMemo(() => {\n    const historyFiltered =\n      optionsHistory\n        ?.filter((item: Record<any, any>) => !!item.active)\n        .slice(0, historyLengthToShow) || [];\n\n    return [...historyFiltered, ...organizationsOptionsActual];\n  }, [optionsHistory, organizationsOptionsActual, historyLengthToShow]);\n\n  const { handleToggleModal: handleToggleHistory, isOpen: historyOpen } =\n    useModal();\n\n  // jurisdiction deprecated\n  // SEA: ['jurisdiction', 'autocomplete  - organization type SEA type (4)'],\n  const formHelper = (field: string) => {\n    return formErrorHelper(field, errors, serverErrors);\n  };\n\n  return (\n    <>\n      {/*<AnvSelect*/}\n      {/*  displayEmpty*/}\n      {/*  name={'scope.jurisdiction'}*/}\n      {/*  control={control}*/}\n      {/*  label={*/}\n      {/*    <FormattedMessage*/}\n      {/*      id=\"APP.COMMON.LABEL.JURISDICTION\"*/}\n      {/*      defaultMessage=\"Jurisdiction\"*/}\n      {/*    />*/}\n      {/*  }*/}\n      {/*  options={jurisdictionsOptions}*/}\n      {/*  helperText={formHelper('scope.jurisdiction')}*/}\n      {/*  error={!!formHelper('scope.jurisdiction')}*/}\n      {/*/>*/}\n\n      <AnvAutocomplete2\n        total={totalOrganizations}\n        required\n        options={organizationsOptions}\n        loading={isFetchingOrganizations}\n        label={\n          <FormattedMessage\n            id=\"APP.COMMON.LABEL.ORGANIZATION\"\n            defaultMessage=\"Organization\"\n          />\n        }\n        onInputChange={(event, newInputValue) => {\n          setOrgInputValue(newInputValue);\n        }}\n        control={control}\n        name={'scope.organization'}\n        helperText={formHelper('scope.organization')}\n        error={!!formHelper('scope.organization')}\n        groupBy={(option) => option.type || ''}\n        renderGroup={(group) => {\n          let groupLocaleKey = group.group.toUpperCase();\n\n          const isHistory = group.group === 'history';\n\n          return (\n            <Grid\n              key={group.key || Math.random()}\n              className={clsx({\n                [classes.historyGroup]: isHistory,\n              })}\n            >\n              <GroupHeaderAutocomplete\n                title={\n                  <FormattedMessage\n                    id={`APP.COMMON.FILTER.DROPDOWN.${groupLocaleKey}`}\n                    defaultMessage={capitalize(group.group)}\n                  />\n                }\n              >\n                {isHistory && (\n                  <AnvButton\n                    className={classes.autocompleteHeaderButton}\n                    variant={'text'}\n                    color={'primary'}\n                    onClick={handleToggleHistory}\n                  >\n                    <FormattedMessage\n                      id=\"APP.COMMON.FILTER.ARCHIVE\"\n                      defaultMessage=\"Archive\"\n                    />\n                  </AnvButton>\n                )}\n              </GroupHeaderAutocomplete>\n\n              <Divider />\n\n              {group.children}\n\n              {isHistory && totalHistory > AUTOCOMPLETE_HISTORY_LIMIT && (\n                <div\n                  className={clsx(classes.wrapper, classes.autocompleteFooter)}\n                >\n                  <AnvButton\n                    variant={'text'}\n                    color={'primary'}\n                    className={classes.autocompleteFooterButton}\n                    onClick={toggleHistoryViewAll}\n                  >\n                    {historyViewAll ? (\n                      <FormattedMessage\n                        id=\"APP.COMMON.FILTER.HIDE_ALL\"\n                        defaultMessage=\"Hide\"\n                      />\n                    ) : (\n                      <FormattedMessage\n                        id=\"APP.COMMON.FILTER.VIEW_ALL\"\n                        defaultMessage=\"View all\"\n                      />\n                    )}\n                  </AnvButton>\n                </div>\n              )}\n            </Grid>\n          );\n        }}\n      />\n\n      <AnvAccessHistoryModal\n        handleToggle={handleToggleHistory}\n        open={historyOpen}\n      />\n    </>\n  );\n});\n\nexport default ModuleRequestScopeSEA;\n","import React from 'react';\nimport clsx from 'clsx';\n\nimport { observer } from 'mobx-react-lite';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useFormContext, useWatch } from 'react-hook-form';\n\nimport { capitalize, Divider, Grid } from '@material-ui/core';\n\nimport { IRequestAccessModuleScope } from 'src/models/requests';\n\nimport { AnvSelect } from 'src/components/shared/form-controls/anv-select';\nimport { AnvAutocomplete2 } from 'src/components/shared/form-controls/anv-autocomplete-2';\nimport { GroupHeaderAutocomplete } from 'src/components/shared/form-controls/anv-autocomplete-2/parts/GroupHeader';\nimport { AnvButton } from 'src/components/shared/anv-button';\n\nimport { AnvAccessHistoryModal } from '../history-modal';\n\nimport {\n  formErrorHelper,\n  getItemById,\n  getNameByLangNullable,\n  prepareOptions,\n} from 'src/utils';\nimport {\n  ACCESS_SCOPES,\n  AUTOCOMPLETE_HISTORY_LIMIT,\n  ORGANIZATION_TYPE_CODES,\n} from 'src/constants';\n\nimport { defaultMetaStore, ScopeFormContext } from '../context';\n\nimport { useModal } from 'src/utils/hooks';\nimport { usePrevious } from 'src/hooks';\n\nimport { useStyles } from '../styles';\n\ninterface IProps {\n  jurisdictions?: any;\n  organizationSecondaryWatcher?: any;\n  jurisdictionWatcher?: any;\n}\n\nconst ModuleRequestScopeLEA: React.FC<IProps> = observer(\n  ({ jurisdictions }) => {\n    const { control, errors, setValue } = useFormContext();\n    const { locale } = useIntl();\n    const classes = useStyles();\n\n    const {\n      existsData: item,\n      onlyMyAccessByModule,\n      metaStores = defaultMetaStore,\n      serverErrors = {},\n    } = React.useContext(ScopeFormContext) || {};\n    const {\n      organizationsStore: {\n        getOrganizations,\n        data: organizations,\n        // data2: organizations2,\n        total: organizationsTotal,\n        // total2: organizationsTotal2,\n        isFetching: isFetchingOrganizations,\n      },\n      accessHistoryStore: { data: accessHistory = [] },\n    } = metaStores;\n\n    const entitiesAll = React.useMemo(() => {\n      const array: Record<string, any>[] = [];\n\n      if (organizations) {\n        array.push(...(organizations || []));\n      }\n\n      if (accessHistory) {\n        array.push(\n          ...(accessHistory\n            .map(\n              (historyItem: Record<string, any>) => historyItem?.organizationRef\n            )\n            .filter((item: any) => !!item) || [])\n        );\n      }\n\n      return array;\n    }, [organizations, accessHistory]);\n\n    const [orgInputValue, setOrgInputValue] = React.useState('');\n    // const [org2InputValue, setOrg2InputValue] = React.useState('');\n\n    const scope: IRequestAccessModuleScope = useWatch({\n      control,\n      name: 'scope',\n      defaultValue: {},\n    });\n\n    const { jurisdiction, organization } = scope;\n\n    /** LEA */\n    const organizationEntity = getItemById(entitiesAll, organization);\n    const organizationEntityName = getNameByLangNullable(\n      organizationEntity,\n      'name',\n      locale\n    );\n\n    const organizationEntityJurId = organizationEntity?.jurisdiction?._id;\n\n    const orgInputValuePrev = usePrevious(orgInputValue);\n\n    const jurisdictionPrev = usePrevious(jurisdiction);\n\n    React.useEffect(() => {\n      if (organizationEntity) {\n        const leaParentOrganization = organizationEntity?.parentOrgRef;\n\n        if (!jurisdiction) {\n          setValue(\n            'scope.jurisdiction',\n            organizationEntity?.jurisdiction ||\n              leaParentOrganization?.jurisdiction ||\n              ''\n          );\n        }\n      }\n    }, [\n      organizationEntity, // schoolEntity,\n      jurisdiction,\n      setValue,\n    ]);\n\n    // GET LEA\n    React.useEffect(() => {\n      const jurisdictionChanged =\n        item?.jurisdiction !== jurisdiction &&\n        jurisdiction !== jurisdictionPrev;\n\n      if (\n        jurisdictionChanged ||\n        (orgInputValuePrev !== orgInputValue &&\n          organizationEntityName !== orgInputValue)\n      ) {\n        if (!jurisdiction && organizationEntityJurId) {\n          setValue('scope.jurisdiction', organizationEntityJurId || '');\n        }\n        if (\n          (jurisdictionChanged && jurisdictionPrev && jurisdiction) ||\n          (jurisdiction &&\n            organizationEntityJurId &&\n            organizationEntityJurId !== jurisdiction)\n        ) {\n          setValue('scope.organization', '');\n        }\n\n        const data: Record<string, any> = {\n          populateParent: true,\n          getWithTotal: true,\n          filter: { accessScope: { eq: ORGANIZATION_TYPE_CODES.LEA } },\n        };\n\n        if (jurisdiction) {\n          data.filter.or = [\n            {\n              jurisdiction: {\n                eq: jurisdiction,\n              },\n            },\n            {\n              jurisdiction: {\n                is: null,\n              },\n            },\n          ];\n        }\n\n        if (orgInputValue) {\n          data.name = orgInputValue;\n          data.locale = locale;\n        }\n\n        if (onlyMyAccessByModule) {\n          data.filterAccess = {};\n\n          data.filterAccess.accessScope = ACCESS_SCOPES.LEA;\n          data.filterAccess.moduleCode = onlyMyAccessByModule;\n        }\n\n        getOrganizations(data);\n      }\n    }, [\n      organizationEntityName,\n      organizationEntityJurId,\n      orgInputValue,\n      orgInputValuePrev,\n      onlyMyAccessByModule,\n      jurisdiction,\n      jurisdictionPrev,\n      item,\n      locale,\n      getOrganizations,\n      setValue,\n    ]);\n\n    const jurisdictionsOptions = prepareOptions(jurisdictions, {\n      locale,\n    });\n\n    const organizationsOptionsActual = isFetchingOrganizations\n      ? []\n      : prepareOptions(organizations, {\n          locale,\n          type: 'organization',\n        });\n\n    const optionsHistory = prepareOptions(\n      accessHistory?.filter(\n        (item: any) => item?.active && item?.organizationRef\n      ),\n      {\n        locale,\n        labelFunc: (item) => {\n          return getNameByLangNullable(item?.organizationRef, 'name', locale);\n        },\n        customId: 'organization',\n        type: 'history',\n      }\n    );\n\n    const { handleToggleModal: toggleHistoryViewAll, isOpen: historyViewAll } =\n      useModal();\n\n    const totalHistory = optionsHistory?.length || 0;\n    const historyLengthToShow = historyViewAll\n      ? optionsHistory.length\n      : AUTOCOMPLETE_HISTORY_LIMIT;\n\n    const organizationsOptions = React.useMemo(() => {\n      const historyFiltered =\n        optionsHistory\n          ?.filter((item: Record<any, any>) => !!item.active)\n          .slice(0, historyLengthToShow) || [];\n\n      return [...historyFiltered, ...organizationsOptionsActual];\n    }, [optionsHistory, organizationsOptionsActual, historyLengthToShow]);\n\n    const formHelper = (field: string) => {\n      return formErrorHelper(field, errors, serverErrors);\n    };\n\n    const { handleToggleModal: handleToggleHistory, isOpen: historyOpen } =\n      useModal();\n\n    return (\n      <>\n        <AnvSelect\n          displayEmpty\n          name={'scope.jurisdiction'}\n          control={control}\n          label={\n            <FormattedMessage\n              id=\"APP.COMMON.LABEL.JURISDICTION\"\n              defaultMessage=\"Jurisdiction\"\n            />\n          }\n          options={jurisdictionsOptions}\n          helperText={formHelper('scope.jurisdiction')}\n          error={!!formHelper('scope.jurisdiction')}\n        />\n\n        <AnvAutocomplete2\n          total={organizationsTotal}\n          required\n          options={organizationsOptions}\n          loading={isFetchingOrganizations}\n          label={\n            <FormattedMessage\n              id=\"APP.COMMON.LABEL.ORGANIZATION.LEA\"\n              defaultMessage=\"LEA Organization\"\n            />\n          }\n          onInputChange={(event, newInputValue) => {\n            setOrgInputValue(newInputValue);\n          }}\n          control={control}\n          name={'scope.organization'}\n          helperText={formHelper('scope.organization')}\n          error={!!formHelper('scope.organization')}\n          groupBy={(option) => option.type || ''}\n          renderGroup={(group) => {\n            let groupLocaleKey = group.group.toUpperCase();\n\n            const isHistory = group.group === 'history';\n\n            return (\n              <Grid\n                key={group.key || Math.random()}\n                className={clsx({\n                  [classes.historyGroup]: isHistory,\n                })}\n              >\n                <GroupHeaderAutocomplete\n                  title={\n                    <FormattedMessage\n                      id={`APP.COMMON.FILTER.DROPDOWN.${groupLocaleKey}`}\n                      defaultMessage={capitalize(group.group)}\n                    />\n                  }\n                >\n                  {isHistory && (\n                    <AnvButton\n                      className={classes.autocompleteHeaderButton}\n                      variant={'text'}\n                      color={'primary'}\n                      onClick={handleToggleHistory}\n                    >\n                      <FormattedMessage\n                        id=\"APP.COMMON.FILTER.ARCHIVE\"\n                        defaultMessage=\"Archive\"\n                      />\n                    </AnvButton>\n                  )}\n                </GroupHeaderAutocomplete>\n\n                <Divider />\n\n                {group.children}\n\n                {isHistory && totalHistory > AUTOCOMPLETE_HISTORY_LIMIT && (\n                  <div\n                    className={clsx(\n                      classes.wrapper,\n                      classes.autocompleteFooter\n                    )}\n                  >\n                    <AnvButton\n                      variant={'text'}\n                      color={'primary'}\n                      className={classes.autocompleteFooterButton}\n                      onClick={toggleHistoryViewAll}\n                    >\n                      {historyViewAll ? (\n                        <FormattedMessage\n                          id=\"APP.COMMON.FILTER.HIDE_ALL\"\n                          defaultMessage=\"Hide\"\n                        />\n                      ) : (\n                        <FormattedMessage\n                          id=\"APP.COMMON.FILTER.VIEW_ALL\"\n                          defaultMessage=\"View all\"\n                        />\n                      )}\n                    </AnvButton>\n                  </div>\n                )}\n              </Grid>\n            );\n          }}\n        />\n\n        <AnvAccessHistoryModal\n          handleToggle={handleToggleHistory}\n          open={historyOpen}\n        />\n      </>\n    );\n  }\n);\n\nexport default ModuleRequestScopeLEA;\n","import _get from 'lodash/get';\nimport { DEFAULT_LANGUAGE } from 'src/constants';\nimport copy from 'copy-to-clipboard';\n\ninterface IFuncFieldByLocale {\n  (entity: Record<string, any>, field?: string, locale?: string): string;\n}\ninterface IFuncFieldByLocaleNullable {\n  (entity: Record<string, any> | any, field?: string, locale?: string):\n    | string\n    | null;\n}\n\nexport const isObject = (object: any): boolean =>\n  typeof object === 'object' && object !== null;\n\nexport const camelCaseToHumanable = (string: string): string => {\n  return string.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g, '$1 $2').toLowerCase();\n};\nexport const camelCaseToHumanableTitle = (string: string): string => {\n  return toTitleCase(camelCaseToHumanable(string));\n};\n\nconst lowers = [\n  'A',\n  'An',\n  'The',\n  'And',\n  'But',\n  'Or',\n  'For',\n  'Nor',\n  'As',\n  'At',\n  'By',\n  'For',\n  'From',\n  'In',\n  'Into',\n  'Near',\n  'Of',\n  'On',\n  'Onto',\n  'To',\n  'With',\n];\n\nexport function toTitleCase(\n  str: string,\n  includeAllCaps: boolean | undefined = false,\n  includeMinorWords: boolean | undefined = false,\n) {\n  let i, j;\n  str = str.replace(/([^\\W_]+[^\\s-]*) */g, function (txt) {\n    if (!/[a-z]/.test(txt) && /[A-Z]/.test(txt) && !includeAllCaps) {\n      return txt;\n    } else {\n      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n    }\n  });\n\n  if (includeMinorWords) {\n    return str;\n  } else {\n    // Certain minor words should be left lowercase unless\n    // they are the first or last words in the string\n\n    for (i = 0, j = lowers.length; i < j; i++)\n      str = str.replace(\n        new RegExp('\\\\s' + lowers[i] + '\\\\s', 'g'),\n        function (txt: string) {\n          return txt.toLowerCase();\n        },\n      );\n\n    return str;\n  }\n}\n\nexport const getNameByLang: IFuncFieldByLocale = (\n  entity,\n  field = 'name',\n  locale,\n) => {\n  return (\n    (locale && _get(entity, [field, locale])) ||\n    _get(entity, [field, DEFAULT_LANGUAGE]) ||\n    field\n  );\n};\nexport const getNameByLangNullable: IFuncFieldByLocaleNullable = (\n  entity,\n  field = 'name',\n  locale,\n) => {\n  return (\n    (locale && _get(entity, [field, locale])) ||\n    _get(entity, [field, DEFAULT_LANGUAGE]) ||\n    null\n  );\n};\n\nexport function firstLetterUppercase(string: string | undefined): string {\n  if (!string) return '';\n  return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n}\n\nexport function getQueryVariable(query = '', variable: any) {\n  const vars = query.replace('?', '').split('&');\n\n  for (let i = 0; i < vars.length; i++) {\n    const pair = vars[i].split('=');\n\n    if (decodeURIComponent(pair[0]) === variable) {\n      return decodeURIComponent(pair[1]);\n    }\n  }\n\n  return null;\n}\n\nexport function getItemById(\n  entities: Record<string, any>[] | null,\n  id: string | number | null | undefined,\n) {\n  if (!entities || !id) {\n    return null;\n  }\n\n  return entities?.find((item) => (item._id || item.id) === id);\n}\n\nexport function formatZipCode(zipCode?: string | null) {\n  if (!zipCode) {\n    return zipCode;\n  }\n\n  return zipCode;\n}\n\nexport function formatPhoneNumber(\n  phoneNumberString: string | null,\n  { intlCode = '+1' } = {},\n) {\n  if (!phoneNumberString) {\n    return '';\n  }\n\n  const cleaned = ('' + phoneNumberString).replace(/\\D/g, '');\n  const match = cleaned.match(/^(1|)?(\\d{3})(\\d{3})(\\d{4})$/);\n  if (match) {\n    const intlCodeRes = (match[1] ? '+1 ' : '') || intlCode;\n    return [intlCodeRes, '(', match[2], ') ', match[3], '-', match[4]].join('');\n  }\n\n  return null;\n}\n\nexport const arrayExcludeArray = (array: string[], arrayExclude: string[]) => {\n  return array.filter((el) => !arrayExclude.includes(el));\n};\n\nexport const isValidHex = (color: string | null | undefined): boolean => {\n  if (!color) return false;\n\n  // Validate hex values\n  if (color.substring(0, 1) === '#') color = color.substring(1);\n\n  switch (color.length) {\n    case 3:\n      return /^[0-9A-F]{3}$/i.test(color);\n    case 6:\n      return /^[0-9A-F]{6}$/i.test(color);\n    case 8:\n      return /^[0-9A-F]{8}$/i.test(color);\n    default:\n      return false;\n  }\n};\n\nexport function isHTML(str: string) {\n  const doc = new DOMParser().parseFromString(str, 'text/html');\n  return Array.from(doc.body.childNodes).some((node) => node.nodeType === 1);\n}\n\nexport const isValidObjectID = (ObjectID: string) => {\n  const checkForHexRegExp = new RegExp('^[0-9a-fA-F]{24}$');\n  return checkForHexRegExp.test(ObjectID);\n};\nexport const isValidEmail = (email: string) => {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n};\n\nexport const copyToClipboard = (text: string) => () => {\n  const textField = document.createElement('textarea');\n  textField.innerText = text;\n  document.body.appendChild(textField);\n  textField.select();\n  document.execCommand('copy');\n\n  textField.remove();\n};\n\nfunction fallbackCopyTextToClipboard(text: string) {\n  const textArea = document.createElement('textarea');\n  textArea.value = text;\n\n  // Avoid scrolling to bottom\n  textArea.style.top = '0';\n  textArea.style.left = '0';\n  textArea.style.position = 'fixed';\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    document.execCommand('copy');\n  } catch (err) {}\n\n  document.body.removeChild(textArea);\n}\nexport const copyTextToClipboard = (text: string) => () => {\n  const result = copy(text);\n  if (result) {\n    return;\n  }\n\n  if (!navigator.clipboard) {\n    fallbackCopyTextToClipboard(text);\n    return;\n  }\n\n  navigator.clipboard.writeText(text);\n};\n","export function extractHostname(url: string): string {\n  let hostname;\n  //find & remove protocol (http, ftp, etc.) and get hostname\n\n  if (url.indexOf('//') > -1) {\n    hostname = url.split('/')[2];\n  } else {\n    hostname = url.split('/')[0];\n  }\n\n  //find & remove port number\n  hostname = hostname.split(':')[0];\n  //find & remove \"?\"\n  hostname = hostname.split('?')[0];\n\n  return hostname;\n}\n\nexport function extractRootDomain(url: string): string | undefined {\n  let domain = extractHostname(url),\n    splitArr = domain.split('.'),\n    arrLen = splitArr.length;\n\n  //extracting the root domain here\n  //if there is a subdomain\n  if (arrLen > 2) {\n    domain = splitArr[arrLen - 2] + '.' + splitArr[arrLen - 1];\n    //check to see if it's using a Country Code Top Level Domain (ccTLD) (i.e. \".me.uk\")\n    if (\n      splitArr[arrLen - 2].length === 2 &&\n      splitArr[arrLen - 1].length === 2\n    ) {\n      //this is using a ccTLD\n      domain = splitArr[arrLen - 3] + '.' + domain;\n    }\n  }\n  return domain;\n}\n","export const DEFAULT_LANGUAGE = 'en';\nexport const PAGINATION_LIMIT = 20;\nexport const AUTOCOMPLETE_SERVER_LIMIT = 20;\n\nexport const AUTOCOMPLETE_HISTORY_LIMIT = 5;\n\nexport const INPUT_THROTTLE_TIME = 500;\n\nexport const PATH_TO_MODULES = '/modules';\n\nexport const AUTH_TOKEN_KEY = 'AUTH_TOKEN_KEY';\nexport const AUTH_PROFILE_KEY = 'AUTH_PROFILE_KEY';\nexport const AUTH_MODULES_KEY = 'AUTH_MODULES_KEY';\nexport const LANGUAGES_KEY = 'LANGUAGES_KEY';\nexport const TRANSLATIONS_KEY = 'TRANSLATIONS_KEY';\n\nexport const ACCESS_SCOPES = {\n  SCHOOL: 'SCHOOL',\n  AUTHORIZER: 'AUTHORIZER',\n  EMO: 'EMO',\n  ESC: 'ESC',\n  SEA: 'SEA',\n  LEA: 'LEA',\n  CMO: 'CMO',\n  DEPARTMENT: 'DEPARTMENT',\n};\n\nexport const ORGANIZATION_TYPE_CODES = {\n  AUTHORIZER: 'AUTHORIZER',\n  EMO: 'EMO',\n  ESC: 'ESC',\n  SEA: 'SEA',\n  LEA: 'LEA',\n  HEA: 'HEA',\n\n  CMO: 'CMO',\n  DEPARTMENT: 'DEPARTMENT',\n};\n\n\nexport const imagesMimeTypes = [\n  'image/png',\n  'image/jpg',\n  'image/jpeg',\n  'image/gif',\n];\n\ninterface IDateFormats {\n  [key: string]: string;\n}\n\nexport const CONTENT_STATUS = {\n  LOCAL_DRAFT: '1',\n  REMOTE_DRAFT: '2',\n  DELETED: '3',\n  PUBLISHED: '4',\n  ARCHIVED: '5',\n  EXPIRED: '6',\n};\n\nexport const DATE_FORMATS: IDateFormats = {\n  DEFAULT_FORMAT: 'MM/dd/yyyy',\n  DEFAULT_FORMAT_WITH_TIME: 'MM/dd/yyyy kk:mm',\n  DEFAULT_FORMAT_REVERSE: 'yyyy-MM-dd',\n  TIME: 'kk:mm',\n  SHORT_LETTER_MONTH_FORMAT: 'MMM d, yyyy',\n  LONG_LETTER_MONTH_FORMAT: 'MMMM do, yyyy',\n};\n","export const envConst = {\n  apiUrl: process.env.REACT_APP_API_TOOL_ENDPOINT,\n\n  launchpadUrl:\n    process.env.REACT_APP_LAUNCHPAD_BASE_URL ||\n    'https://anvilar.quartsoft.com/auth',\n};\n","import React from 'react';\nimport _get from 'lodash/get';\n\nimport {\n  camelCaseToHumanableTitle,\n  getNameByLangNullable,\n  isObject,\n} from './common';\nimport { FormattedMessage } from 'react-intl';\nimport { DEFAULT_LANGUAGE } from '../constants';\nimport { ISelectOption } from '../components/shared/form-controls/anv-select';\n\nexport function isStringObjectId(string = '') {\n  return string?.toString?.().match?.(/^[0-9a-fA-F]{24}$/);\n}\n\nexport function formErrorHelper(\n  field: string,\n  errors: Record<string, any> | null,\n  reduxErrors: Record<string, any> | null | string,\n  isArray?: boolean,\n) {\n  if (!(errors || reduxErrors)) {\n    return false;\n  }\n\n  const array = [];\n\n  if (_get(errors, field)) {\n    if (isArray) {\n      array.push(_get(errors, field)?.message);\n    } else {\n      return _get(errors, field)?.message;\n    }\n  }\n\n  if (_get(reduxErrors, field)) {\n    const errorItem = _get(reduxErrors, field);\n    // nestjs rest case\n    if (isObject(errorItem) && errorItem?.key) {\n      // errorItem.key;\n      // errorItem.defaultMessage;\n      const message = (\n        <FormattedMessage\n          id={errorItem.key || 'APP.ERROR'}\n          // defaultMessage={errorItem.defaultMessage}\n          defaultMessage={\n            errorItem.defaultMessage || `${field} ${errorItem.key}`\n          }\n          values={{\n            field: camelCaseToHumanableTitle(field),\n          }}\n        />\n      );\n      if (isArray) {\n        array.push(message);\n      } else {\n        return message;\n      }\n    } else {\n      array.push(errorItem);\n    }\n\n    // nestjs rest case\n\n    if (!isArray) {\n      return errorItem;\n    }\n  }\n\n  if (isArray && array.length) {\n    return array;\n  }\n\n  return false;\n}\nexport function formErrorHelperAutofocus(\n  field: string,\n  errors: Record<string, any> | null,\n  reduxErrors: Record<string, any> | null | string,\n) {\n  if (!(errors || reduxErrors)) {\n    return false;\n  }\n\n  if (_get(errors, field)) {\n    return true;\n  }\n\n  if (_get(reduxErrors, field)) {\n    return true;\n  }\n\n  return false;\n}\n\ninterface IPrepareOptions {\n  field?: string;\n  rightCaption?: string | JSX.Element;\n  locale?: string;\n  condition?: any;\n  customId?: string;\n  captionFunc?: (item: any) => string | JSX.Element;\n  captionBottom?: boolean;\n  fallbackFunc?: (item: any) => string;\n  disabledFunc?: (item: any) => boolean;\n  labelFunc?: (\n    item: any,\n    label: string | null | JSX.Element,\n  ) => string | null | JSX.Element;\n  fallbackField?: string;\n  sortByField?: string;\n  sortByLabel?: boolean;\n  sortDesc?: boolean;\n  disabledArray?: string[];\n  excludedArray?: string[];\n  type?: string;\n}\nexport function prepareOptions(\n  entities: Record<string, any>[] | null | undefined,\n  {\n    field = 'name',\n    rightCaption,\n    locale = DEFAULT_LANGUAGE,\n    condition,\n    customId,\n    captionFunc,\n    captionBottom,\n    fallbackFunc,\n    fallbackField,\n    sortByField,\n    sortByLabel,\n    sortDesc,\n    disabledArray,\n    disabledFunc,\n    excludedArray,\n    labelFunc,\n    type,\n  }: IPrepareOptions = {},\n): ISelectOption[] {\n  if (!entities) {\n    return [];\n  }\n\n  const options = entities?.length\n    ? entities\n        .map((item) => {\n          if (condition && !condition(item)) {\n            return null;\n          }\n\n          let label: string | JSX.Element | null = getNameByLangNullable(\n            item,\n            field,\n            locale,\n          );\n          if (!label && fallbackField) {\n            label = item?.[fallbackField];\n          }\n          if (!label && fallbackFunc) {\n            label = fallbackFunc(item);\n          }\n          if (labelFunc) {\n            label = labelFunc(item, label);\n          }\n\n          const value = customId ? item[customId] : item._id || item.id;\n\n          if (excludedArray && excludedArray?.indexOf?.(value) > -1) {\n            return null;\n          }\n\n          const disabled =\n            (disabledArray && disabledArray?.indexOf?.(value) > -1) ||\n            disabledFunc?.(item) ||\n            false;\n\n          if (!label) {\n            return null;\n          }\n          const option: ISelectOption = {\n            type,\n            value,\n            label,\n            disabled,\n            active: item?.active,\n          };\n\n          if (typeof rightCaption === 'string') {\n            option.rightCaption =\n              item?.[rightCaption] || item?.get?.(rightCaption);\n          }\n          if (rightCaption && typeof rightCaption !== 'string') {\n            option.rightCaption = rightCaption;\n          }\n\n          if (!!captionFunc) {\n            captionBottom\n              ? (option.bottomCaption = captionFunc(item))\n              : (option.rightCaption = captionFunc(item));\n          }\n\n          return option;\n        })\n        .filter((value) => !!value)\n    : [];\n\n  if (sortByLabel) {\n    options.sort((a, b) => {\n      if (\n        a?.label &&\n        b?.label &&\n        typeof a?.label === 'string' &&\n        typeof b?.label === 'string'\n      ) {\n        return sortDesc\n          ? b.label?.localeCompare?.(a.label)\n          : a.label?.localeCompare?.(b.label);\n      }\n      return 0;\n    });\n  }\n\n  return options as ISelectOption[];\n}\n","const passwordStrength = 'To weak password';\n\nexport const validatePassword = (value: string | null) => {\n  if (!value) {\n    return passwordStrength;\n  }\n\n  if (!/((?=.*[a-z])(?=.*[A-Z]))+/.test(value)) {\n    return passwordStrength;\n  }\n\n  if (!/([^a-zA-Z]|[0-9])+/.test(value)) {\n    return passwordStrength;\n  }\n\n  if (!/([@#$%?!*&.])+/.test(value)) {\n    return passwordStrength;\n  }\n\n  if (value.length < 8) {\n    return passwordStrength;\n  }\n\n  return true;\n};\n","import format from 'date-fns/format';\nimport { enUS, es } from 'date-fns/esm/locale';\nimport { DATE_FORMATS, DEFAULT_LANGUAGE } from '../constants';\n\nconst locales = {\n  en: enUS,\n  es: es,\n};\n\nconst defaultLanguage = DEFAULT_LANGUAGE;\n\n/** format date (date-fns) */\nexport function formatWLocale(\n  date: number | string | Date | null | undefined,\n  formatStr?: string,\n) {\n  if (!date) {\n    return '';\n  }\n\n  try {\n    const newDate = new Date(date);\n\n    return format(newDate || date, formatStr || DATE_FORMATS.DEFAULT_FORMAT, {\n      // @ts-ignore\n      locale: locales[window.__localeId__ || defaultLanguage], // or global.__localeId__\n    });\n  } catch (err) {\n    return '';\n  }\n}\n\nexport function getDateWithoutTimeAndZone(\n  input: string | number | Date | null | undefined,\n) {\n  try {\n    if (!input) {\n      return input;\n    }\n    const date = new Date(input);\n    const dateString = formatWLocale(date, 'yyyy-MM-dd');\n    return new Date(dateString + 'T00:00:00Z');\n  } catch (e) {\n    return input;\n  }\n}\n\nexport function getDateOnlyWithoutTimeAndZone(\n  input: string | number | Date | null | undefined,\n): Date | null | undefined {\n  try {\n    if (!input && typeof input !== 'number') {\n      return null;\n    }\n    const date = new Date(input);\n    const dateString = formatWLocale(date, 'yyyy-MM-dd');\n    return new Date(dateString + 'T00:00:00Z');\n  } catch (e) {\n    return null;\n  }\n}\n\nexport function getOnlyDate() {\n  return new Date(\n    new Date().getFullYear(),\n    new Date().getMonth(),\n    new Date().getDate(),\n    new Date().getHours(),\n    new Date().getMinutes(),\n  );\n}\n","const sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\nexport function formatBytes(bytes: number, decimals: number = 2) {\n  if (bytes === 0) return '0 B';\n  const k = 1024;\n  const dm = decimals || 2;\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n}\n","import axios from 'axios';\n\ninterface IDownloadFile {\n  url: string;\n  filename: string;\n  token?: string;\n}\n\nexport const downloadFile = ({\n  url,\n  filename,\n  token = '',\n}: IDownloadFile) => () => {\n  if (!filename) {\n    return;\n  }\n  const options = {\n    responseType: 'blob',\n    headers: {\n      Authorization: token,\n    },\n  };\n  axios\n    // @ts-ignore\n    .get(url, options)\n    .then(function (response) {\n      const reader = new window.FileReader();\n      reader.readAsDataURL(response.data);\n      reader.onload = function () {\n        const fileDataUrl = reader.result;\n\n        const downloadLink = document.createElement('a');\n        const fileName = filename;\n\n        // @ts-ignore\n        downloadLink.href = fileDataUrl;\n        downloadLink.download = fileName;\n        downloadLink.click();\n      };\n    })\n    .catch((err) => {\n      console.log({ err });\n    });\n};\n","import { IModuleAccessFilter } from 'src/stores/_helpers/interfaces';\n\nexport const prepareAccessFilterParam = (\n  accessFilter: IModuleAccessFilter | null,\n) => {\n  return accessFilter\n    ? {\n        accessScope: accessFilter?.accessScope,\n        organization: accessFilter?.scope.organization,\n        school: accessFilter?.scope.school,\n      }\n    : null;\n};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","export const getBase64FromUrl = async (\n  url: string,\n): Promise<string | ArrayBuffer | null> => {\n  const data = await fetch(url);\n  const blob = await data.blob();\n  return new Promise((resolve) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onloadend = () => {\n      const base64data = reader.result;\n      resolve(base64data);\n    };\n  });\n};\n","import React from 'react';\n\nimport { observer } from 'mobx-react-lite';\nimport { useFormContext, useWatch } from 'react-hook-form';\nimport { FormattedMessage, useIntl } from 'react-intl';\n\nimport { Collapse } from '@material-ui/core';\n\nimport { AnvSelect } from 'src/components/shared/form-controls/anv-select';\n\nimport ScopeFormSchool from './form-parts/ScopeFormSchool';\nimport ScopeFormAuthorizer from './form-parts/ScopeFormAuthorizer';\nimport ScopeFormEMO from './form-parts/ScopeFormEMO';\nimport ScopeFormESC from './form-parts/ScopeFormESC';\nimport ScopeFormSEA from './form-parts/ScopeFormSEA';\nimport ScopeFormLEA from './form-parts/ScopeFormLEA';\n\nimport { ACCESS_SCOPES } from 'src/constants';\nimport { formErrorHelper, prepareOptions } from '../../utils';\nimport { IProps } from './interfaces';\nimport { ScopeFormContext, defaultMetaStore } from './context';\n\n// interface IMetaStores {\n//   jurisdictionStore: Record<string, any>;\n//   organizationsStore: Record<string, any>;\n//   tagsStore: Record<string, any>;\n//   schoolsStore: Record<string, any>;\n//   accessHistoryStore: Record<string, any>;\n// }\n// interface IProps {\n//   metaStores?: IMetaStores;\n//   isShowActions?: boolean;\n//\n//   isShowMyData?: boolean;\n//\n//   displayEmptyTool?: boolean;\n//   displayEmptyModule?: boolean;\n//   displayEmptyAccessScope?: boolean;\n//\n//   withHistory?: boolean;\n//\n//   particularScope?: string;\n//   particularAccessScope?: string;\n//   particularTool?: string;\n//   particularModule?: string;\n//\n//   hideTool?: boolean;\n//   hideModule?: boolean;\n//   hideTags?: boolean;\n//   hideAccessScope?: boolean;\n//\n//   onlyMyAccessByModule?: string;\n//\n//   tools?: ITool[] | null;\n//   modules?: Record<string, any>[] | null;\n//   jurisdictions?: Record<string, any>[] | null;\n//   organizations?: Record<string, any>[] | null;\n//   schools?: Record<string, any>[] | null;\n//   accessScopes?: Record<string, any>[] | null;\n//\n//   accessScopeStore?: Record<string, any> | null;\n//\n//   existsData?: Record<string, any> | null;\n//   serverErrors?: Record<string, any> | null;\n// }\n\n// export const defaultMetaStore = {\n//   jurisdictionStore: {\n//     getJurisdictions: (arg: any, arg2?: any) => ({}),\n//     data: null,\n//     isFetching: false,\n//     isLoaded: false,\n//   },\n//   accessHistoryStore: {\n//     getAccessHistory: (arg: any, arg2?: any) => ({}),\n//     data: null,\n//     isFetching: false,\n//     isLoaded: false,\n//   },\n//   organizationsStore: {\n//     getOrganizations: (arg: any, arg2?: any) => ({}),\n//     data: null,\n//     data2: null,\n//     isFetching: false,\n//     isLoaded: false,\n//     total: 0,\n//     total2: 0,\n//   },\n//   tagsStore: {\n//     getTags: (arg: any, arg2?: any) => ({}),\n//     data: null,\n//     isFetching: false,\n//     isLoaded: false,\n//   },\n//   schoolsStore: {\n//     getSchools: (arg: any, arg2?: any) => ({}),\n//     data: null,\n//     isFetching: false,\n//     isLoaded: false,\n//     total: 0,\n//   },\n// };\n// export const ScopeFormContext = React.createContext<IProps>({\n//   metaStores: defaultMetaStore,\n// });\n\nexport const ScopeForm: React.FC<IProps> = observer(\n  ({\n    metaStores,\n    particularModule,\n    particularTool,\n    particularAccessScope,\n    hideTool,\n    hideModule,\n    hideTags,\n    hideAccessScope,\n    withHistory = false,\n\n    displayEmptyTool = true,\n    displayEmptyModule = true,\n    displayEmptyAccessScope = true,\n\n    onlyMyAccessByModule,\n\n    tools = [],\n    modules = [],\n    organizations = [],\n    jurisdictions = [],\n    schools = [],\n    // accessScopes = [],\n\n    accessScopeStore,\n\n    existsData,\n    serverErrors,\n    children,\n  }) => {\n    const { locale } = useIntl();\n    const { control, errors } = useFormContext();\n\n    const moduleWatcher = useWatch({\n      control,\n      name: 'module',\n      defaultValue: '',\n    });\n    const accessScopeWatcher = useWatch({\n      control,\n      name: 'accessScope',\n      defaultValue: '',\n    });\n\n    const accessScope = particularAccessScope || accessScopeWatcher;\n    //////////////////\n    const { data: accessScopes, getAccessScopes } = accessScopeStore || {};\n\n    React.useEffect(() => {\n      if (getAccessScopes) {\n        const filterAccess: Record<string, any> = {};\n\n        if (onlyMyAccessByModule) {\n          filterAccess.moduleCode = onlyMyAccessByModule;\n          filterAccess.toolCode = particularTool;\n        }\n\n        getAccessScopes({ filterAccess });\n      }\n    }, [accessScope, particularTool, onlyMyAccessByModule, getAccessScopes]);\n\n    /////// HISTORY //////\n    const {\n      accessHistoryStore: { getAccessHistory },\n    } = metaStores || defaultMetaStore;\n\n    React.useEffect(() => {\n      if ((moduleWatcher || particularModule) && withHistory) {\n        getAccessHistory({\n          moduleCode: moduleWatcher || particularModule,\n          accessScope: accessScope,\n        });\n      }\n    }, [\n      moduleWatcher,\n      particularModule,\n      accessScope,\n      withHistory,\n      getAccessHistory,\n    ]);\n    /////\n\n    const formHelper = (field: string) => {\n      return formErrorHelper(field, errors, serverErrors || {});\n    };\n\n    const toolsOptions =\n      !hideTool && tools\n        ? prepareOptions(tools, {\n            locale,\n            customId: 'code',\n          })\n        : [];\n    const moduleOptions =\n      !hideModule && modules\n        ? prepareOptions(\n            modules?.filter((item) => item?.restricted),\n            {\n              locale,\n              fallbackFunc: (item) => item?.moduleCode,\n            }\n          )\n        : [];\n    const accessScopesOptions =\n      !hideAccessScope && accessScopes\n        ? prepareOptions(accessScopes, {\n            field: 'description',\n            locale,\n            disabledFunc: (item) => item?.disabled,\n          })\n        : [];\n\n    return (\n      <ScopeFormContext.Provider\n        value={{\n          jurisdictions,\n          existsData,\n          hideTags,\n          onlyMyAccessByModule,\n          metaStores,\n          particularModule,\n\n          withHistory,\n          serverErrors,\n        }}\n      >\n        <div>\n          {!hideTool && (\n            <AnvSelect\n              required\n              displayEmpty={displayEmptyTool}\n              name={'tool'}\n              disabled={!!particularTool}\n              label={\n                <FormattedMessage\n                  id=\"LAUNCHPAD.TOOL.LABEL.TOOL\"\n                  defaultMessage=\"Tool\"\n                />\n              }\n              options={toolsOptions}\n              defaultValue={particularTool}\n            />\n          )}\n\n          {!hideModule && (\n            <AnvSelect\n              required\n              displayEmpty={displayEmptyModule}\n              name={'module'}\n              label={\n                <FormattedMessage\n                  id=\"COMMON.ACCESS.LABEL.MODULE\"\n                  defaultMessage=\"Module\"\n                />\n              }\n              disabled={!!particularModule}\n              options={moduleOptions}\n              value={particularModule}\n            />\n          )}\n\n          {!hideAccessScope && (\n            <AnvSelect\n              required\n              displayEmpty={displayEmptyAccessScope}\n              name={'accessScope'}\n              control={control}\n              label={\n                <FormattedMessage\n                  id=\"COMMON.ACCESS.LABEL.ACCESS_SCOPE\"\n                  defaultMessage=\"Access Scope\"\n                />\n              }\n              options={accessScopesOptions}\n              helperText={formHelper('accessScope')}\n              error={!!formHelper('accessScope')}\n            />\n          )}\n\n          {/* SCHOOL */}\n          <Collapse in={accessScope === ACCESS_SCOPES.SCHOOL}>\n            {accessScope === ACCESS_SCOPES.SCHOOL && (\n              <ScopeFormSchool jurisdictions={jurisdictions} />\n            )}\n          </Collapse>\n\n          {/* AUTHORIZER */}\n          <Collapse in={accessScope === ACCESS_SCOPES.AUTHORIZER}>\n            {accessScope === ACCESS_SCOPES.AUTHORIZER && (\n              <ScopeFormAuthorizer jurisdictions={jurisdictions} />\n            )}\n          </Collapse>\n\n          {/* EMO */}\n          <Collapse in={accessScope === ACCESS_SCOPES.EMO}>\n            {accessScope === ACCESS_SCOPES.EMO && <ScopeFormEMO />}\n          </Collapse>\n\n          {/* ESC */}\n          <Collapse in={accessScope === ACCESS_SCOPES.ESC}>\n            {accessScope === ACCESS_SCOPES.ESC && <ScopeFormESC />}\n          </Collapse>\n          {/* SEA */}\n          <Collapse in={accessScope === ACCESS_SCOPES.SEA}>\n            {accessScope === ACCESS_SCOPES.SEA && <ScopeFormSEA />}\n          </Collapse>\n          {/* LEA */}\n          <Collapse in={accessScope === ACCESS_SCOPES.LEA}>\n            {accessScope === ACCESS_SCOPES.LEA && (\n              <ScopeFormLEA jurisdictions={jurisdictions} />\n            )}\n          </Collapse>\n        </div>\n      </ScopeFormContext.Provider>\n    );\n  }\n);\n","import { createStyles, makeStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles((theme) =>\n  createStyles({\n    wrapper: {\n      paddingLeft: 16,\n      paddingRight: 16,\n    },\n\n    autocompleteGroupHeader: {\n      fontFamily: 'Inter',\n      fontStyle: 'normal',\n      fontWeight: 'normal',\n      fontSize: 13,\n      lineHeight: '22px',\n\n      letterSpacing: '-0.18px',\n\n      color: theme.palette.text.secondary,\n    },\n\n    mainTabs: {\n      marginBottom: theme.spacing(2),\n    },\n\n    historyGroup: {\n      fontWeight: 600,\n    },\n    autocompleteFooter: {\n      marginTop: 16,\n      marginBottom: 24,\n    },\n    autocompleteHeaderButton: {\n      '&&&': {\n        padding: 0,\n        fontSize: 13,\n        lineHeight: '22px',\n      },\n    },\n    autocompleteFooterButton: {\n      '&&&': {\n        padding: theme.spacing(0.5),\n        fontFamily: 'Inter',\n        fontWeight: 'normal',\n        fontSize: 16,\n        lineHeight: ' 24px',\n        letterSpacing: '-0.18px',\n      },\n    },\n\n    schoolAddressCaption: {\n      fontFamily: 'Inter',\n      fontStyle: 'italic',\n      fontWeight: 'normal',\n      fontSize: 13,\n      lineHeight: '22px',\n\n      color: theme.palette.text.disabled,\n    },\n\n    expandMore: {\n      transition: theme.transitions.create(['transform'], {\n        easing: theme.transitions.easing.easeIn,\n        duration: theme.transitions.duration.short,\n      }),\n    },\n    expandRotate: {\n      transform: 'rotate(180deg)',\n      transformOrigin: '50% 50%',\n    },\n  }),\n);\n","import React, { useEffect } from 'react';\nimport isEqual from 'lodash/isEqual';\n\nimport { observer } from 'mobx-react-lite';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useFormContext, useWatch } from 'react-hook-form';\n\nimport { IRequestAccessModuleScope } from 'src/models/requests';\n\nimport { AnvSelect } from 'src/components/shared/form-controls/anv-select';\nimport { AnvAutocomplete2 } from 'src/components/shared/form-controls/anv-autocomplete-2';\n\nimport {\n  ACCESS_SCOPES,\n  DEFAULT_LANGUAGE,\n  INPUT_THROTTLE_TIME,\n} from 'src/constants';\nimport { defaultMetaStore, ScopeFormContext } from '../index';\n\nimport { usePrevious } from 'src/hooks';\nimport { useDebounce } from 'src/utils/hooks';\n\nimport {\n  formErrorHelper,\n  getItemById,\n  getNameByLangNullable,\n  prepareOptions,\n} from 'src/utils';\n\nimport { useStyles } from '../styles';\n\ninterface IProps {\n  jurisdictions?: any;\n  active?: boolean;\n}\n\nconst ModuleRequestScopeSchool: React.FC<IProps> = observer(\n  ({ active, jurisdictions }) => {\n    const classes = useStyles();\n    const { control, errors, setValue, getValues } = useFormContext();\n\n    const {\n      existsData: item,\n      hideTags,\n      onlyMyAccessByModule,\n      metaStores = defaultMetaStore,\n      serverErrors = {},\n      schoolRequired,\n    } = React.useContext(ScopeFormContext) || {};\n\n    const { locale } = useIntl();\n\n    const [schoolInputValue, setSchoolInputValue] = React.useState('');\n    const schoolInputValueDef = useDebounce(\n      schoolInputValue,\n      INPUT_THROTTLE_TIME\n    );\n\n    // const [orgInputValue, setOrgInputValue] = React.useState('');\n    // const orgInputValueDef = useDebounce(orgInputValue, INPUT_THROTTLE_TIME);\n\n    const {\n      jurisdictionStore: { isFetching: isFetchingJurisdictions },\n      // organizationsStore: {\n      //   getOrganization,\n      //   getOrganizations,\n      //   data: organizations,\n      //   // organizationsMap,\n      //   total: totalOrganizations,\n      //\n      //   isFetching: isFetchingOrganizations,\n      // },\n      tagsStore: {\n        getTags,\n        total: totalTags,\n        data: tagsEntities,\n        isFetching: isFetchingTags,\n        isLoaded: isLoadedTags,\n      },\n      schoolsStore: {\n        getSchool,\n        getSchools,\n        total: totalSchools,\n        schoolsMap,\n        data: schools,\n        isFetching: isFetchingSchools,\n      },\n      accessHistoryStore: { data: accessHistory = [] },\n    } = metaStores;\n\n    const scope: IRequestAccessModuleScope = useWatch({\n      control,\n      name: 'scope',\n      defaultValue: item\n        ? item?.scope\n        : {\n            jurisdiction: null,\n            organization: null,\n            school: null,\n          },\n    });\n    const tag = useWatch({\n      control,\n      name: 'scope.tag',\n      defaultValue: item?.tag || '',\n    });\n\n    const [initialSchool] = React.useState(item?.scope?.school);\n    // const [initialOrganization] = React.useState(item?.scope?.organization);\n\n    React.useEffect(() => {\n      if (initialSchool) {\n        getSchool({ id: initialSchool });\n      }\n    }, [initialSchool, getSchool]);\n\n    const { jurisdiction, school } = scope;\n\n    // const tagsStringIds = (\n    //   tags.map((tagOption) => tagOption?.value) || []\n    // ).toString();\n\n    useEffect(() => {\n      if (!isLoadedTags) {\n        getTags({ getWithTotal: true });\n      }\n    }, [isLoadedTags, getTags]);\n\n    ///////////////////////////////////////////////////////////////\n    const entitiesAll = React.useMemo(() => {\n      const array: Record<string, any>[] = [];\n\n      if (schools) {\n        array.push(...(schools || []));\n      }\n\n      if (accessHistory) {\n        array.push(\n          ...(accessHistory\n            .map(\n              (historyItem: Record<string, any>) =>\n                historyItem?.schoolRef /*|| historyItem?.organizationRef*/\n            )\n            .filter((item: any) => !!item) || [])\n        );\n      }\n\n      return array;\n    }, [schools, accessHistory]);\n\n    const schoolStore =\n      school &&\n      (schoolsMap?.[school] ||\n        entitiesAll?.find((item) => item._id === school));\n\n    const schoolEntity = getItemById(entitiesAll || [], school);\n    const schoolEntityName = getNameByLangNullable(\n      schoolEntity,\n      'name',\n      locale\n    );\n    const schoolEntityJur = schoolEntity?.jurisdiction;\n\n    // Set values from school â–²\n    React.useEffect(() => {\n      if (schoolEntity) {\n        const schoolOrganizations = schoolEntity?.organizationsRefs;\n        let selectedOrg = schoolOrganizations?.[0]?._id;\n\n        if (!jurisdiction && selectedOrg?.jurisdiction) {\n          setValue('scope.jurisdiction', selectedOrg?.jurisdiction || '');\n        }\n      }\n    }, [schoolEntity, jurisdiction, setValue]);\n\n    const schoolInputValuePrev = usePrevious(schoolInputValueDef);\n    const tagPrev = usePrevious(tag);\n    const jurisdictionPrev = usePrevious(jurisdiction);\n\n    const isTagChangedFromItem = !isEqual(item?.tag, tag);\n\n    /** Get SCHOOLS */\n    React.useEffect(() => {\n      const jurisdictionChanged =\n        jurisdictionPrev !== jurisdiction &&\n        schoolEntityJur !== jurisdiction &&\n        !(!jurisdiction && !jurisdictionPrev && !schoolEntityJur);\n\n      const tagsChanged = tag !== tagPrev && isTagChangedFromItem;\n\n      if (\n        active &&\n        (!jurisdiction || schoolEntityJur !== jurisdiction) &&\n        schoolEntityJur\n      ) {\n        setValue('scope.jurisdiction', schoolEntityJur || '');\n      }\n\n      if (\n        active &&\n        (jurisdictionChanged ||\n          tagsChanged ||\n          (schoolInputValuePrev !== schoolInputValueDef &&\n            schoolInputValueDef !== schoolEntityName))\n      ) {\n        // if (!jurisdiction && schoolEntityJur) {\n        //   setValue('scope.jurisdiction', schoolEntityJur || '');\n        // }\n        if (\n          (jurisdictionChanged && jurisdictionPrev && jurisdiction) ||\n          (jurisdiction &&\n            schoolEntity &&\n            schoolEntity?.jurisdiction !== jurisdiction)\n        ) {\n          setValue('scope.school', '');\n        }\n\n        if (\n          tag &&\n          tagsChanged &&\n          school &&\n          schoolEntity &&\n          schoolEntity?.tags?.indexOf(tag) === -1\n        ) {\n          setValue('scope.school', '');\n        }\n\n        const data: Record<string, any> = {\n          filter: {},\n          getWithTotal: true,\n        };\n        if (locale !== DEFAULT_LANGUAGE) {\n          data.locale = locale;\n        }\n\n        if (jurisdiction) {\n          if (!data.filter?.or) {\n            data.filter.or = [];\n          }\n\n          data.filter.or.push({\n            jurisdiction: {\n              eq: jurisdiction,\n            },\n          });\n        }\n\n        if (schoolInputValueDef) {\n          data.name = schoolInputValueDef;\n          data.locale = locale;\n        }\n        if (onlyMyAccessByModule) {\n          data.filterAccess = {};\n\n          data.filterAccess.accessScope = ACCESS_SCOPES.SCHOOL;\n          data.filterAccess.moduleCode = onlyMyAccessByModule;\n        }\n\n        // if (tagsStringIds && tagsStringIds.length) {\n        //   data.filter.tags = {\n        //     all: tagsStringIds.split(','),\n        //   };\n        // }\n        if (tag) {\n          data.filter.tags = {\n            in: [tag],\n          };\n        }\n\n        getSchools(data);\n      }\n      // schoolEntity -> organizations\n      // eslint-disable-next-line\n    }, [\n      active,\n      schoolEntityName,\n      schoolEntityJur,\n      schoolInputValueDef,\n      schoolInputValuePrev,\n      jurisdiction,\n      jurisdictionPrev,\n      tag,\n      tagPrev,\n      isTagChangedFromItem,\n      item,\n      onlyMyAccessByModule,\n      locale,\n      getSchools,\n      setValue,\n      getValues,\n    ]);\n\n    const jurisdictionsOptions = prepareOptions(jurisdictions, {\n      locale,\n    });\n\n    const tagsOptions = isFetchingTags\n      ? []\n      : prepareOptions(tagsEntities, {\n          locale,\n        });\n\n    const schoolsOptionsActual = isFetchingSchools\n      ? []\n      : prepareOptions(schools, {\n          locale,\n          type: 'school',\n          captionBottom: true,\n          captionFunc: ({ address }) =>\n            prepareSchoolAddressCaption({ address, locale, classes }),\n        });\n\n    const schoolsOptions = React.useMemo(() => {\n      const isSchoolExistsInActual =\n        schoolStore &&\n        schoolsOptionsActual.findIndex(\n          (item) => item.value === schoolStore?._id\n        ) > -1;\n\n      const schoolOptionInitial =\n        !isSchoolExistsInActual && schoolStore\n          ? prepareOptions([schoolStore], {\n              locale,\n              type: 'school',\n              captionBottom: true,\n              captionFunc: ({ address }) =>\n                prepareSchoolAddressCaption({ address, locale, classes }),\n            })\n          : [];\n\n      return [...schoolOptionInitial, ...schoolsOptionsActual];\n      // [classes]\n      // eslint-disable-next-line\n    }, [schoolsOptionsActual, schoolStore, locale]);\n\n    // SCHOOL: [\n    //     'jurisdiction',\n    //     'school is public',\n    //     'organization type LEA (2)',\n    //     'autocomplete - school name ',\n    // ],\n\n    const formHelper = (field: string) => {\n      return formErrorHelper(field, errors, serverErrors);\n    };\n\n    return (\n      <>\n        <AnvSelect\n          displayEmpty\n          required={!schoolRequired}\n          name={'scope.jurisdiction'}\n          control={control}\n          disabled={isFetchingJurisdictions}\n          label={\n            <FormattedMessage\n              id=\"APP.COMMON.LABEL.JURISDICTION\"\n              defaultMessage=\"Jurisdiction\"\n            />\n          }\n          options={jurisdictionsOptions}\n          helperText={formHelper('scope.jurisdiction')}\n          error={!!formHelper('scope.jurisdiction')}\n        />\n\n        {/*<AnvAutocomplete2*/}\n        {/*  total={totalOrganizations}*/}\n        {/*  options={organizationsOptions}*/}\n        {/*  loading={isFetchingOrganizations}*/}\n        {/*  label={*/}\n        {/*    <FormattedMessage*/}\n        {/*      id=\"APP.COMMON.LABEL.ORGANIZATION.LEA\"*/}\n        {/*      defaultMessage=\"LEA Organization\"*/}\n        {/*    />*/}\n        {/*  }*/}\n        {/*  onInputChange={(event, newInputValue) => {*/}\n        {/*    setOrgInputValue(newInputValue);*/}\n        {/*  }}*/}\n        {/*  onChange={() => {*/}\n        {/*    setValue('scope.school', '');*/}\n        {/*  }}*/}\n        {/*  control={control}*/}\n        {/*  name={'scope.organization'}*/}\n        {/*  helperText={formHelper('scope.organization')}*/}\n        {/*  error={!!formHelper('scope.organization')}*/}\n        {/*  value={organization}*/}\n        {/*/>*/}\n\n        {!hideTags && (\n          <AnvAutocomplete2\n            total={totalTags || 0}\n            // multiple\n            options={tagsOptions}\n            loading={isFetchingTags}\n            label={\n              <FormattedMessage\n                id=\"APP.COMMON.LABEL.SYSTEM_LEVEL_TAG\"\n                defaultMessage=\"System Level Tag\"\n              />\n            }\n            control={control}\n            name={'scope.tag'}\n            helperText={formHelper('scope.tag')}\n            error={!!formHelper('scope.tag')}\n            value={tag}\n          />\n        )}\n\n        <AnvAutocomplete2\n          total={totalSchools}\n          required={!!schoolRequired}\n          options={schoolsOptions}\n          loading={isFetchingSchools}\n          label={\n            <FormattedMessage\n              id=\"APP.COMMON.LABEL.SCHOOL\"\n              defaultMessage=\"School\"\n            />\n          }\n          onInputChange={(event, newInputValue) => {\n            setSchoolInputValue(newInputValue);\n          }}\n          control={control}\n          name={'scope.school'}\n          helperText={formHelper('scope.school')}\n          error={!!formHelper('scope.school')}\n          value={school}\n        />\n      </>\n    );\n  }\n);\n\nexport default ModuleRequestScopeSchool;\n\nconst prepareSchoolAddressCaption = ({\n  address = {},\n  locale,\n  classes,\n}: any): string | JSX.Element => {\n  const { stateRef: state, county, city } = address;\n  const addressArr: string[] = [];\n  const countyName = getNameByLangNullable(county, 'name', locale);\n  const cityName = getNameByLangNullable(city, 'name', locale);\n\n  if (state?.code) {\n    addressArr.push(state.code);\n  }\n  if (countyName) {\n    addressArr.push(countyName);\n  }\n  if (cityName) {\n    addressArr.push(cityName);\n  }\n\n  return (\n    <span className={classes.schoolAddressCaption}>\n      {addressArr.join(', ')}\n    </span>\n  );\n};\n","import React from 'react';\n\nimport { observer } from 'mobx-react-lite';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useFormContext, useWatch } from 'react-hook-form';\n\nimport { IRequestAccessModuleScope } from 'src/models/requests';\n\nimport { AnvSelect } from 'src/components/shared/form-controls/anv-select';\nimport { AnvAutocomplete2 } from 'src/components/shared/form-controls/anv-autocomplete-2';\n\nimport {\n  formErrorHelper,\n  getItemById,\n  getNameByLangNullable,\n  prepareOptions,\n} from 'src/utils';\nimport { ACCESS_SCOPES, ORGANIZATION_TYPE_CODES } from 'src/constants';\n\nimport { defaultMetaStore, ScopeFormContext } from '../index';\n\nimport { usePrevious } from 'src/hooks';\n\ninterface IProps {\n  active?: boolean;\n  jurisdictions?: any;\n}\n\nconst ModuleScopeFilterOrganization: React.FC<IProps> = observer(\n  ({ active, jurisdictions }) => {\n    const { control, errors, setValue } = useFormContext();\n    const { locale } = useIntl();\n\n    const {\n      existsData: item,\n      onlyMyAccessByModule,\n      particularTool,\n      metaStores = defaultMetaStore,\n      serverErrors = {},\n      organizationRequired,\n    } = React.useContext(ScopeFormContext) || {};\n    const {\n      organizationTypesStore: { getOrganizationTypes, data: organizationTypes },\n      organizationsStore: {\n        getOrganizations,\n        getOrganization,\n        organizationsMap,\n        data: organizations,\n        data2: organizations2,\n        data3: organizations3,\n        total: organizationsTotal,\n        total2: organizationsTotal2,\n        total3: organizationsTotal3,\n        isFetching: isFetchingOrganizations,\n      },\n      accessHistoryStore: { data: accessHistory = [] },\n    } = metaStores;\n\n    const [initialOrganization] = React.useState(item?.scope?.organization);\n    // const [initialOrganization] = React.useState(item?.scope?.organization);\n\n    React.useEffect(() => {\n      if (initialOrganization) {\n        getOrganization({ id: initialOrganization });\n      }\n    }, [initialOrganization, getOrganization]);\n\n    // React.useEffect(() => {\n    //   if (getAccessScopes) {\n    //     const filterAccess: Record<string, any> = {};\n    //\n    //     if (onlyMyAccessByModule) {\n    //       filterAccess.moduleCode = onlyMyAccessByModule;\n    //       filterAccess.toolCode = particularTool;\n    //     }\n    //\n    //     getAccessScopes({ filterAccess });\n    //   }\n    // }, [accessScope, particularTool, onlyMyAccessByModule, getAccessScopes]);\n\n    React.useEffect(() => {\n      const filterAccess: Record<string, any> = {};\n\n      if (onlyMyAccessByModule) {\n        filterAccess.moduleCode = onlyMyAccessByModule;\n        filterAccess.toolCode = particularTool;\n      }\n\n      getOrganizationTypes({ filterAccess });\n    }, [onlyMyAccessByModule, particularTool, getOrganizationTypes]);\n\n    const entitiesAll = React.useMemo(() => {\n      const array: Record<string, any>[] = [];\n\n      if (organizations) {\n        array.push(...(organizations || []));\n      }\n\n      if (accessHistory) {\n        array.push(\n          ...(accessHistory\n            .map(\n              (historyItem: Record<string, any>) => historyItem?.organizationRef\n            )\n            .filter((item: any) => !!item) || [])\n        );\n      }\n\n      return array;\n    }, [organizations, accessHistory]);\n\n    const [orgInputValue, setOrgInputValue] = React.useState('');\n    const [org2InputValue, setOrg2InputValue] = React.useState('');\n    const [org3InputValue, setOrg3InputValue] = React.useState('');\n\n    const accessScope: string = useWatch({\n      control,\n      name: 'accessScope',\n      defaultValue: item?.accessScope || '',\n    });\n\n    const scope: IRequestAccessModuleScope = useWatch({\n      control,\n      name: 'scope',\n      defaultValue: item?.scope || {},\n    });\n\n    const {\n      jurisdiction,\n      orgType,\n      organization,\n      organizationSecondary,\n      organizationThird,\n    } = scope;\n\n    const organizationStore =\n      organization &&\n      (organizationsMap?.[organization] ||\n        entitiesAll?.find((item) => item._id === organization));\n\n    /** ORG */\n    const organizationTypeEntity = getItemById(organizationTypes, orgType);\n    const orgAccessScope = organizationTypeEntity?.accessScope;\n\n    const organizationEntity = getItemById(entitiesAll, organization);\n\n    const organizationEntityName = getNameByLangNullable(\n      organizationEntity,\n      'name',\n      locale\n    );\n\n    const organizationSecondaryEntity = getItemById(\n      organizations2,\n      organizationSecondary\n    );\n    const organizationSecondaryEntityName = getNameByLangNullable(\n      organizationSecondaryEntity,\n      'name',\n      locale\n    );\n\n    const organizationThirdEntity = getItemById(\n      organizations3,\n      organizationThird\n    );\n    const organizationThirdEntityName = getNameByLangNullable(\n      organizationThirdEntity,\n      'name',\n      locale\n    );\n\n    React.useEffect(() => {\n      if (active && accessScope !== orgAccessScope) {\n        setValue('accessScope', orgAccessScope || null);\n      }\n    }, [accessScope, orgAccessScope, active, setValue]);\n\n    const organizationEntityJurId = organizationEntity?.jurisdiction?._id;\n\n    const orgInputValuePrev = usePrevious(orgInputValue);\n    const org2InputValuePrev = usePrevious(org2InputValue);\n    const org3InputValuePrev = usePrevious(org3InputValue);\n\n    const jurisdictionPrev = usePrevious(jurisdiction);\n    const orgTypePrev = usePrevious(orgType);\n\n    const organizationSecondaryPrev = usePrevious(organizationSecondary);\n    const organizationThirdPrev = usePrevious(organizationThird);\n\n    const jurisdictionChanged =\n      item?.jurisdiction !== jurisdiction && jurisdiction !== jurisdictionPrev;\n\n    // JUR or Type changed\n    React.useEffect(() => {\n      if (active && accessScope !== ACCESS_SCOPES.SCHOOL) {\n        /** Type changed */\n        if (\n          orgType &&\n          orgTypePrev &&\n          orgTypePrev !== orgType &&\n          organizationEntity?.organizationType?._id !== orgType\n        ) {\n          setValue('scope.jurisdiction', null);\n          setValue('scope.organization', null);\n          setValue('scope.organizationSecondary', null);\n          setValue('scope.organizationThird', null);\n\n          return;\n        }\n\n        /** Jur changed */\n        if (\n          jurisdictionChanged &&\n          jurisdictionPrev &&\n          organizationEntity?.organizationType?.jurisdiction !== jurisdiction\n        ) {\n          setValue('scope.organization', null);\n          setValue('scope.organizationSecondary', null);\n          setValue('scope.organizationThird', null);\n        }\n      }\n    }, [\n      active,\n      organizationEntity,\n      accessScope,\n      orgType,\n      orgTypePrev,\n      jurisdiction,\n      jurisdictionChanged,\n      jurisdictionPrev,\n      setValue,\n    ]);\n\n    React.useEffect(() => {\n      if (organizationEntity) {\n        const leaParentOrganization = organizationEntity?.parentOrgRef;\n\n        if (!jurisdiction) {\n          setValue(\n            'scope.jurisdiction',\n            organizationEntity?.jurisdiction ||\n              leaParentOrganization?.jurisdiction ||\n              null\n          );\n        }\n      }\n    }, [\n      organizationEntity, // schoolEntity,\n      jurisdiction,\n      setValue,\n    ]);\n\n    const organizationSeaChanged =\n      item?.organizationSecondary !== organizationSecondary &&\n      organizationSecondary !== organizationSecondaryPrev;\n    const organizationLeaChanged =\n      item?.organizationThird !== organizationThird &&\n      organizationThird !== organizationThirdPrev;\n\n    // GET SEA 2  (organizations2  \"organizationSecondary\")\n    React.useEffect(() => {\n      if (active && orgType === ORGANIZATION_TYPE_CODES.DEPARTMENT) {\n        if (\n          jurisdictionChanged ||\n          (org2InputValuePrev !== org2InputValue &&\n            organizationSecondaryEntityName !== org2InputValue)\n        ) {\n          if (\n            item?.jurisdiction !== jurisdiction &&\n            jurisdictionPrev &&\n            jurisdiction &&\n            org2InputValuePrev !== org2InputValue &&\n            organizationSecondaryEntityName !== org2InputValue\n          ) {\n            setValue('scope.organizationSecondary', null);\n            setValue('scope.organizationThird', null);\n            setValue('scope.organization', null);\n          }\n\n          const data: Record<string, any> = {\n            getWithTotal: true,\n            filter: {\n              organizationType: { eq: ORGANIZATION_TYPE_CODES.SEA },\n            },\n          };\n\n          if (jurisdiction) {\n            data.filter.and = [\n              {\n                jurisdiction: {\n                  eq: jurisdiction,\n                },\n              },\n            ];\n          }\n\n          if (org2InputValue) {\n            data.name = org2InputValue;\n            data.locale = locale;\n          }\n\n          getOrganizations(data, { secondary: true });\n        }\n      }\n    }, [\n      active,\n      jurisdictionChanged,\n      jurisdiction,\n      jurisdictionPrev,\n      orgType,\n      org2InputValuePrev,\n      org2InputValue,\n      organizationSecondaryEntityName,\n      organizationSecondary,\n      organizationSecondaryPrev,\n      item,\n      locale,\n      getOrganizations,\n      setValue,\n    ]);\n\n    // GET LEA 3  (organizations3  \"organizationThird\")\n    React.useEffect(() => {\n      if (active && orgType === ORGANIZATION_TYPE_CODES.DEPARTMENT) {\n        if (\n          jurisdictionChanged ||\n          organizationSeaChanged ||\n          organizationLeaChanged\n        ) {\n          if (organizationSeaChanged && organizationSecondaryPrev) {\n            setValue('scope.organizationThird', null);\n            setValue('scope.organization', null);\n          }\n          if (\n            item?.jurisdiction !== jurisdiction &&\n            jurisdictionPrev &&\n            jurisdiction &&\n            org3InputValuePrev !== org3InputValue &&\n            organizationThirdEntityName !== org3InputValue\n          ) {\n            setValue('scope.organizationSecondary', null);\n            setValue('scope.organizationThird', null);\n            setValue('scope.organization', null);\n          }\n\n          const data: Record<string, any> = {\n            getWithTotal: true,\n            filter: {\n              organizationType: { eq: ORGANIZATION_TYPE_CODES.LEA },\n            },\n          };\n\n          if (jurisdiction) {\n            data.filter.and = [\n              {\n                jurisdiction: {\n                  eq: jurisdiction,\n                },\n              },\n            ];\n          }\n\n          if (organizationSecondary) {\n            data.filter.parentOrg = {\n              eq: organizationSecondary,\n            };\n          }\n\n          if (org3InputValue) {\n            data.name = org3InputValue;\n            data.locale = locale;\n          }\n\n          getOrganizations(data, { third: true });\n        }\n      }\n      // [org3InputValue, org3InputValuePrev, organizationLeaChanged, organizationThirdEntityName]\n      // eslint-disable-next-line\n    }, [\n      active,\n      jurisdictionChanged,\n      orgType,\n      org2InputValuePrev,\n      org2InputValue,\n      organizationSeaChanged,\n      organizationSecondaryEntityName,\n      organizationSecondary,\n      organizationSecondaryPrev,\n      jurisdiction,\n      jurisdictionPrev,\n      item,\n      locale,\n      getOrganizations,\n      setValue,\n    ]);\n\n    // GET ORG\n    React.useEffect(() => {\n      const typeChanged = orgType !== orgTypePrev;\n\n      const orgInputChanged =\n        orgInputValuePrev !== orgInputValue &&\n        organizationEntityName !== orgInputValue;\n\n      if (\n        active &&\n        orgType &&\n        (typeChanged || jurisdictionChanged || orgInputChanged)\n      ) {\n        if (!jurisdiction && organizationEntityJurId) {\n          setValue('scope.jurisdiction', organizationEntityJurId || null);\n        }\n        if (\n          (jurisdictionChanged && jurisdictionPrev && jurisdiction) ||\n          (jurisdiction &&\n            organizationEntityJurId &&\n            organizationEntityJurId !== jurisdiction)\n        ) {\n          setValue('scope.organization', null);\n        }\n\n        const data: Record<string, any> = {\n          populateParent: true,\n          getWithTotal: true,\n          // filter: { accessScope: { eq: orgAccessScope } },\n          filter: { organizationType: { eq: orgType } },\n        };\n\n        if (jurisdiction) {\n          data.filter.and = [\n            {\n              jurisdiction: {\n                eq: jurisdiction,\n              },\n            },\n          ];\n        }\n\n        if (organizationThird || organizationSecondary) {\n          data.filter.parentOrg = {\n            eq: organizationThird || organizationSecondary,\n          };\n        }\n\n        if (orgInputValue) {\n          data.name = orgInputValue;\n          data.locale = locale;\n        }\n\n        if (onlyMyAccessByModule) {\n          data.filterAccess = {};\n\n          // data.filterAccess.accessScope = ACCESS_SCOPES.LEA;\n          data.filterAccess.moduleCode = onlyMyAccessByModule;\n        }\n\n        getOrganizations(data);\n      }\n    }, [\n      active,\n      jurisdictionChanged,\n      organizationThird,\n      organizationSecondary,\n      orgType,\n      orgAccessScope,\n      orgTypePrev,\n      organizationEntityName,\n      organizationEntityJurId,\n      orgInputValue,\n      orgInputValuePrev,\n      onlyMyAccessByModule,\n      jurisdiction,\n      jurisdictionPrev,\n      item,\n      locale,\n      getOrganizations,\n      setValue,\n    ]);\n\n    const typesOptions = prepareOptions(organizationTypes, {\n      locale,\n      field: 'description',\n      disabledFunc: (item) => {\n        let disabled = item.disabled;\n        if (onlyMyAccessByModule && typeof disabled === 'undefined') {\n          disabled = true;\n        }\n\n        return disabled;\n      },\n    });\n    const jurisdictionsOptions = prepareOptions(jurisdictions, {\n      locale,\n    });\n\n    const organizationsOptions = React.useMemo(() => {\n      const organizationsOptionsActual = isFetchingOrganizations\n        ? []\n        : prepareOptions(organizations, {\n            locale,\n            type: 'organization',\n          });\n\n      const isOrganizationExistsInActual =\n        organizationStore &&\n        organizationsOptionsActual.findIndex(\n          (item) => item.value === organizationStore?._id\n        ) > -1;\n\n      const schoolOptionInitial =\n        !isOrganizationExistsInActual && organizationStore\n          ? prepareOptions([organizationStore], {\n              locale,\n              type: 'organization',\n            })\n          : [];\n\n      return [...schoolOptionInitial, ...organizationsOptionsActual];\n    }, [organizations, organizationStore, locale]);\n\n    const organizations2WithCurrentEntity = [\n      ...(organizations2 || []),\n      organizationSecondaryEntity,\n    ]\n      .filter((item) => !!item)\n      .filter((value, index, self) => {\n        return self.findIndex((subItem) => subItem._id === value._id) === index;\n      });\n    const organizations2Options = organizations2WithCurrentEntity\n      ? prepareOptions(organizations2WithCurrentEntity, {\n          locale,\n        })\n      : [];\n\n    const organizations3WithCurrentEntity = [\n      ...(organizations3 || []),\n      organizationSecondaryEntity,\n    ]\n      .filter((item) => !!item)\n      .filter((value, index, self) => {\n        return self.findIndex((subItem) => subItem._id === value._id) === index;\n      });\n    const organizations3Options = organizations3WithCurrentEntity\n      ? prepareOptions(organizations3WithCurrentEntity, {\n          locale,\n        })\n      : [];\n\n    const formHelper = (field: string) => {\n      return formErrorHelper(field, errors, serverErrors);\n    };\n\n    return (\n      <>\n        <AnvSelect\n          name={'scope.orgType'}\n          control={control}\n          required\n          label={\n            <FormattedMessage\n              id=\"APP.COMMON.LABEL.ORGANIZATION.EDUCATIONAL_ORGANIZATION_TYPE\"\n              defaultMessage=\"Educational Organization Type\"\n            />\n          }\n          options={typesOptions}\n          helperText={formHelper('scope.orgType')}\n          error={!!formHelper('scope.orgType')}\n          value={orgType}\n        />\n\n        <AnvSelect\n          displayEmpty\n          name={'scope.jurisdiction'}\n          control={control}\n          label={\n            <FormattedMessage\n              id=\"APP.COMMON.LABEL.JURISDICTION\"\n              defaultMessage=\"Jurisdiction\"\n            />\n          }\n          options={jurisdictionsOptions}\n          helperText={formHelper('scope.jurisdiction')}\n          error={!!formHelper('scope.jurisdiction')}\n          value={jurisdiction}\n        />\n\n        {orgType === ORGANIZATION_TYPE_CODES.DEPARTMENT && (\n          <>\n            <AnvAutocomplete2\n              total={organizationsTotal2}\n              options={organizations2Options}\n              loading={isFetchingOrganizations}\n              label={\n                <FormattedMessage\n                  id=\"APP.COMMON.LABEL.ORGANIZATION.SEA\"\n                  defaultMessage=\"SEA\"\n                />\n              }\n              onInputChange={(event, newInputValue) => {\n                setOrg2InputValue(newInputValue);\n              }}\n              control={control}\n              name={'scope.organizationSecondary'}\n              helperText={formHelper('scope.organizationSecondary')}\n              error={!!formHelper('scope.organizationSecondary')}\n            />\n\n            <AnvAutocomplete2\n              total={organizationsTotal3}\n              options={organizations3Options}\n              loading={isFetchingOrganizations}\n              label={\n                <FormattedMessage\n                  id=\"APP.COMMON.LABEL.ORGANIZATION.LEA\"\n                  defaultMessage=\"LEA\"\n                />\n              }\n              onInputChange={(event, newInputValue) => {\n                setOrg3InputValue(newInputValue);\n              }}\n              control={control}\n              name={'scope.organizationThird'}\n              helperText={formHelper('scope.organizationThird')}\n              error={!!formHelper('scope.organizationThird')}\n              value={organizationThird}\n            />\n          </>\n        )}\n\n        <AnvAutocomplete2\n          total={organizationsTotal}\n          required={!!organizationRequired}\n          options={organizationsOptions}\n          loading={isFetchingOrganizations}\n          label={\n            <FormattedMessage\n              id=\"APP.COMMON.LABEL.ORGANIZATION\"\n              defaultMessage=\"Organization\"\n            />\n          }\n          onInputChange={(event, newInputValue) => {\n            setOrgInputValue(newInputValue);\n          }}\n          control={control}\n          name={'scope.organization'}\n          helperText={formHelper('scope.organization')}\n          error={!!formHelper('scope.organization')}\n        />\n      </>\n    );\n  }\n);\n\nexport default ModuleScopeFilterOrganization;\n","import { ButtonGroup, ButtonGroupProps } from '@material-ui/core';\nimport React from 'react';\ninterface IProps extends ButtonGroupProps {}\nexport const AnvButtonGroup: React.FC<IProps> = ({ children, ...props }) => {\n  return <ButtonGroup {...props}>{children}</ButtonGroup>;\n};\nexport default AnvButtonGroup;\n","import { createStyles, makeStyles } from '@material-ui/core';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    iconWrapper: {\n      display: 'inline-block',\n      verticalAlign: 'text-top',\n    },\n\n    withBackground: {\n      '&::before': {\n        content: \"''\",\n        position: 'absolute',\n        // z-index: -1,\n        bottom: 4,\n        left: 4,\n        width: 15,\n        height: 13,\n        background: theme.palette.primary.light,\n        borderRadius: 2,\n        transform: 'rotate(-9.74deg)',\n      },\n    },\n\n    inherit: {\n      color: 'inherit',\n    },\n    white: {\n      color: theme.palette.common.white,\n    },\n    lightIcons: {\n      color: '#9DADAF',\n    },\n    black: {\n      color: theme.palette.common.black,\n    },\n    primary: {\n      color: theme.palette.primary.main,\n    },\n    secondary: {\n      color: theme.palette.secondary.main,\n    },\n    success: {\n      color: theme.palette.success.main,\n    },\n    info: {\n      color: theme.palette.info.main,\n    },\n    error: {\n      color: theme.palette.error.main,\n    },\n    textPrimary: {\n      color: theme.palette.text.primary,\n    },\n    textSecondary: {\n      color: theme.palette.text.secondary,\n    },\n  }),\n);\n","import { ReactComponent as ChoiceSchools } from './assets/tools/choice-schools.svg';\nimport { ReactComponent as Complaint } from './assets/tools/complaint.svg';\nimport { ReactComponent as Compliance } from './assets/tools/compliance.svg';\nimport { ReactComponent as EnrollmentApplication } from './assets/tools/enrollment-application.svg';\nimport { ReactComponent as FamilyEngagement } from './assets/tools/family-engagement.svg';\nimport { ReactComponent as FoodServices } from './assets/tools/food-services.svg';\nimport { ReactComponent as OrgTracker } from './assets/tools/org-tracker.svg';\nimport { ReactComponent as Payments } from './assets/tools/payments.svg';\nimport { ReactComponent as PrivateDataVault } from './assets/tools/private-data-vault.svg';\nimport { ReactComponent as SchoolImprovement } from './assets/tools/school-improvement.svg';\nimport { ReactComponent as SchoolPerformance } from './assets/tools/school-performance.svg';\nimport { ReactComponent as Survey } from './assets/tools/survey.svg';\nimport { ReactComponent as Teachers } from './assets/tools/teachers.svg';\nimport { ReactComponent as Transportation } from './assets/tools/transportation.svg';\n\nimport { ReactComponent as ToolDefault } from './assets/tool-default.svg';\nimport { ReactComponent as CommentPlus } from './assets/comment-plus.svg';\nimport { ReactComponent as DotsGrid } from './assets/dots-grid.svg';\nimport { ReactComponent as DotsVertical } from './assets/dots-vertical.svg';\nimport { ReactComponent as Edit } from './assets/edit.svg';\nimport { ReactComponent as EyeOutline } from './assets/eye-outline.svg';\nimport { ReactComponent as EyeOff } from './assets/eye-off.svg';\nimport { ReactComponent as KeyOutline } from './assets/key-outline.svg';\nimport { ReactComponent as Search } from './assets/search.svg';\nimport { ReactComponent as GridPlus } from './assets/view-grid-plus.svg';\nimport { ReactComponent as ViewDashboard } from './assets/view-dashboard.svg';\nimport { ReactComponent as Chevron } from './assets/chevron.svg';\nimport { ReactComponent as Plus } from './assets/plus.svg';\nimport { ReactComponent as Calendar } from './assets/calendar.svg';\nimport { ReactComponent as Clock } from './assets/clock.svg';\nimport { ReactComponent as Avatar } from './assets/avatar.svg';\nimport { ReactComponent as LaunchpadRocket } from './assets/rocket-launch.svg';\nimport { ReactComponent as BreadcrumbsSeparator } from './assets/breadcrumbs-separator.svg';\nimport { ReactComponent as School } from './assets/school.svg';\nimport { ReactComponent as ReviewList } from './assets/review-list-icon.svg';\nimport { ReactComponent as Moderation } from './assets/moderation.svg';\nimport { ReactComponent as ModerationList } from './assets/moderation-list.svg';\nimport { ReactComponent as ListBrowsing } from './assets/list-browsing.svg';\n\nimport { ReactComponent as Web } from './assets/web.svg';\nimport { ReactComponent as Filter } from './assets/filter.svg';\nimport { ReactComponent as FilterFilled } from './assets/filter-filled.svg';\nimport { ReactComponent as User } from './assets/user.svg';\nimport { ReactComponent as LogOut } from './assets/logout.svg';\nimport { ReactComponent as LogOutNew } from './assets/logOutNew.svg';\nimport { ReactComponent as Menu } from './assets/menu.svg';\nimport { ReactComponent as CloseCross } from './assets/closeCross.svg';\nimport { ReactComponent as Trash } from './assets/trash.svg';\nimport { ReactComponent as UserAccess } from './assets/user-access.svg';\nimport { ReactComponent as PaperClip } from './assets/paperclip.svg';\nimport { ReactComponent as Delete } from './assets/trash.svg';\nimport { ReactComponent as Check } from './assets/check.svg';\nimport { ReactComponent as File } from './assets/file.svg';\nimport { ReactComponent as Info } from './assets/information-outline.svg';\nimport { ReactComponent as Person } from './assets/person.svg';\nimport { ReactComponent as PersonGroup } from './assets/person-group.svg';\nimport { ReactComponent as Link } from './assets/link.svg';\nimport { ReactComponent as History } from './assets/history.svg';\nimport { ReactComponent as BuildOrg } from './assets/build-org.svg';\nimport { ReactComponent as StructureOrg } from './assets/structure-org.svg';\nimport { ReactComponent as Archive } from './assets/archive.svg';\nimport { ReactComponent as ArrowRevoke } from './assets/arrow-revoke.svg';\nimport { ReactComponent as HelpCircle } from './assets/help-circle-outline.svg';\nimport { ReactComponent as SettingsGear } from './assets/settingsGear.svg';\nimport { ReactComponent as CloseDrawer } from './assets/close-drawer.svg';\nimport { ReactComponent as HelpBox } from './assets/help-box.svg';\nimport { ReactComponent as Lock } from './assets/lock.svg';\nimport { ReactComponent as Unlock } from './assets/unlock.svg';\nimport { ReactComponent as RedirectIcon } from './assets/redirect-icon.svg';\n\nimport { ReactComponent as CodeTagIcon } from './format-text/code-tags.svg';\nimport { ReactComponent as FormatBoldIcon } from './format-text/format-bold.svg';\nimport { ReactComponent as FormatItalicIcon } from './format-text/format-italic.svg';\nimport { ReactComponent as FormatListBulletedIcon } from './format-text/format-list-bulleted.svg';\nimport { ReactComponent as FormatListNumeredIcon } from './format-text/format-list-numbered.svg';\nimport { ReactComponent as FormatQuoteCloseIcon } from './format-text/format-quote-close.svg';\nimport { ReactComponent as FormatUnderline } from './format-text/format-underline.svg';\nimport { ReactComponent as Numeric1Icon } from './format-text/numeric-1-box.svg';\nimport { ReactComponent as Numeric2Icon } from './format-text/numeric-2-box.svg';\n\nimport { ReactComponent as StatusAccepted } from './status/accepted.svg';\nimport { ReactComponent as StatusAction } from './status/action.svg';\nimport { ReactComponent as StatusDraft } from './status/draft.svg';\nimport { ReactComponent as StatusSubmitted } from './status/submitted.svg';\nimport { ReactComponent as StatusRectified } from './status/reactified.svg';\nimport { ReactComponent as StatusInvestigated } from './status/investigated.svg';\nimport { ReactComponent as StatusIncomplete } from './status/incomplete.svg';\nimport { ReactComponent as StatusWithdrawn } from './status/withdrawn.svg';\nimport { ReactComponent as StatusUnresolved } from './status/unresolved.svg';\nimport { ReactComponent as StatusResolved } from './status/resolved.svg';\nimport { ReactComponent as StatusDismissed } from './status/dismissed.svg';\nimport { ReactComponent as StatusAbandoned } from './status/abandoned.svg';\n\nexport const icons = {\n  choiceSchools: ChoiceSchools,\n  complaint: Complaint,\n  compliance: Compliance,\n  enrollmentApplication: EnrollmentApplication,\n  familyEngagement: FamilyEngagement,\n  foodServices: FoodServices,\n  orgTracker: OrgTracker,\n  payments: Payments,\n  privateDataVault: PrivateDataVault,\n  schoolImprovement: SchoolImprovement,\n  schoolPerformance: SchoolPerformance,\n  survey: Survey,\n  teachers: Teachers,\n  transportation: Transportation,\n\n  toolDefault: ToolDefault,\n  commentPlus: CommentPlus,\n  dotsGrid: DotsGrid,\n  dotsVertical: DotsVertical,\n  edit: Edit,\n  eyeOutline: EyeOutline,\n  eyeOff: EyeOff,\n  keyOutline: KeyOutline,\n  search: Search,\n  gridPlus: GridPlus,\n  viewDashboard: ViewDashboard,\n  plus: Plus,\n  chevron: Chevron,\n  clock: Clock,\n  calendar: Calendar,\n  avatar: Avatar,\n  launchpadRocket: LaunchpadRocket,\n  breadcrumbsSeparator: BreadcrumbsSeparator,\n  reviewList: ReviewList,\n  moderation: Moderation,\n  moderationList: ModerationList,\n  listBrowsing: ListBrowsing,\n\n  web: Web,\n  filter: Filter,\n  filterFilled: FilterFilled,\n  user: User,\n  logOut: LogOut,\n  logOutNew: LogOutNew,\n  menu: Menu,\n  closeCross: CloseCross,\n  userAccess: UserAccess,\n  trash: Trash,\n  paperClip: PaperClip,\n  delete: Delete,\n  check: Check,\n  file: File,\n  info: Info,\n  //\n  school: School,\n  person: Person,\n  personGroup: PersonGroup,\n  link: Link,\n  history: History,\n  buildOrg: BuildOrg,\n  structureOrg: StructureOrg,\n  archive:Archive,\n  arrowRevoke:ArrowRevoke,\n  helpCircle:HelpCircle,\n  settingsGear:SettingsGear,\n  closeDrawer:CloseDrawer,\n  helpBox:HelpBox,\n  lock:Lock,\n  unlock:Unlock,\n  redirectIcon:RedirectIcon,\n\n  tagIcon: CodeTagIcon,\n  boldIcon: FormatBoldIcon,\n  italicIcon: FormatItalicIcon,\n  listBulletedIcon: FormatListBulletedIcon,\n  listNumeredIcon: FormatListNumeredIcon,\n  quoteCloseIcon: FormatQuoteCloseIcon,\n  underlineIcon: FormatUnderline,\n  numeric1Icon: Numeric1Icon,\n  numeric2Icon: Numeric2Icon,\n\n  // complaint statuses\n  acceptedStatus: StatusAccepted,\n  actionStatus: StatusAction,\n  draftStatus: StatusDraft,\n  submittedStatus: StatusSubmitted,\n  reactifiedStatus: StatusRectified,\n  rectifiedStatus: StatusRectified,\n  investigatedStatus: StatusInvestigated,\n  incompleteStatus: StatusIncomplete,\n  withdrawnStatus: StatusWithdrawn,\n  unresolvedStatus: StatusUnresolved,\n  resolvedStatus: StatusResolved,\n  dismissedStatus: StatusDismissed,\n  abandonedStatus: StatusAbandoned,\n  //\n  moduleDefault: DotsGrid,\n  moduleSubmit: CommentPlus,\n  moduleReview: Search,\n  moduleResponse: Edit,\n  moduleView: EyeOutline,\n  moduleRespond: EyeOutline,\n  moduleAccess: KeyOutline,\n};\nconst iconsKeys: string[] = Object.keys(icons);\n\nexport const iconsVariants = iconsKeys;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { useTheme } from '@material-ui/core';\n\nimport { useStyles } from './styles';\n\nimport { ReactComponent as Survey } from './assets/tools/survey.svg';\nimport { icons, iconsVariants } from './icons';\n\ntype TIcon = typeof iconsVariants[number];\n\ninterface IIconProps {\n  color?:\n    | 'inherit'\n    | 'white'\n    | 'black'\n    | 'primary'\n    | 'secondary'\n    | 'success'\n    | 'info'\n    | 'error'\n    | 'lightIcons'\n    | 'textPrimary'\n    | 'textSecondary';\n  icon: TIcon;\n  size?: number;\n  width?: number;\n  height?: number;\n  offset?: number;\n  leftOffset?: number;\n  opacity?: number;\n  withBackground?: boolean;\n  className?: any;\n  style?: Record<string, any>;\n}\n\nconst DEFAULT_ICON_SIZE = 24;\n\nexport const AnvIcon: React.FC<IIconProps> = ({\n  icon,\n  size = DEFAULT_ICON_SIZE,\n  width,\n  height,\n  withBackground,\n  className,\n  color = 'inherit',\n  opacity = 1,\n  offset,\n  leftOffset,\n  style,\n  ...props\n}: IIconProps) => {\n  // @ts-ignore\n  const IconTag: React.JSXElementConstructor = icons[icon] || Survey;\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const styles: Record<string, any> = {\n    width: width || size,\n    height: height || size,\n    ...style,\n  };\n\n  if (leftOffset) {\n    styles.marginLeft = theme.spacing(leftOffset);\n  }\n  if (offset) {\n    styles.marginRight = theme.spacing(offset);\n  }\n\n  const colorClass = color && classes[color];\n\n  return (\n    <span\n      className={clsx('anv-icon', colorClass, classes.iconWrapper, {\n        [className]: !!className,\n        [classes.withBackground]: !!withBackground,\n        [classes.primary]: !color,\n      })}\n      style={{ ...styles, opacity }}\n      {...props}\n    >\n      <IconTag width={'100%'} height={'100%'} />\n    </span>\n  );\n};\n\nexport default AnvIcon;\n","export const FILTER_SETTINGS = {\n  FILTER_BY_ORGANIZATION: 'FILTER_BY_ORGANIZATION',\n  FILTER_BY_SCHOOL: 'FILTER_BY_SCHOOL',\n  FILTER_PARTICULAR_ORGANIZATION: 'FILTER_PARTICULAR_ORGANIZATION',\n};\n","import React from 'react';\n\nimport { observer } from 'mobx-react-lite';\nimport { useFormContext, useWatch } from 'react-hook-form';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport clsx from 'clsx';\n\nimport {\n  CircularProgress,\n  Collapse,\n  Divider,\n  Grid,\n  Menu,\n  MenuItem,\n} from '@material-ui/core';\nimport { ExpandMore } from '@material-ui/icons';\n\nimport { ITool } from 'src/models';\n\nimport { AnvSelect } from 'src/components/shared/form-controls/anv-select';\n\nimport ScopeFilterSchool from './form-parts/ScopeFormFilterSchool';\nimport ScopeFilterOrganization from './form-parts/ScopeFormFilterOrganization';\n\nimport { ACCESS_SCOPES } from 'src/constants';\nimport {\n  getItemById,\n  getNameByLangNullable,\n  prepareOptions,\n} from '../../utils';\nimport { AnvButtonGroup } from '../shared/anv-button-group';\nimport { AnvButton } from '../shared/anv-button';\nimport { AnvIcon } from '../shared/icons';\nimport { useModal } from '../../utils/hooks';\nimport { GroupHeaderAutocomplete } from '../shared/form-controls/anv-autocomplete-2/parts/GroupHeader';\nimport { AnvAccessHistoryModal } from '../scope-form/history-modal';\nimport { FILTER_SETTINGS } from './constants-filter';\n\nimport { IGetAccessHistoryParams } from '../../stores/_helpers/interfaces';\n\nimport { useStyles } from './styles';\n\ninterface IMetaStores {\n  jurisdictionStore: Record<string, any>;\n  organizationTypesStore: Record<string, any>;\n  organizationsStore: Record<string, any>;\n  tagsStore: Record<string, any>;\n  schoolsStore: Record<string, any>;\n  accessHistoryStore: Record<string, any>;\n}\ninterface IProps {\n  metaStores?: IMetaStores;\n  isShowActions?: boolean;\n\n  isShowMyData?: boolean;\n\n  displayEmptyTool?: boolean;\n  displayEmptyModule?: boolean;\n  displayEmptyAccessScope?: boolean;\n\n  withHistory?: boolean;\n\n  particularScope?: string;\n  particularAccessScope?: string;\n  particularTool?: string;\n  particularModule?: string;\n\n  hideTool?: boolean;\n  hideModule?: boolean;\n  hideTags?: boolean;\n  hideAccessScope?: boolean;\n\n  schoolRequired?: boolean;\n  organizationRequired?: boolean;\n\n  onlyMyAccessByModule?: string;\n\n  tools?: ITool[] | null;\n  modules?: Record<string, any>[] | null;\n  jurisdictions?: Record<string, any>[] | null;\n  organizations?: Record<string, any>[] | null;\n  schools?: Record<string, any>[] | null;\n  accessScopes?: Record<string, any>[] | null;\n\n  accessScopeStore?: Record<string, any> | null;\n\n  moduleSettings?: Record<string, any> | null;\n\n  existsData?: Record<string, any> | null;\n  serverErrors?: Record<string, any> | null;\n}\n\nexport const defaultMetaStore = {\n  jurisdictionStore: {\n    getJurisdictions: (arg: any, arg2?: any) => ({}),\n    data: null,\n    isFetching: false,\n    isLoaded: false,\n  },\n  accessHistoryStore: {\n    getAccessHistory: (arg: any, arg2?: any) => ({}),\n    data: null,\n    isFetching: false,\n    isLoaded: false,\n  },\n  organizationTypesStore: {\n    getOrganizationTypes: () => ({}),\n    data: null,\n    isFetching: false,\n    isLoaded: false,\n  },\n  organizationsStore: {\n    getOrganizations: (arg: any, arg2?: any) => ({}),\n    getOrganization: (arg: any, arg2?: any) => ({}),\n    data: null,\n    data2: null,\n    organizationsMap: {},\n    isFetching: false,\n    isLoaded: false,\n    total: 0,\n    total2: 0,\n  },\n  tagsStore: {\n    getTags: (arg: any, arg2?: any) => ({}),\n    data: null,\n    isFetching: false,\n    isLoaded: false,\n  },\n  schoolsStore: {\n    getSchool: (arg: any, arg2?: any) => ({}),\n    getSchools: (arg: any, arg2?: any) => ({}),\n    schoolsMap: {},\n    data: null,\n    isFetching: false,\n    isLoaded: false,\n    total: 0,\n  },\n};\nexport const ScopeFormContext = React.createContext<IProps>({\n  metaStores: defaultMetaStore,\n});\n\nexport const ScopeFormFilter: React.FC<IProps> = observer(\n  ({\n    metaStores,\n    particularModule,\n    particularTool,\n    particularAccessScope,\n    hideTool,\n    hideModule,\n    hideTags,\n    hideAccessScope,\n    withHistory = false,\n\n    schoolRequired,\n    organizationRequired,\n\n    displayEmptyTool = true,\n    displayEmptyModule = true,\n    displayEmptyAccessScope = true,\n\n    onlyMyAccessByModule,\n\n    tools = [],\n    modules = [],\n    organizations = [],\n    jurisdictions = [],\n    schools = [],\n    // accessScopes = [],\n\n    moduleSettings,\n\n    accessScopeStore,\n\n    existsData,\n    serverErrors,\n    children,\n  }) => {\n    const { locale } = useIntl();\n    const { setValue, control, register } = useFormContext();\n\n    React.useEffect(() => {\n      register('accessScope');\n    });\n\n    const classes = useStyles();\n\n    const moduleWatcher = useWatch({\n      control,\n      name: 'module',\n      defaultValue: '',\n    });\n\n    const orgTypeWatcher = useWatch({\n      control,\n      name: 'scope.orgType',\n      defaultValue: '',\n    });\n\n    //////////////////\n    const { getAccessScopes } = accessScopeStore || {};\n    const {\n      organizationTypesStore: { data: organizationTypes },\n      accessHistoryStore: {\n        getAccessHistory,\n        data: accessHistory = [],\n        isFetching: isFetchingAccessHistory,\n      },\n    } = metaStores || defaultMetaStore;\n\n    const historyActiveItems = accessHistory?.filter(\n      (historyItem: Record<string, any>) => historyItem?.active\n    );\n\n    React.useEffect(() => {\n      if (getAccessScopes) {\n        const filterAccess: Record<string, any> = {};\n\n        if (onlyMyAccessByModule) {\n          filterAccess.moduleCode = onlyMyAccessByModule;\n          filterAccess.toolCode = particularTool;\n        }\n\n        getAccessScopes({ filterAccess });\n      }\n    }, [particularTool, onlyMyAccessByModule, getAccessScopes]);\n\n    /////// HISTORY //////\n    const { handleToggleModal: handleToggleHistory, isOpen: historyOpen } =\n      useModal();\n\n    const [anchorHistory, setAnchorHistory] =\n      React.useState<HTMLButtonElement | null>(null);\n\n    const handleClickHistory = (event: React.MouseEvent<HTMLButtonElement>) => {\n      setAnchorHistory(event.currentTarget);\n    };\n\n    const handleCloseHistory = () => {\n      setAnchorHistory(null);\n    };\n\n    const handleMenuItemHistoryClick = (item: Record<string, any>) => () => {\n      handleCloseHistory();\n\n      if (item.school) {\n        setValue('scope.jurisdiction', item.schoolRef?.jurisdiction || null);\n        setValue('scope.tag', '');\n        setValue('scope.school', item.school);\n      } else if (item.organization) {\n        if (item.organizationRef?.organizationType?.accessScope) {\n          setValue(\n            'accessScope',\n            item.organizationRef?.organizationType?.accessScope\n          );\n        }\n        setValue('scope.orgType', item.organizationRef?.organizationType?._id);\n\n        setTimeout(() => {\n          setValue(\n            'scope.jurisdiction',\n            item.organizationRef?.jurisdiction || null\n          );\n          setValue('scope.organization', item.organization);\n        }, 0);\n      }\n    };\n\n    const organizationTypeEntity =\n      orgTypeWatcher && getItemById(organizationTypes, orgTypeWatcher);\n    const orgAccessScope =\n      organizationTypeEntity && organizationTypeEntity?.accessScope;\n\n    let actualOrgAccessScope =\n      orgAccessScope || existsData?.accessScope || null;\n    actualOrgAccessScope =\n      actualOrgAccessScope !== ACCESS_SCOPES.SCHOOL\n        ? actualOrgAccessScope\n        : null;\n\n    const schoolFilterAvailable =\n      !moduleSettings?.[FILTER_SETTINGS.FILTER_BY_SCHOOL] ||\n      moduleSettings?.[FILTER_SETTINGS.FILTER_BY_SCHOOL] === 'true';\n\n    const organizationFilterAvailable =\n      !moduleSettings?.[FILTER_SETTINGS.FILTER_BY_ORGANIZATION] ||\n      moduleSettings?.[FILTER_SETTINGS.FILTER_BY_ORGANIZATION] === 'true';\n\n    // const organizationFilterParticular =\n    //   moduleSettings?.[FILTER_SETTINGS.FILTER_PARTICULAR_ORGANIZATION] ===\n    //   'true';\n\n    const isTabsTypeAvailable =\n      schoolFilterAvailable && organizationFilterAvailable;\n\n    const [organizationTab, setOrganizationTab] = React.useState(\n      (existsData?.accessScope &&\n        existsData?.accessScope !== ACCESS_SCOPES.SCHOOL) ||\n        !schoolFilterAvailable\n    );\n    const handleChangeTab =\n      (isOrganization = false) =>\n      () => {\n        setOrganizationTab(isOrganization);\n\n        if (isOrganization && !organizationTab) {\n          setValue('accessScope', actualOrgAccessScope || '');\n\n          setValue('scope.jurisdiction', null);\n          setValue('scope.organizationThird', null);\n          setValue('scope.organizationSecondary', null);\n          setValue('scope.organization', null);\n        }\n\n        if (!isOrganization && organizationTab) {\n          setValue('accessScope', ACCESS_SCOPES.SCHOOL);\n          setValue('scope.orgType', null);\n\n          setValue('scope.jurisdiction', null);\n          setValue('scope.tags', null);\n          setValue('scope.school', null);\n        }\n      };\n\n    React.useEffect(() => {\n      if (withHistory && (moduleWatcher || particularModule)) {\n        const payload: IGetAccessHistoryParams = {\n          moduleCode: moduleWatcher || particularModule,\n        };\n\n        if (!organizationTab) {\n          payload.accessScope = ACCESS_SCOPES.SCHOOL;\n        }\n\n        if (organizationTab) {\n          payload.isOrganization = true;\n        }\n\n        getAccessHistory(payload);\n      }\n\n      // const ready =\n      //   (accessScope !== ACCESS_SCOPES.SCHOOL && organizationTab) ||\n      //   (accessScope === ACCESS_SCOPES.SCHOOL && !organizationTab);\n      // if (\n      //   ready &&\n      //   withHistory &&\n      //   (moduleWatcher || particularModule) &&\n      //   (accessScope || organizationTab)\n      // ) {\n      //   const payload: IGetAccessHistoryParams = {\n      //     moduleCode: moduleWatcher || particularModule,\n      //   };\n      //\n      //   if (accessScope && !organizationTab) {\n      //     payload.accessScope = accessScope;\n      //   }\n      //\n      //   if (organizationTab) {\n      //     payload.isOrganization = true;\n      //   }\n      //\n      //   getAccessHistory(payload);\n      // }\n    }, [\n      organizationTab,\n      moduleWatcher,\n      particularModule,\n      // accessScope,\n      withHistory,\n      getAccessHistory,\n    ]);\n    ///// history end\n\n    const toolsOptions =\n      !hideTool && tools\n        ? prepareOptions(tools, {\n            locale,\n            customId: 'code',\n          })\n        : [];\n    const moduleOptions =\n      !hideModule && modules\n        ? prepareOptions(\n            modules?.filter((item) => item?.restricted),\n            {\n              locale,\n              fallbackFunc: (item) => item?.moduleCode,\n            }\n          )\n        : [];\n\n    return (\n      <ScopeFormContext.Provider\n        value={{\n          jurisdictions,\n          existsData,\n          hideTags,\n          onlyMyAccessByModule,\n          metaStores,\n          particularModule,\n          particularTool,\n\n          withHistory,\n          serverErrors,\n\n          schoolRequired,\n          organizationRequired,\n        }}\n      >\n        <div>\n          {!hideTool && (\n            <AnvSelect\n              required\n              displayEmpty={displayEmptyTool}\n              name={'tool'}\n              disabled={!!particularTool}\n              label={\n                <FormattedMessage\n                  id=\"LAUNCHPAD.TOOL.LABEL.TOOL\"\n                  defaultMessage=\"Tool\"\n                />\n              }\n              options={toolsOptions}\n              defaultValue={particularTool}\n            />\n          )}\n\n          {!hideModule && (\n            <AnvSelect\n              required\n              displayEmpty={displayEmptyModule}\n              name={'module'}\n              label={\n                <FormattedMessage\n                  id=\"COMMON.ACCESS.LABEL.MODULE\"\n                  defaultMessage=\"Module\"\n                />\n              }\n              disabled={!!particularModule}\n              options={moduleOptions}\n              value={particularModule}\n            />\n          )}\n\n          <Grid\n            container\n            justify={'space-between'}\n            alignItems={'center'}\n            className={classes.mainTabs}\n          >\n            <Grid item>\n              {isTabsTypeAvailable && !particularAccessScope && (\n                <AnvButtonGroup>\n                  <AnvButton\n                    inactive={!organizationTab}\n                    variant={organizationTab ? 'outlined' : 'contained'}\n                    onClick={handleChangeTab(false)}\n                  >\n                    <FormattedMessage\n                      id=\"APP.COMMON.FILTER.HISTORY.BY_SCHOOL\"\n                      defaultMessage=\"By School\"\n                    />\n                  </AnvButton>\n                  <AnvButton\n                    inactive={organizationTab}\n                    variant={!organizationTab ? 'outlined' : 'contained'}\n                    onClick={handleChangeTab(true)}\n                  >\n                    <FormattedMessage\n                      id=\"APP.COMMON.FILTER.HISTORY.BY_ORGANIZATION\"\n                      defaultMessage=\"By Organization\"\n                    />\n                  </AnvButton>\n                </AnvButtonGroup>\n              )}\n            </Grid>\n\n            <Grid item>\n              {!!historyActiveItems?.length && (\n                <>\n                  <AnvButton\n                    disabled={isFetchingAccessHistory}\n                    size={'small'}\n                    variant={'text'}\n                    color={'primary'}\n                    startIcon={<AnvIcon icon={'history'} size={16} />}\n                    endIcon={\n                      isFetchingAccessHistory ? (\n                        <CircularProgress size={12} />\n                      ) : (\n                        <ExpandMore\n                          className={clsx(classes.expandMore, {\n                            [classes.expandRotate]: !!anchorHistory,\n                          })}\n                        />\n                      )\n                    }\n                    onClick={handleClickHistory}\n                  >\n                    <FormattedMessage\n                      id=\"APP.COMMON.FILTER.HISTORY.BUTTON\"\n                      defaultMessage=\"Recently Viewed\"\n                    />\n                  </AnvButton>\n\n                  <Menu\n                    id=\"lock-menu\"\n                    open={!!anchorHistory}\n                    anchorEl={anchorHistory}\n                    onClose={handleCloseHistory}\n                    keepMounted\n                    anchorOrigin={{\n                      vertical: 'bottom',\n                      horizontal: 'right',\n                    }}\n                    transformOrigin={{\n                      vertical: 'top',\n                      horizontal: 'right',\n                    }}\n                  >\n                    <GroupHeaderAutocomplete\n                      title={\n                        <FormattedMessage\n                          id={'APP.COMMON.FILTER.HISTORY.HEADER'}\n                          defaultMessage={'Recently viewed'}\n                        />\n                      }\n                    >\n                      <AnvButton\n                        className={classes.autocompleteHeaderButton}\n                        variant={'text'}\n                        color={'primary'}\n                        onClick={handleToggleHistory}\n                      >\n                        <FormattedMessage\n                          id=\"APP.COMMON.FILTER.ARCHIVE\"\n                          defaultMessage=\"Archive\"\n                        />\n                      </AnvButton>\n                    </GroupHeaderAutocomplete>\n\n                    <Divider />\n\n                    {historyActiveItems.map((item: Record<string, any>) => {\n                      const name =\n                        getNameByLangNullable(\n                          item?.organizationRef,\n                          'name',\n                          locale\n                        ) ||\n                        getNameByLangNullable(item?.schoolRef, 'name', locale);\n\n                      if (!name) return null;\n\n                      return (\n                        <MenuItem\n                          key={item?._id}\n                          onClick={handleMenuItemHistoryClick(item)}\n                        >\n                          {name}\n                        </MenuItem>\n                      );\n                    })}\n                  </Menu>\n\n                  <AnvAccessHistoryModal\n                    handleToggle={handleToggleHistory}\n                    open={historyOpen}\n                  />\n                </>\n              )}\n            </Grid>\n          </Grid>\n\n          {/* SCHOOL */}\n          <Collapse in={!organizationTab}>\n            <ScopeFilterSchool\n              active={!organizationTab}\n              jurisdictions={jurisdictions}\n            />\n            {/*{!organizationTab && (*/}\n            {/*  <ScopeFormSchool jurisdictions={jurisdictions} />*/}\n            {/*)}*/}\n          </Collapse>\n\n          {/* Org */}\n          <Collapse in={organizationTab}>\n            <ScopeFilterOrganization\n              active={organizationTab}\n              jurisdictions={jurisdictions}\n            />\n            {/*{organizationTab && <ScopeFormLEA jurisdictions={jurisdictions} />}*/}\n          </Collapse>\n        </div>\n      </ScopeFormContext.Provider>\n    );\n  }\n);\n","import React from 'react';\nimport {\n  Dialog,\n  DialogProps,\n  DialogTitle,\n  IconButton,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\n\nimport mixins from 'src/styles/mixins';\n\ninterface IProps extends DialogProps {\n  title?: any;\n  handleClose: () => void;\n  open: boolean;\n}\n\nexport const AnvDialog: React.FC<IProps> = ({\n  handleClose,\n  open = false,\n  title,\n  children,\n  ...rest\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Dialog\n      {...rest}\n      onClose={handleClose}\n      open={open}\n      classes={{\n        paper: classes.paper,\n      }}\n    >\n      <IconButton\n        size={'small'}\n        onClick={handleClose}\n        className={classes.closeButton}\n      >\n        <CloseIcon />\n      </IconButton>\n\n      {!!title && <DialogTitle>{title}</DialogTitle>}\n      {children}\n    </Dialog>\n  );\n};\n\nexport default AnvDialog;\nexport const AnvModal = AnvDialog;\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    paper: {\n      ...mixins.scrollBar,\n\n      position: 'relative',\n      padding: theme.spacing(3, 4),\n\n      [theme.breakpoints.up('md')]: {\n        padding: theme.spacing(4, 5),\n        minWidth: 640,\n      },\n    },\n    closeButton: {\n      position: 'absolute',\n      top: theme.spacing(1.5),\n      right: theme.spacing(1.5),\n    },\n  })\n);\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Typography, TypographyProps } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\n\ninterface IProps extends TypographyProps {\n  component?: React.ElementType<React.HTMLAttributes<HTMLElement>>;\n  className?: string;\n}\n\nexport const TextH1: React.FC<IProps> = ({\n  children,\n  className,\n  component,\n  align = 'center',\n  ...other\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Typography\n      className={clsx(classes.textH1, {\n        // @ts-ignore\n        [className]: !!className,\n      })}\n      component={component || 'h1'}\n      {...other}\n    >\n      {children}\n    </Typography>\n  );\n};\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    textH1: {\n      fontFamily: 'Epilogue',\n      fontSize: 36,\n      fontStyle: 'normal',\n      fontWeight: 700,\n      lineHeight: '37px',\n\n      [theme.breakpoints.up('md')]: {\n        fontSize: 40,\n        lineHeight: '48px',\n      },\n    },\n  })\n);\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Typography, TypographyProps } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\n\ninterface IProps extends TypographyProps {\n  component?: React.ElementType<React.HTMLAttributes<HTMLElement>>;\n  className?: string;\n  divider?: boolean;\n}\n\nexport const TextH2: React.FC<IProps> = ({\n  children,\n  className,\n  component,\n  divider,\n  ...other\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Typography\n      className={clsx(classes.textH2, {\n        // @ts-ignore\n        [className]: !!className,\n        [classes.divider]: !!divider,\n      })}\n      component={component || 'h2'}\n      {...other}\n    >\n      {children}\n    </Typography>\n  );\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    textH2: {\n      // paddingBottom: theme.spacing(2),\n\n      fontSize: 24,\n      lineHeight: '30px',\n      fontWeight: 600,\n      letterSpacing: '-0.02em',\n    },\n    divider: {\n      // borderBottom: `1px solid ${theme.palette.common.divider}`,\n      borderBottom: `1px solid grey`,\n    },\n  })\n);\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Typography, TypographyProps } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\n\ninterface IProps extends TypographyProps {\n  component?: React.ElementType<React.HTMLAttributes<HTMLElement>>;\n  className?: string;\n  divider?: boolean;\n}\n\nexport const TextH3: React.FC<IProps> = ({\n  children,\n  className,\n  component,\n  divider,\n  ...other\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Typography\n      className={clsx(classes.textH3, {\n        // @ts-ignore\n        [className]: !!className,\n        [classes.divider]: !!divider,\n      })}\n      component={component || 'h3'}\n      {...other}\n    >\n      {children}\n    </Typography>\n  );\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    textH3: {\n      fontSize: 26,\n      lineHeight: '32px',\n      fontWeight: 600,\n      letterSpacing: '-0.02em',\n    },\n    divider: {\n      borderBottom: `1px solid grey`,\n    },\n  })\n);\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Typography, TypographyProps } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\n\ninterface IProps extends TypographyProps {\n  component?: React.ElementType<React.HTMLAttributes<HTMLElement>>;\n  className?: string;\n  divider?: boolean;\n}\n\nexport const TextH5: React.FC<IProps> = ({\n  children,\n  className,\n  component,\n  divider,\n  ...other\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Typography\n      className={clsx(classes.textH5, {\n        // @ts-ignore\n        [className]: !!className,\n        [classes.divider]: !!divider,\n      })}\n      component={component || 'h5'}\n      {...other}\n    >\n      {children}\n    </Typography>\n  );\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    textH5: {\n      fontSize: 16,\n      lineHeight: '24px',\n      fontWeight: 600,\n      letterSpacing: '-0.02em',\n    },\n    divider: {\n      borderBottom: `1px solid grey`,\n    },\n  })\n);\n","import React from 'react';\nimport { Typography, TypographyProps } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\n\ninterface IProps extends TypographyProps {\n  component?: React.ElementType<React.HTMLAttributes<HTMLElement>>;\n  bold?: boolean;\n  semiBold?: boolean;\n  className?: string;\n}\nexport const TextBody: React.FC<IProps> = ({\n  children,\n  className,\n  component,\n  semiBold,\n  bold,\n  ...other\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Typography\n      className={clsx(classes.textBody, {\n        // @ts-ignore\n        [className]: !!className,\n        [classes.semiBold]: !!semiBold,\n        [classes.bold]: !!bold,\n      })}\n      component={component || 'span'}\n      {...other}\n    >\n      {children}\n    </Typography>\n  );\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    textBody: {\n      fontFamily: 'Inter',\n      fontSize: 13,\n      lineHeight: '22px',\n      fontWeight: 400,\n    },\n    semiBold: {\n      fontWeight: 600,\n    },\n    bold: {\n      fontWeight: 'bold',\n    },\n  })\n);\n","import React from 'react';\nimport { Typography, TypographyProps } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\n\ninterface IProps extends TypographyProps {\n  component?: React.ElementType<React.HTMLAttributes<HTMLElement>>;\n  bold?: boolean;\n  semiBold?: boolean;\n  muted?: boolean;\n  className?: string;\n}\nexport const TextBody2: React.FC<IProps> = ({\n  children,\n  className,\n  component,\n  semiBold,\n  bold,\n  muted,\n  ...other\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Typography\n      className={clsx(classes.textBody, {\n        // @ts-ignore\n        [className]: !!className,\n        [classes.semiBold]: !!semiBold,\n        [classes.bold]: !!bold,\n        [classes.muted]: !!muted,\n      })}\n      component={component || 'span'}\n      {...other}\n    >\n      {children}\n    </Typography>\n  );\n};\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    textBody: {\n      fontFamily: 'Inter',\n      fontSize: 16,\n      lineHeight: '22px',\n      fontWeight: 400,\n    },\n\n    semiBold: {\n      fontWeight: 600,\n    },\n    bold: {\n      fontWeight: 'bold',\n    },\n\n    muted: {\n      color: theme.palette.text.secondary,\n    },\n  })\n);\n","import { makeStyles, Theme } from '@material-ui/core';\n\nexport const useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    width: '976px',\n    borderRadius: '0 0 6px 6px',\n\n    '& .MuiTab-wrapper': {\n      padding: theme.spacing(2, 0, 2, 0),\n      textTransform: 'none',\n      fontFamily: 'Inter',\n      fontStyle: 'normal',\n      fontWeight: 600,\n      fontSize: '16px',\n      lineHeight: '18px',\n      color: theme.palette.brand.main,\n    },\n    '& .MuiTabs-flexContainer': {\n      padding: theme.spacing(0, 3),\n    },\n    '& .MuiTabs-indicator': {\n      backgroundColor: theme.palette.brand.main,\n    },\n  },\n  tabs: {\n    borderBottom: '1px solid #03393D30',\n    fontFamily: 'Inter',\n    fontSize: '16px',\n    fontWeight: 600,\n    lineHeight: '24px',\n\n    [theme.breakpoints.up('md')]: {\n      paddingLeft: theme.spacing(3),\n      paddingRight: theme.spacing(3),\n    },\n  },\n  tab: {\n    fontFamily: 'Inter',\n    fontSize: '16px',\n    fontWeight: 400,\n    lineHeight: '24px',\n    color: theme.palette.brand.main,\n    textTransform: 'unset',\n\n    '&.Mui-selected': {\n      fontWeight: 600,\n    },\n  },\n}));\n","import React from 'react';\nimport { useStyles } from './styles';\nimport { Tab, Tabs } from '@material-ui/core';\n\ninterface IProps {\n  labels: (React.ReactNode | string)[];\n  activeIndex?: number;\n  handleChange: (event: React.ChangeEvent<{}>, newValue: number) => void;\n}\n\nfunction a11yProps(index: any, label?: string) {\n  return {\n    id: `tab-${index}`,\n    'aria-controls': `tabpanel-${index}`,\n  };\n}\n\nexport const AnvTabs: React.FC<IProps> = ({\n  labels,\n  activeIndex = 0,\n  handleChange,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Tabs\n      value={activeIndex}\n      onChange={handleChange}\n      aria-label=\"tabs\"\n      className={classes.tabs}\n      variant=\"scrollable\"\n      scrollButtons=\"off\"\n    >\n      {labels.map((label, index) => {\n        return (\n          <Tab\n            key={index}\n            className={classes.tab}\n            label={label}\n            {...a11yProps(index)}\n          />\n        );\n      })}\n    </Tabs>\n  );\n};\n","import { makeStyles, createStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles((theme) =>\n  createStyles({\n    commonControl: {\n      marginBottom: theme.spacing(2),\n    },\n\n    filterControl: {\n      marginTop: 2,\n      minHeight: 24,\n      marginBottom: 0,\n\n      '& input': {\n        background: theme.palette.common.white,\n      },\n      '& .MuiInputBase-adornedEnd': {\n        background: theme.palette.common.white,\n      },\n    },\n  }),\n);\n","import React from 'react';\nimport { HeaderGroup } from 'react-table';\n\nimport clsx from 'clsx';\nimport { useIntl } from 'react-intl';\nimport { TextField } from '@material-ui/core';\n\nimport {\n  AnvSelect,\n  ISelectOption,\n} from 'src/components/shared/form-controls/anv-select';\nimport { AnvDatepicker } from 'src/components/shared/form-controls/anv-datepicker/anv-datepicker';\n\nimport { FILTER_TYPES } from 'src/constants';\n\nimport { useStyles } from './styles';\n\nexport interface CustomHeaderGroup extends HeaderGroup {\n  accessor?: () => string;\n\n  filterable?: boolean;\n  filterType?: string;\n  filterOptions?: ISelectOption[];\n  sortable?: boolean;\n  headerString?: string;\n}\n\ninterface IProps {\n  column: CustomHeaderGroup;\n  handleChangeFilter: (value: any) => void;\n  handleChangePhone: (ev: any) => void;\n  handleChangeFilterDate: (name: string, date: any) => void;\n  value: any;\n}\n\nexport const AnvTableHeadFilter: React.FC<IProps> = ({\n  // name,\n  column,\n  value,\n  handleChangeFilter,\n  handleChangeFilterDate,\n  handleChangePhone,\n}) => {\n  const classes = useStyles();\n  const { formatMessage } = useIntl();\n\n  // let name = column?.accessor?.() || column?.accessor || column?.id;\n  let name = column?.id;\n\n  if (\n    (column?.filterType === FILTER_TYPES.boolean && column?.filterOptions) ||\n    column?.filterType === FILTER_TYPES.select\n  ) {\n    return (\n      <AnvSelect\n        name={column.id}\n        className={clsx('filterInput', 'withoutLabel', classes.filterControl)}\n        disabled={\n          !(column?.filterOptions?.length || column?.filterOptions?.length)\n        }\n        options={column.filterOptions || []}\n        aria-label={`${formatMessage({\n          id: 'APP.COMMON.LABEL.FILTER_BY',\n          defaultMessage: 'Filter by',\n        })} ${column.headerString || ''}`}\n        onChange={handleChangeFilter}\n        value={value}\n        displayEmpty\n      />\n    );\n  }\n\n  if (column?.filterType === FILTER_TYPES.date) {\n    return (\n      <AnvDatepicker\n        name={name}\n        className={clsx('filterInput', 'withoutLabel', classes.filterControl)}\n        value={value}\n        onChange={(date) => handleChangeFilterDate(name, date)}\n        aria-label={`${formatMessage({\n          id: 'APP.COMMON.LABEL.FILTER_BY',\n          defaultMessage: 'Filter by',\n        })} ${column.headerString || ''}`}\n        placeholder={column.headerString || ''}\n        // clearable={true}\n        // clearLabel={formatMessage({\n        //   id: \"DATEPICKER.CLEAR\",\n        //   defaultMessage: \"Clear\",\n        // })}\n      />\n    );\n  }\n\n  return (\n    <TextField\n      name={name}\n      className={clsx('withoutLabel', 'filterInput', classes.filterControl)}\n      size={'small'}\n      aria-label={`${formatMessage({\n        id: 'APP.COMMON.LABEL.FILTER_BY',\n        defaultMessage: 'Filter by',\n      })} ${column.headerString || ''}`}\n      placeholder={column.headerString || ''}\n      variant={'filled'}\n      onChange={handleChangeFilter}\n      value={value}\n    />\n  );\n};\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport { Grid } from '@material-ui/core';\n\nimport { Pagination, PaginationItem } from '@material-ui/lab';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\n\nimport { IPagination } from 'src/stores/_helpers/interfaces';\n\nimport AnvButton from 'src/components/shared/anv-button';\n\ninterface IProps {\n  loading?: boolean;\n  pagination: IPagination;\n  totalPages: number;\n  page?: number;\n  handleChangePage?: (ev: React.ChangeEvent<unknown>, value: number) => void;\n}\nexport const AnvPaginationMui: React.FC<IProps> = ({\n  loading = false,\n  pagination,\n  page = 1,\n  totalPages,\n  handleChangePage,\n}) => {\n  if (!totalPages || totalPages < 2) {\n    return null;\n  }\n\n  return (\n    <Grid container justify={'center'} style={{ marginTop: 40 }}>\n      <Grid item>\n        <Pagination\n          disabled={loading}\n          count={pagination.totalPages}\n          page={+page}\n          onChange={handleChangePage}\n          variant=\"outlined\"\n          color=\"primary\"\n          renderItem={(item) => {\n            if (item.type === 'previous') {\n              return (\n                <AnvButton\n                  size={'small'}\n                  style={{ marginRight: 16 }}\n                  disabled={item.disabled}\n                  onClick={item.onClick}\n                  startIcon={<ArrowBackIosIcon fontSize={'small'} />}\n                  color={'primary'}\n                >\n                  <FormattedMessage id=\"APP.BACK\" defaultMessage=\"Back\" />\n                </AnvButton>\n              );\n            }\n            if (item.type === 'next') {\n              return (\n                <AnvButton\n                  size={'small'}\n                  style={{ marginLeft: 16 }}\n                  endIcon={<ArrowForwardIosIcon fontSize={'small'} />}\n                  disabled={item.disabled}\n                  onClick={item.onClick}\n                  color={'primary'}\n                >\n                  <FormattedMessage id=\"APP.NEXT\" defaultMessage=\"Next\" />\n                </AnvButton>\n              );\n            }\n\n            return <PaginationItem {...item} />;\n          }}\n        />\n      </Grid>\n    </Grid>\n  );\n};\n","import React from 'react';\nimport { Tooltip, TooltipProps } from '@material-ui/core';\n\ninterface IProps extends TooltipProps {\n  // children?: JSX.Element;\n}\n\nexport const AnvTooltip: React.FC<IProps> = ({ title, children, ...rest }) => {\n  if (!(children && title)) {\n    return null;\n  }\n\n  return (\n    <Tooltip title={title} placement=\"bottom-start\" {...rest}>\n      {children}\n    </Tooltip>\n  );\n};\n\nexport default AnvTooltip;\n","import React from 'react';\n\nimport { Controller } from 'react-hook-form';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport {\n  KeyboardDatePicker,\n  KeyboardDateTimePicker,\n  KeyboardDateTimePickerProps,\n} from '@material-ui/pickers';\nimport clsx from 'clsx';\nimport { Control } from 'react-hook-form/dist/types/form';\nimport { DATE_FORMATS } from '../../../../constants';\n\ninterface IProps extends Partial<KeyboardDateTimePickerProps> {\n  name: string;\n  control?: Control;\n  helperText?: string;\n  format?: string;\n  disabled?: boolean;\n  required?: boolean;\n  fullWidth?: boolean;\n  autoOk?: boolean;\n  label?: any;\n  className?: any;\n  isTime?: boolean;\n  // value: object | string | number | Date | null | undefined;\n  // onChange: (date: MaterialUiPickersDate | null, value?: string | null) => void;\n  // value?: any;\n}\n\nexport const AnvDatepicker: React.FC<IProps> = ({\n  name,\n  label,\n  className = '',\n  required,\n  disabled = false,\n  control,\n  format,\n  fullWidth = true,\n  autoOk = true,\n  value,\n  ref,\n  isTime = false,\n  ...rest\n}) => {\n  const classes = useStyles();\n\n  const defaultFormat = isTime\n    ? `${DATE_FORMATS.DEFAULT_FORMAT} | ${DATE_FORMATS.TIME}`\n    : DATE_FORMATS.DEFAULT_FORMAT;\n  const Component = isTime ? KeyboardDateTimePicker : KeyboardDatePicker;\n\n  if (control) {\n    return (\n      <Controller\n        as={\n          // @ts-ignore\n          <Component\n            ampm={false}\n            className={clsx(className, classes.root)}\n            fullWidth={fullWidth}\n            autoOk={autoOk}\n            disabled={disabled}\n            inputVariant=\"filled\"\n            variant=\"inline\"\n            format={format || defaultFormat}\n            label={label}\n            required={required}\n            orientation={'portrait'}\n            rightArrowButtonProps={{\n              size: 'small',\n            }}\n            leftArrowButtonProps={{\n              size: 'small',\n            }}\n            {...rest}\n          />\n        }\n        control={control}\n        name={name}\n      />\n    );\n  }\n\n  // @ts-ignore\n  return (\n    //  @ts-ignore\n    <Component\n      className={clsx(className, classes.root)}\n      fullWidth={fullWidth}\n      autoOk={autoOk}\n      disabled={disabled}\n      inputVariant=\"filled\"\n      variant=\"inline\"\n      format={format || defaultFormat}\n      label={label}\n      required={required}\n      orientation={'portrait'}\n      rightArrowButtonProps={{\n        size: 'small',\n      }}\n      leftArrowButtonProps={{\n        size: 'small',\n      }}\n      value={value}\n      {...rest}\n    />\n  );\n  // from example - https://codesandbox.io/s/react-hook-form-v6-controller-forked-fm9bi?file=/src/Mui.js:726-1321\n};\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      '& .MuiFilledInput-adornedEnd': {\n        '& .MuiInputBase-input.MuiFilledInput-input': {\n          paddingRight: 0,\n        },\n        paddingRight: 0,\n      },\n\n      '& .MuiButtonBase-root': {\n        padding: theme.spacing(1),\n        marginRight: 0,\n        marginLeft: theme.spacing(1),\n      },\n      '& .MuiButton-root.MuiButton-text': {\n        padding: theme.spacing(1, 2),\n        marginRight: 0,\n        marginLeft: theme.spacing(1),\n      },\n    },\n  })\n);\n","import React from 'react';\nimport clsx from 'clsx';\nimport {\n  FormControl,\n  FormHelperText,\n  InputLabel,\n  MenuItem,\n  Select,\n} from '@material-ui/core';\nimport { Controller } from 'react-hook-form';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport { SelectProps } from '@material-ui/core/Select';\nimport { Control } from 'react-hook-form/dist/types/form';\n\nexport interface ISelectOption {\n  label: string | JSX.Element;\n  value: string | number;\n  rightCaption?: string | React.ReactNode | JSX.Element;\n  bottomCaption?: string | JSX.Element;\n  disabled?: boolean;\n  type?: string;\n\n  active?: boolean;\n}\n\ninterface IProps extends SelectProps {\n  loading?: boolean;\n  name: string;\n  control?: Control;\n  helperText?: string | JSX.Element;\n  options: ISelectOption[];\n  handleSelectMenuItem?: (arg: string | number) => void;\n}\n\nexport const AnvSelect: React.FC<IProps> = ({\n  name,\n  label,\n  control,\n  error,\n  helperText,\n  autoFocus,\n  className = '',\n  options,\n  required,\n  disabled = false,\n  value,\n  handleSelectMenuItem = () => {},\n  loading = false,\n  ...rest\n}) => {\n  const classes = useStyles();\n\n  const additionalProps: Record<string, any> = {};\n  if (typeof value !== 'undefined') {\n    additionalProps.value = value;\n  }\n\n  const inputEl = React.useRef<HTMLInputElement>(null);\n  React.useEffect(() => {\n    if (autoFocus && inputEl?.current?.scrollIntoView) {\n      inputEl?.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  }, [inputEl, autoFocus]);\n\n  const select = (\n    <Select\n      innerRef={inputEl}\n      labelId={`${name}-label`}\n      name={name}\n      required={required}\n      disabled={disabled}\n      MenuProps={{\n        anchorOrigin: {\n          vertical: 'bottom',\n          horizontal: 'left',\n        },\n        transformOrigin: {\n          vertical: 'top',\n          horizontal: 'left',\n        },\n        getContentAnchorEl: null,\n        classes: {\n          paper: classes.selectPaper,\n        },\n      }}\n      inputProps={{ id: name }}\n      className={classes.selectRoot}\n      {...rest}\n      {...additionalProps}\n    >\n      {rest?.displayEmpty && <MenuItem value=\"\" />}\n\n      {options.map((item) => (\n        <MenuItem\n          disabled={!!item?.disabled}\n          className={classes.item}\n          key={`${item.value}-${item.label}`}\n          value={item.value}\n          onClick={() => handleSelectMenuItem(item.value)}\n        >\n          {item.label}\n          {item.rightCaption && (\n            <span className={classes.caption}>{item.rightCaption}</span>\n          )}\n        </MenuItem>\n      ))}\n    </Select>\n  );\n\n  return (\n    <FormControl\n      variant=\"filled\"\n      className={clsx(className)}\n      fullWidth\n      required={required}\n      error={!!error}\n      disabled={disabled}\n    >\n      <InputLabel id={`${name}-label`} htmlFor={name}>\n        {label}\n      </InputLabel>\n\n      {control ? (\n        <Controller name={name} control={control} as={select} />\n      ) : (\n        select\n      )}\n\n      {!!helperText && (\n        <FormHelperText component={'span'}>{helperText}</FormHelperText>\n      )}\n    </FormControl>\n  );\n};\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    selectPaper: {\n      marginTop: theme.spacing(0.5),\n      borderRadius: 12,\n    },\n    selectRoot: {\n      '&& .MuiSelect-root': {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        paddingRight: theme.spacing(4),\n      },\n    },\n    item: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      fontSize: 14,\n      lineHeight: '24px',\n      color: theme.palette.text.secondary,\n    },\n    caption: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n      fontWeight: 'bold',\n    },\n  })\n);\n","import React from 'react';\nimport NumberFormat from 'react-number-format';\n\ninterface IProps {\n  inputRef?: React.RefObject<any>;\n  autoFocus?: boolean;\n  onChange: (value: any) => void;\n  value?: string;\n}\nexport const AnvInputZipCode: React.FC<IProps> = ({\n  inputRef,\n  autoFocus,\n  onChange,\n  ...other\n}) => {\n  React.useEffect(() => {\n    if (autoFocus && inputRef?.current?.scrollIntoView) {\n      inputRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  }, [inputRef, autoFocus]);\n  const [formattedValue, setFormattedValue] = React.useState(\n    other?.value || ''\n  );\n\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={(values: any) => {\n        onChange(values.value);\n        setFormattedValue(values.value);\n      }}\n      isNumericString={true}\n      format={formattedValue.length > 5 ? '#####-####' : '#########'}\n    />\n  );\n};\n","import React from 'react';\nimport NumberFormat from 'react-number-format';\n\n// https://catamphetamine.gitlab.io/react-phone-number-input/\n// international phone numbers\n\ninterface IProps {\n  inputRef?: React.RefObject<any>;\n  autoFocus?: boolean;\n  onChange: (value: any) => void;\n}\nexport const AnvInputPhone: React.FC<IProps> = ({\n  inputRef,\n  autoFocus,\n  onChange,\n  ...other\n}) => {\n  React.useEffect(() => {\n    if (autoFocus && inputRef?.current?.scrollIntoView) {\n      inputRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  }, [inputRef, autoFocus]);\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={(values) => {\n        onChange(values.value);\n      }}\n      isNumericString={true}\n      format={'(###) ###-####'}\n      mask={'_'}\n    />\n  );\n};\n","import React from 'react';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport { CircularProgress } from '@material-ui/core';\n\ninterface IProps {\n  isLoading?: boolean;\n}\n\nconst LabelLoading: React.FC<IProps> = ({ isLoading = false }) => {\n  const classes = useStyles();\n\n  if (!isLoading) {\n    return null;\n  }\n\n  return (\n    <CircularProgress className={classes.root} size={12} color={'inherit'} />\n  );\n};\n\nexport const useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      marginLeft: theme.spacing(1),\n      position: 'absolute',\n      right: -16,\n    },\n  }),\n);\n\nexport default LabelLoading;\n","import React from 'react';\nimport { Paper } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\n\nimport { AUTOCOMPLETE_SERVER_LIMIT } from 'src/constants';\n\ninterface IProps {\n  // total: number;\n}\n\nexport const AutocompleteTotalContext = React.createContext<number | undefined>(\n  0,\n);\n\nexport const PaperTotalAutocomplete: React.FC<IProps> = ({ children }) => {\n  const total = React.useContext(AutocompleteTotalContext);\n  const classes = useStyles();\n\n  return (\n    <Paper elevation={1} className={classes.autocompletePaper}>\n      {children}\n\n      {!!total && total > AUTOCOMPLETE_SERVER_LIMIT && (\n        <div className={classes.totalWrapper}>\n          <FormattedMessage\n            id=\"APP.COMMON.AUTOCOMPLETE.TOTAL\"\n            defaultMessage=\"Found {total} records, type to make quick search\"\n            values={{\n              total,\n            }}\n          />\n        </div>\n      )}\n    </Paper>\n  );\n};\n\nexport const useStyles = makeStyles((theme) =>\n  createStyles({\n    totalWrapper: {\n      padding: theme.spacing(0, 2, 1),\n\n      color: theme.palette.text.disabled,\n      fontSize: 12,\n    },\n    autocompletePaper: {\n      overflow: 'hidden',\n      fontSize: '1rem',\n      fontWeight: 400,\n      lineHeight: 1.5,\n      letterSpacing: '0.00938em',\n    },\n  }),\n);\n","import React from 'react';\n\nimport { Controller } from 'react-hook-form';\nimport { Grid, TextField } from '@material-ui/core';\nimport { SelectProps } from '@material-ui/core/Select';\nimport Autocomplete, {\n  AutocompleteRenderGroupParams,\n} from '@material-ui/lab/Autocomplete';\n\nimport LabelLoading from '../LabelLoading';\nimport { ISelectOption } from '../anv-select';\nimport {\n  AutocompleteTotalContext,\n  PaperTotalAutocomplete,\n} from './parts/PaperTotalAutocomplete';\n\ninterface IProps extends SelectProps {\n  name: string;\n  control: any;\n  helperText?: string;\n  options: ISelectOption[];\n  loading?: boolean;\n  multiple?: boolean;\n  onInputChange?: (event: any, newValue: any) => void;\n  handleHomeEndKeys?: boolean;\n  disableCloseOnSelect?: boolean;\n  freeSolo?: boolean;\n  filterOptions?: any;\n  open?: boolean;\n  total?: number;\n  renderTags?: any;\n  groupBy?: (option: ISelectOption) => string;\n  renderGroup?: (params: AutocompleteRenderGroupParams) => React.ReactNode;\n}\n\ninterface IGetInputValue {\n  multiple?: boolean;\n  options: ISelectOption[];\n  valueProps: string | Record<string, any> | Record<string, any>[];\n  valueParams: string | Record<string, any> | Record<string, any>[] | any;\n}\nconst getInputValue = ({\n  multiple = false,\n  options,\n  valueProps,\n  valueParams,\n}: IGetInputValue) => {\n  const defaultValue = multiple ? [] : '';\n\n  // todo array\n  return (\n    (!multiple &&\n      !valueParams &&\n      valueProps &&\n      options.find((option) => option.value === valueProps)?.label) ||\n    valueParams ||\n    defaultValue\n  );\n};\n\nexport const AnvAutocomplete2: React.FC<IProps> = ({\n  name,\n  label,\n  control,\n  error,\n  helperText,\n  autoFocus,\n  className = '',\n  options,\n  required,\n  disabled = false,\n  value,\n  loading = false,\n  multiple = false,\n  disableCloseOnSelect = false,\n  freeSolo = false,\n  onInputChange,\n  handleHomeEndKeys = false,\n  open = undefined,\n  filterOptions,\n  total,\n  groupBy,\n  renderGroup,\n  renderTags,\n  ...rest\n}) => {\n  const getOpObj = (option: any) => {\n    if (!option?.value) option = options.find((op) => op.value === option);\n    return option;\n  };\n\n  return (\n    <AutocompleteTotalContext.Provider value={total}>\n      <Controller\n        render={(props) => (\n          <Autocomplete\n            {...props}\n            open={open}\n            renderGroup={renderGroup}\n            disableCloseOnSelect={disableCloseOnSelect}\n            freeSolo={freeSolo}\n            groupBy={groupBy}\n            multiple={multiple}\n            renderTags={renderTags}\n            size={'small'}\n            options={options}\n            filterOptions={filterOptions}\n            getOptionLabel={(option) => {\n              return getOpObj(option)?.label || '';\n            }}\n            getOptionDisabled={(option) => !!option.disabled}\n            getOptionSelected={(option, value) => {\n              return option.value === getOpObj(value)?.value;\n            }}\n            PaperComponent={PaperTotalAutocomplete}\n            onInputChange={onInputChange}\n            renderOption={(option) => {\n              return (\n                <Grid\n                  container\n                  direction=\"row\"\n                  alignItems=\"center\"\n                  justify=\"space-between\"\n                  xs={12}\n                >\n                  <Grid item xs={option.rightCaption ? 9 : 12}>\n                    {option.label}\n                  </Grid>\n                  <Grid item xs={12}>\n                    {option.bottomCaption}\n                  </Grid>\n\n                  {!!option.rightCaption && (\n                    <Grid item>{option.rightCaption || ''}</Grid>\n                  )}\n                </Grid>\n              );\n            }}\n            renderInput={(params) => (\n              <>\n                <TextField\n                  {...params}\n                  required={required}\n                  name={name}\n                  fullWidth\n                  label={\n                    label && (\n                      <>\n                        {label}\n                        <LabelLoading isLoading={loading} />\n                      </>\n                    )\n                  }\n                  inputProps={{\n                    ...params.inputProps,\n                    value: getInputValue({\n                      multiple,\n                      options,\n                      valueProps: props.value,\n                      // @ts-ignore\n                      valueParams: params?.inputProps?.value,\n                    }),\n                  }}\n                  variant=\"filled\"\n                  helperText={helperText}\n                  error={error}\n                />\n              </>\n            )}\n            onChange={(_, data: any) => {\n              if (multiple) {\n                if (multiple && freeSolo) {\n                  const newData = data.map((item: any) => {\n                    if (typeof item === 'string') {\n                      return {\n                        label: item,\n                        active: undefined,\n                        disabled: false,\n                        type: 'All Tags',\n                        value: item,\n                      };\n                    }\n                    //ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´Ð»Ñ Ñ‚Ð¾Ð³Ð¾ Ñ‡Ñ‚Ð¾ Ð±Ñ‹ ÑƒÐ±Ñ€Ð°Ñ‚ÑŒ ÑÐ»Ð¾Ð²Ð¾ 'Add' Ð¿Ñ€Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ð¸ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ð¹ ÐºÐ»Ð¸Ðº\n                    if (item.label.includes('Add')) {\n                      return {\n                        ...item,\n                        label: item.label.slice(3),\n                      };\n                    }\n                    return item;\n                  });\n                  return props.onChange(newData);\n                }\n\n                return props.onChange(data);\n              }\n              // @ts-ignore\n              // console.log('onChange-data?.value---', data, data?.value);\n              // @ts-ignore\n              return props.onChange(data?.value);\n            }}\n            handleHomeEndKeys={handleHomeEndKeys}\n          />\n        )}\n        name={name}\n        control={control}\n      />\n    </AutocompleteTotalContext.Provider>\n  );\n};\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Grid, InputLabel, Switch, SwitchProps } from '@material-ui/core';\nimport { Controller } from 'react-hook-form';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport { Control } from 'react-hook-form/dist/types/form';\n\ninterface IProps extends SwitchProps {\n  label?: string | JSX.Element;\n  labelRight?: string | JSX.Element;\n  loading?: boolean;\n  name: string;\n  error?: boolean;\n  viewMode?: boolean;\n  marginLeft?: boolean;\n  marginRight?: boolean;\n\n  onChangeCustom?: (value: boolean) => void;\n\n  control?: Control;\n  helperText?: string;\n}\n\nexport const AnvSwitch: React.FC<IProps> = ({\n  name,\n  label,\n  control,\n  error = false,\n  helperText,\n  autoFocus,\n  className = '',\n  labelRight,\n  required,\n  disabled = false,\n  value,\n  onChangeCustom,\n  loading = false,\n  marginLeft = false,\n  marginRight = false,\n  viewMode = false,\n  ...rest\n}) => {\n  const classes = useStyles();\n\n  const additionalProps: Record<string, any> = {};\n  if (typeof value !== 'undefined') {\n    additionalProps.value = value;\n  }\n\n  const labelComponent = label && (\n    <InputLabel\n      className={clsx(classes.label, {\n        [classes.viewMode]: viewMode,\n      })}\n      id={`${name}-label`}\n      htmlFor={name}\n      error={error}\n    >\n      {label}\n    </InputLabel>\n  );\n  const labelComponentRight = labelRight && (\n    <InputLabel\n      className={clsx(classes.label, {\n        [classes.viewMode]: viewMode,\n      })}\n      id={`${name}-label`}\n      htmlFor={name}\n      error={error}\n    >\n      {labelRight}\n    </InputLabel>\n  );\n\n  const controlElement = control ? (\n    <Controller\n      id={name}\n      name={name}\n      control={control}\n      render={(props) => (\n        <Switch\n          id={name}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n            if (!viewMode) {\n              onChangeCustom?.(e.target.checked);\n              return props.onChange(e.target.checked);\n            }\n          }}\n          checked={props.value}\n          focusVisibleClassName={classes.focusVisible}\n          disableRipple\n          classes={{\n            root: classes.root,\n            switchBase: clsx(classes.switchBase, {\n              [classes.viewMode]: viewMode,\n            }),\n            thumb: classes.thumb,\n            track: classes.track,\n            checked: classes.checked,\n          }}\n          {...rest}\n        />\n      )}\n    />\n  ) : (\n    <Switch\n      id={name}\n      checked={!!value}\n      focusVisibleClassName={classes.focusVisible}\n      disableRipple\n      classes={{\n        root: classes.root,\n        switchBase: clsx(classes.switchBase, { [classes.viewMode]: viewMode }),\n        thumb: classes.thumb,\n        track: classes.track,\n        checked: classes.checked,\n      }}\n      {...rest}\n    />\n  );\n\n  return (\n    <>\n      <Grid\n        component=\"label\"\n        container\n        alignItems=\"center\"\n        spacing={1}\n        className={clsx(classes.wrapper, {\n          [classes.marginLeft]: marginLeft,\n          [classes.marginRight]: marginRight,\n        })}\n      >\n        {labelComponent && <Grid item>{labelComponent}</Grid>}\n\n        <Grid item>{controlElement}</Grid>\n\n        {labelComponentRight && <Grid item>{labelComponentRight}</Grid>}\n      </Grid>\n    </>\n  );\n};\n\nexport const useStyles = makeStyles((theme) =>\n  createStyles({\n    wrapper: {\n      display: 'inline-flex',\n      width: 'auto',\n    },\n    label: {\n      color: theme.palette.text.body,\n      fontSize: 13,\n      lineHeight: '22px',\n\n      cursor: 'pointer',\n    },\n\n    marginLeft: {\n      marginLeft: theme.spacing(2),\n    },\n    marginRight: {\n      marginRight: theme.spacing(2),\n    },\n\n    root: {\n      width: 34,\n      height: 20,\n      padding: 0,\n      margin: 2,\n    },\n    viewMode: {\n      cursor: 'default',\n    },\n    switchBase: {\n      padding: 1,\n      '&$checked': {\n        transform: 'translateX(16px)',\n        color: theme.palette.common.white,\n\n        '& + $track': {\n          backgroundColor: theme.palette.brand.main,\n          opacity: 1,\n          border: 'none',\n        },\n      },\n      '&$focusVisible $thumb': {\n        color: theme.palette.brand.main,\n        border: '6px solid #fff',\n      },\n    },\n    thumb: {\n      marginTop: 1,\n      width: 16,\n      height: 16,\n      background: '#FFFFFF',\n      boxShadow:\n        '0px 4px 8px rgba(0, 0, 0, 0.08), 0px 0px 2px rgba(0, 0, 0, 0.12), 0px 0px 1px rgba(0, 0, 0, 0.08)',\n    },\n    track: {\n      borderRadius: 12,\n      border: 'unset',\n      // border: `1px solid ${theme.palette.grey[400]}`,\n      backgroundColor: theme.palette.grey[200],\n      opacity: 1,\n      transition: theme.transitions.create(['background-color', 'border']),\n    },\n    checked: {},\n    focusVisible: {},\n  }),\n);\n\nexport default AnvSwitch;\n","export interface IJurisdiction {\n  _id: string;\n  code: string;\n  name: string;\n  countryRef?: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport class Jurisdiction {\n  public _id: string;\n  public name: Record<string, any>;\n  public code: string;\n  public countryRef?: string;\n\n  public createdAt: Date | string;\n  public updatedAt: Date | string;\n\n  constructor(item: any) {\n    this._id = item._id;\n    this.name = item.name;\n    this.code = item.code;\n    this.countryRef = item.countryRef;\n\n    this.createdAt = item.createdAt;\n    this.updatedAt = item.updatedAt;\n  }\n}\n","// extend palette https://medium.com/javascript-in-plain-english/extend-material-ui-theme-in-typescript-a462e207131f\nexport const palette = {\n  primary: {\n    main: '#5C469E',\n  },\n  error: {\n    main: '#F44D4D',\n  },\n  brand: {\n    main: '#5C469E',\n    light: '#E7E3F0',\n    dark: '#EA4C89',\n    // veryDark: '#692532',\n  },\n  common: {\n    white: '#FFFFFF',\n  },\n  custom: {\n    lightIcons: '#9DADAF',\n    disabled: '#818181',\n    textLight: '#8C8C8C',\n    background: '#F2F5F5',\n    controlBorder: '#CBD1DA',\n    divider: '#D9E1E2',\n    blueContrast: '#0065FF',\n  },\n  background: {\n    default: '#F2F5F5',\n    paper: '#FFFFFF',\n  },\n  text: {\n    primary: 'rgba(0, 0, 0, 0.88)',\n    secondary: 'rgba(0, 0, 0, 0.6)',\n    body: 'rgba(0, 0, 0, 0.7)',\n    contrast: '#333333',\n    disabled: 'rgba(0, 0, 0, 0.45)',\n    hyperlink: '#18A0FB',\n    redcolor: '#ff1744',\n    white: '#FFFFFF',\n    lightIcons: '#9DADAF',\n  },\n  border: {\n    primary: '#CCCCCC',\n  },\n};\n","export * from './props';\n\nconst mixins = {\n  scrollBar: {\n    scrollBehavior: 'smooth' as\n      | '-moz-initial'\n      | 'inherit'\n      | 'initial'\n      | 'revert'\n      | 'unset'\n      | 'auto'\n      | 'smooth',\n    scrollbarWidth: 'thin' as\n      | '-moz-initial'\n      | 'inherit'\n      | 'initial'\n      | 'revert'\n      | 'unset'\n      | 'auto'\n      | 'none'\n      | 'thin',\n    scrollbarColor: 'rgba(0,0,0,0.25) transparent',\n\n    '&::-webkit-scrollbar': {\n      width: 4,\n      height: 4,\n      transition: 'all 1s ease-in-out',\n    },\n    '&::-webkit-scrollbar-track': {\n      borderRadius: 10,\n      backgroundColor: 'transparent',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      borderRadius: 2,\n      backgroundColor: 'rgba(0,0,0,0.15)',\n      transition: 'all 1s ease-in-out',\n    },\n  },\n  scrollBarBody: {\n    scrollBehavior: 'smooth' as\n      | '-moz-initial'\n      | 'inherit'\n      | 'initial'\n      | 'revert'\n      | 'unset'\n      | 'auto'\n      | 'smooth',\n    scrollbarWidth: 'thin' as\n      | '-moz-initial'\n      | 'inherit'\n      | 'initial'\n      | 'revert'\n      | 'unset'\n      | 'auto'\n      | 'none'\n      | 'thin',\n    scrollbarColor: 'rgba(0,0,0,0.25) transparent',\n\n    '&::-webkit-scrollbar': {\n      width: 8,\n      height: 8,\n      transition: 'all 1s ease-in-out',\n    },\n    '&::-webkit-scrollbar-track': {\n      borderRadius: 10,\n      backgroundColor: 'transparent',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      borderRadius: 2,\n      backgroundColor: 'rgba(0,0,0,0.15)',\n      transition: 'all 1s ease-in-out',\n    },\n  },\n  listReset: {\n    padding: 0,\n    margin: 0,\n    listStyle: 'none',\n  },\n  buttonReset: {\n    padding: 0,\n    border: 'none',\n    font: 'inherit',\n    color: 'inherit',\n    backgroundColor: 'transparent',\n    cursor: 'pointer',\n  },\n  visuallyHidden: {\n    position: 'absolute',\n    width: '1px',\n    height: '1px',\n    margin: '-1px',\n    padding: 0,\n    overflow: 'hidden',\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n  },\n  textOverflow: {\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n  },\n};\n\nexport default mixins;\n","import { unstable_createMuiStrictModeTheme as createMuiTheme } from '@material-ui/core/styles';\n\nimport { palette } from './palette';\nimport mixins from './mixins';\n\n// Create a theme instance.\nconst defaultTheme = createMuiTheme();\n\nexport const themePlain = {\n  typography: {\n    fontFamily: `\"Inter\", \"Helvetica\", \"Arial\", sans-serif`,\n  },\n  palette,\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        body: {\n          margin: 0,\n          fontFamily: 'Inter',\n\n          ...mixins.scrollBarBody,\n        },\n      },\n    },\n    MuiLink: {\n      root: {\n        color: palette.text.hyperlink,\n\n        '&.MuiTypography-colorSecondary ': {\n          color: palette.primary.main,\n        },\n      },\n    },\n    MuiAppBar: {\n      root: {\n        maxHeight: '64px',\n        display: 'flex',\n        margin: 0,\n      },\n      colorPrimary: {\n        backgroundColor: '#fff',\n        color: palette.text.primary,\n      },\n    },\n    MuiToolbar: {\n      gutters: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        paddingLeft: defaultTheme.spacing(2),\n        paddingRight: defaultTheme.spacing(3),\n        '@media (min-width: 600px)': {\n          paddingLeft: defaultTheme.spacing(2),\n          paddingRight: defaultTheme.spacing(3),\n        },\n      },\n    },\n    MuiTypography: {\n      root: {\n        '&$h6': {\n          fontFamily: 'Sora, Roboto, Helvetica, Arial, sans-serif',\n          fontSize: 32,\n          fontStyle: 'normal',\n          fontWeight: 800,\n          lineHeight: '40px',\n          display: 'flex',\n        },\n        '&$button': {\n          fontFamily: 'Epilogue',\n          fontSize: '13px',\n          fontStyle: 'normal',\n          fontWeight: 600,\n          lineHeight: '22px',\n          letterSpacing: '-0.039px',\n          textTransform: 'none',\n          color: palette.text.primary,\n          cursor: 'pointer',\n        },\n      },\n    },\n    MuiButton: {\n      root: {\n        fontFamily: 'Epilogue',\n        textTransform: 'none',\n        '&$outlined': {\n          padding: defaultTheme.spacing(2, 4),\n          borderRadius: '3px',\n          fontStyle: 'normal',\n          fontWeight: 700,\n          fontSize: 15,\n          lineHeight: '18px',\n          color: palette.brand.main,\n          borderColor: palette.brand.main,\n\n          '&$sizeSmall': {\n            padding: defaultTheme.spacing(1.5, 3),\n            fontStyle: 'normal',\n            fontWeight: 500,\n            fontSize: 13,\n            lineHeight: '14px',\n          },\n\n          '&$sizeLarge': {\n            padding: defaultTheme.spacing(2, 4),\n            fontSize: 22,\n            lineHeight: '22px',\n            fontStyle: 'normal',\n            fontWeight: 700,\n          },\n        },\n\n        '&$contained': {\n          padding: defaultTheme.spacing(2, 4),\n          borderRadius: '3px',\n          fontStyle: 'normal',\n          fontWeight: 700,\n          fontSize: 15,\n          lineHeight: '18px',\n          color: palette.text.white,\n          backgroundColor: palette.brand.main,\n\n          '&$sizeSmall': {\n            padding: defaultTheme.spacing(1.5, 3),\n            fontStyle: 'normal',\n            fontWeight: 500,\n            fontSize: 13,\n            lineHeight: '14px',\n          },\n\n          '&$sizeLarge': {\n            padding: defaultTheme.spacing(2, 4),\n            fontSize: 22,\n            lineHeight: '22px',\n            fontStyle: 'normal',\n            fontWeight: 700,\n          },\n        },\n\n        '&$text': {\n          padding: defaultTheme.spacing(2, 4),\n          borderRadius: '3px',\n          fontStyle: 'normal',\n          fontWeight: 700,\n          fontSize: 15,\n          lineHeight: '18px',\n          // color: palette.text.brand,\n\n          '&$sizeSmall': {\n            padding: defaultTheme.spacing(1.5, 3),\n            borderRadius: '3px',\n            fontStyle: 'normal',\n            fontWeight: 500,\n            fontSize: 13,\n            lineHeight: '14px',\n          },\n\n          '&$sizeLarge': {\n            padding: defaultTheme.spacing(2, 4),\n            borderRadius: '3px',\n            fontSize: 22,\n            lineHeight: '22px',\n            fontStyle: 'normal',\n            fontWeight: 700,\n          },\n        },\n      },\n    },\n    MuiFormControl: {\n      root: {\n        minHeight: '56px',\n        borderRadius: '6px',\n        margin: defaultTheme.spacing(0, 0, 2),\n      },\n    },\n    MuiFormControlLabel: {\n      root: {\n        cursor: 'default',\n      },\n    },\n    MuiFormLabel: {\n      root: {\n        '&.Mui-focused': {\n          color: palette.text.primary,\n        },\n      },\n      filled: {\n        color: palette.custom.textLight,\n      },\n      asterisk: {\n        color: palette.text.redcolor,\n      },\n    },\n    MuiInputLabel: {\n      filled: {\n        color: palette.custom.textLight,\n\n        '&$shrink$marginDense$marginDense$marginDense ': {\n          transform: 'translate(14px, 8px)',\n        },\n\n        '&$shrink, &$shrink$marginDense$marginDense ': {\n          transform: 'translate(16px, 10px)',\n          fontStyle: 'normal',\n          fontWeight: 'normal',\n          fontSize: 11,\n          lineHeight: '14px',\n          letterSpacing: '0.05px',\n        },\n      },\n    },\n    MuiSelect: {\n      root: {\n        paddingTop: '20px',\n        '&$filled': {\n          padding: defaultTheme.spacing(3, 2, 1, 2),\n          borderRadius: '6px',\n        },\n      },\n      iconOutlined: {\n        right: defaultTheme.spacing(2),\n      },\n    },\n\n    MuiMenu: {\n      paper: {\n        marginTop: '55px',\n        // minHeight: '100px',\n        minHeight: '50px',\n      },\n      list: {\n        maxHeight: '458px',\n      },\n    },\n    MuiListItemIcon: {\n      root: {\n        minWidth: 24,\n        marginRight: defaultTheme.spacing(1),\n      },\n    },\n\n    MuiMenuItem: {\n      root: {\n        height: '56px',\n        fontWeight: 400,\n        fontSize: 16,\n        lineHeight: '24px',\n        letterSpacing: '-0.18px',\n        '&$gutters': {\n          padding: defaultTheme.spacing(2, 2.5),\n        },\n      },\n    },\n    MuiFormHelperText: {\n      contained: {\n        marginLeft: defaultTheme.spacing(0.5),\n      },\n    },\n    MuiInputBase: {\n      input: {\n        backgroundColor: palette.common.white,\n        borderRadius: '5px',\n        lineHeight: '20px',\n        height: '20px',\n      },\n    },\n    MuiFilledInput: {\n      root: {\n        backgroundColor: palette.common.white,\n        border: '1px solid #CCCCCC',\n        borderRadius: '6px',\n\n        '&&:hover.Mui-focused, &&:hover, &&.Mui-focused, &&.Mui-disabled': {\n          backgroundColor: palette.common.white,\n        },\n\n        '.filterInput &&': {\n          backgroundColor: palette.common.white,\n        },\n\n        '.withoutLabel & .MuiFilledInput-input': {\n          padding: defaultTheme.spacing(1),\n        },\n      },\n      input: {\n        padding: defaultTheme.spacing(3, 2, 1, 2),\n      },\n      underline: {\n        '&:hover:not($disabled):before': {\n          backgroundColor: 'none',\n          borderBottom: 'none',\n        },\n\n        '&.Mui-disabled': {\n          borderBottom: `1px solid ${palette.border.primary}`,\n        },\n\n        '&:after, &&.Mui-disabled:after': {\n          borderBottom: 'none',\n        },\n        '&&.Mui-disabled:after': {\n          borderBottom: `1px solid ${palette.border.primary}`,\n        },\n        '&:before, &.Mui-disabled:before': {\n          borderBottom: 'none',\n        },\n      },\n    },\n\n    MuiTableCell: {\n      root: {\n        fontFamily: 'Inter',\n        fontSize: 13,\n        lineHeight: '22px',\n      },\n\n      head: {\n        '&:first-child': {\n          borderRadius: '6px 0 0 6px',\n        },\n        '&:last-child': {\n          borderRadius: '0 6px 6px 0',\n        },\n      },\n\n      stickyHeader: {\n        verticalAlign: 'bottom',\n\n        fontSize: 13,\n        lineHeight: '22px',\n        fontFamily: 'Inter',\n        fontWeight: 600,\n        backgroundColor: palette.custom.background,\n      },\n    },\n    MuiTimelineItem: {\n      missingOppositeContent: {\n        '&:before': {\n          content: '',\n          flex: 0,\n          padding: 0,\n        },\n      },\n    },\n\n    MuiTooltip: {\n      tooltip: {\n        padding: defaultTheme.spacing(1, 1.5),\n        backgroundColor: palette.text.contrast,\n      },\n      arrow: {\n        '&::before': {\n          color: palette.text.contrast,\n        },\n      },\n    },\n\n    MuiDivider: {\n      root: {\n        margin: defaultTheme.spacing(0.5, 0),\n        backgroundColor: palette.custom.divider,\n      },\n    },\n\n    MuiAutocomplete: {\n      listbox: {\n        ...mixins.scrollBar,\n      },\n    },\n\n    MuiPickersToolbarButton: {\n      toolbarBtn: {\n        '&&': {\n          padding: 0,\n        },\n      },\n    },\n  },\n  props: {\n    MuiTextField: {\n      variant: 'filled',\n    },\n  },\n};\n\n// @ts-ignore\nexport const theme = createMuiTheme(themePlain);\n","export const APP_BAR_HEIGHT = 64;\nexport const APP_BAR_MOBILE_HEIGHT = 56;\nexport const BREADCRUMBS_HEIGHT = 28;\nexport const BORDER_RADIUS = 6;\nexport const FOOTER_HEIGHT = 36;\n\nexport const drawerWidth = 264;\nexport const drawerWidthDesktopClose = 64;\nexport const drawerHeaderHeight = 64;\n","import { createStyles, makeStyles } from '@material-ui/core/styles';\nimport mixins from '../mixins';\n\nexport const useStylesTable = makeStyles((theme) =>\n  createStyles({\n    thSortable: {\n      userSelect: 'none',\n    },\n    thDateFilter: {\n      '&&': {\n        minWidth: 200,\n      },\n    },\n    // @ts-ignore\n    tableHeadLabelSortable: {\n      ...mixins.textOverflow,\n      display: 'flex',\n      alignItems: 'center',\n    },\n\n    filterControl: {\n      marginTop: 2,\n      minHeight: 24,\n      marginBottom: 0,\n\n      '& input': {\n        background: theme.palette.common.white,\n      },\n      '& .MuiInputBase-adornedEnd': {\n        background: theme.palette.common.white,\n      },\n    },\n  }),\n);\n"],"names":["defaultMetaStore","jurisdictionStore","getJurisdictions","arg","arg2","data","isFetching","isLoaded","accessHistoryStore","getAccessHistory","organizationsStore","getOrganizations","data2","total","total2","tagsStore","getTags","schoolsStore","getSchools","ScopeFormContext","React","createContext","metaStores","AnvAccessHistoryModal","observer","open","handleToggle","AnvDialog","handleClose","TextH2","FormattedMessage","id","defaultMessage","Typography","color","style","marginBottom","AnvButton","size","smallPadding","fullWidth","variant","Divider","useStyles","makeStyles","theme","createStyles","wrapper","paddingLeft","paddingRight","autocompleteGroupHeader","fontFamily","fontStyle","fontWeight","fontSize","lineHeight","letterSpacing","palette","text","secondary","historyGroup","autocompleteFooter","marginTop","autocompleteHeaderButton","padding","autocompleteFooterButton","spacing","ModuleRequestScopeSchool","jurisdictions","classes","useFormContext","control","errors","setValue","getValues","useContext","item","existsData","hideTags","onlyMyAccessByModule","serverErrors","useIntl","locale","useState","schoolInputValue","setSchoolInputValue","schoolInputValueDef","useDebounce","INPUT_THROTTLE_TIME","isFetchingJurisdictions","totalTags","tagsEntities","isFetchingTags","isLoadedTags","getSchool","totalSchools","schoolsMap","schools","isFetchingSchools","accessHistory","scope","useWatch","name","defaultValue","jurisdiction","organization","school","tags","initialSchool","useEffect","schoolStore","tagsStringIds","map","tagOption","value","toString","getWithTotal","entitiesAll","useMemo","array","push","historyItem","schoolRef","filter","schoolEntity","getItemById","schoolEntityName","getNameByLangNullable","schoolEntityJur","schoolOrganizations","organizationsRefs","selectedOrg","_id","schoolInputValuePrev","usePrevious","tagsStringIdsPrev","jurisdictionPrev","isTagChangedFromItem","isEqual","jurisdictionChanged","tagsChanged","DEFAULT_LANGUAGE","or","eq","filterAccess","accessScope","ACCESS_SCOPES","SCHOOL","moduleCode","length","all","split","jurisdictionsOptions","prepareOptions","tagsOptions","schoolsOptionsActual","type","captionBottom","captionFunc","address","prepareSchoolAddressCaption","schoolsOptionsHistory","active","labelFunc","customId","useModal","toggleHistoryViewAll","handleToggleModal","historyViewAll","isOpen","totalHistory","historyLengthToShow","AUTOCOMPLETE_HISTORY_LIMIT","schoolsOptions","historyFiltered","slice","isSchoolExistsInActual","findIndex","schoolOptionInitial","formHelper","field","formErrorHelper","handleToggleHistory","historyOpen","AnvSelect","displayEmpty","disabled","label","options","helperText","error","AnvAutocomplete2","multiple","loading","required","onInputChange","event","newInputValue","groupBy","option","renderGroup","group","groupLocaleKey","toUpperCase","isHistory","Grid","key","Math","random","className","clsx","GroupHeaderAutocomplete","title","capitalize","onClick","children","state","stateRef","county","city","addressArr","countyName","cityName","code","schoolAddressCaption","join","setIsOpen","handleOpenModal","e","handleCloseModal","maxWidth","tag","height","container","justify","common","opacity","backgroundColor","brand","dark","light","main","muted","inactive","pointerEvents","success","white","greenHue","primary","borderColor","borderRadius","breakpoints","up","display","info","blueHue","warning","orangeHue","redHue","colorMuiProp","customColor","props","classNameCustom","indexOf","Button","ModuleRequestScopeAuthorizer","organizations","isFetchingOrganizations","orgInputValue","setOrgInputValue","orgInputValuePrev","organizationRef","organizationEntity","organizationEntityName","ORGANIZATION_TYPE_CODES","AUTHORIZER","is","organizationsOptionsActual","optionsHistory","organizationsOptions","ModuleRequestScopeEMO","EMO","ModuleRequestScopeESC","ESC","ModuleRequestScopeSEA","totalOrganizations","SEA","ModuleRequestScopeLEA","organizationsTotal","organizationEntityJurId","leaParentOrganization","parentOrgRef","populateParent","LEA","isObject","object","camelCaseToHumanable","string","replace","toLowerCase","camelCaseToHumanableTitle","toTitleCase","lowers","str","includeAllCaps","includeMinorWords","i","j","txt","test","charAt","substr","RegExp","getNameByLang","entity","_get","firstLetterUppercase","getQueryVariable","query","variable","vars","pair","decodeURIComponent","entities","find","formatZipCode","zipCode","formatPhoneNumber","phoneNumberString","intlCode","cleaned","match","intlCodeRes","arrayExcludeArray","arrayExclude","el","includes","isValidHex","substring","isHTML","doc","DOMParser","parseFromString","Array","from","body","childNodes","some","node","nodeType","isValidObjectID","ObjectID","checkForHexRegExp","isValidEmail","email","re","String","copyToClipboard","textField","document","createElement","innerText","appendChild","select","execCommand","remove","fallbackCopyTextToClipboard","textArea","top","left","position","focus","err","removeChild","copyTextToClipboard","result","copy","navigator","clipboard","writeText","extractHostname","url","hostname","extractRootDomain","domain","splitArr","arrLen","DATE_FORMATS","DEFAULT_FORMAT","DEFAULT_FORMAT_WITH_TIME","DEFAULT_FORMAT_REVERSE","TIME","SHORT_LETTER_MONTH_FORMAT","LONG_LETTER_MONTH_FORMAT","envConst","apiUrl","process","env","REACT_APP_API_TOOL_ENDPOINT","launchpadUrl","REACT_APP_LAUNCHPAD_BASE_URL","isStringObjectId","reduxErrors","isArray","message","errorItem","values","formErrorHelperAutofocus","rightCaption","condition","fallbackFunc","fallbackField","sortByField","sortByLabel","sortDesc","disabledArray","disabledFunc","excludedArray","get","bottomCaption","sort","a","b","localeCompare","passwordStrength","validatePassword","locales","en","enUS","es","defaultLanguage","formatWLocale","date","formatStr","newDate","Date","format","window","__localeId__","getDateWithoutTimeAndZone","input","dateString","getDateOnlyWithoutTimeAndZone","getOnlyDate","getFullYear","getMonth","getDate","getHours","getMinutes","sizes","formatBytes","bytes","decimals","k","dm","floor","log","parseFloat","pow","toFixed","downloadFile","filename","token","responseType","headers","Authorization","axios","then","response","reader","FileReader","readAsDataURL","onload","fileDataUrl","downloadLink","fileName","href","download","click","console","prepareAccessFilterParam","accessFilter","undefined","getBase64FromUrl","fetch","blob","Promise","resolve","onloadend","base64data","ScopeForm","particularModule","particularTool","particularAccessScope","hideTool","hideModule","hideAccessScope","withHistory","displayEmptyTool","displayEmptyModule","displayEmptyAccessScope","tools","modules","accessScopeStore","moduleWatcher","accessScopeWatcher","accessScopes","getAccessScopes","toolCode","toolsOptions","moduleOptions","restricted","accessScopesOptions","Provider","Collapse","ScopeFormSchool","ScopeFormAuthorizer","ScopeFormEMO","ScopeFormESC","ScopeFormSEA","ScopeFormLEA","mainTabs","expandMore","transition","transitions","create","easing","easeIn","duration","expandRotate","transform","transformOrigin","schoolRequired","tagPrev","ModuleScopeFilterOrganization","organizationRequired","organizationTypesStore","getOrganizationTypes","organizationTypes","getOrganization","organizationsMap","organizations2","organizations3","data3","organizationsTotal2","organizationsTotal3","total3","initialOrganization","org2InputValue","setOrg2InputValue","org3InputValue","setOrg3InputValue","orgType","organizationSecondary","organizationThird","organizationStore","organizationTypeEntity","orgAccessScope","organizationSecondaryEntity","organizationSecondaryEntityName","organizationThirdEntity","organizationThirdEntityName","org2InputValuePrev","org3InputValuePrev","orgTypePrev","organizationSecondaryPrev","organizationThirdPrev","organizationType","organizationSeaChanged","organizationLeaChanged","DEPARTMENT","and","parentOrg","third","typeChanged","orgInputChanged","typesOptions","isOrganizationExistsInActual","organizations2WithCurrentEntity","index","self","subItem","organizations2Options","organizations3WithCurrentEntity","organizations3Options","AnvButtonGroup","ButtonGroup","iconWrapper","verticalAlign","withBackground","content","bottom","width","background","inherit","lightIcons","black","textPrimary","textSecondary","icons","choiceSchools","ChoiceSchools","complaint","Complaint","compliance","Compliance","enrollmentApplication","EnrollmentApplication","familyEngagement","FamilyEngagement","foodServices","FoodServices","orgTracker","OrgTracker","payments","Payments","privateDataVault","PrivateDataVault","schoolImprovement","SchoolImprovement","schoolPerformance","SchoolPerformance","survey","Survey","teachers","Teachers","transportation","Transportation","toolDefault","ToolDefault","commentPlus","CommentPlus","dotsGrid","DotsGrid","dotsVertical","DotsVertical","edit","Edit","eyeOutline","EyeOutline","eyeOff","EyeOff","keyOutline","KeyOutline","search","Search","gridPlus","GridPlus","viewDashboard","ViewDashboard","plus","Plus","chevron","Chevron","clock","Clock","calendar","Calendar","avatar","Avatar","launchpadRocket","LaunchpadRocket","breadcrumbsSeparator","BreadcrumbsSeparator","reviewList","ReviewList","moderation","Moderation","moderationList","ModerationList","listBrowsing","ListBrowsing","web","Web","Filter","filterFilled","FilterFilled","user","User","logOut","LogOut","logOutNew","LogOutNew","menu","Menu","closeCross","CloseCross","userAccess","UserAccess","trash","Trash","paperClip","PaperClip","Delete","check","Check","file","File","Info","School","person","Person","personGroup","PersonGroup","link","Link","history","History","buildOrg","BuildOrg","structureOrg","StructureOrg","archive","Archive","arrowRevoke","ArrowRevoke","helpCircle","HelpCircle","settingsGear","SettingsGear","closeDrawer","CloseDrawer","helpBox","HelpBox","lock","Lock","unlock","Unlock","redirectIcon","RedirectIcon","tagIcon","CodeTagIcon","boldIcon","FormatBoldIcon","italicIcon","FormatItalicIcon","listBulletedIcon","FormatListBulletedIcon","listNumeredIcon","FormatListNumeredIcon","quoteCloseIcon","FormatQuoteCloseIcon","underlineIcon","FormatUnderline","numeric1Icon","Numeric1Icon","numeric2Icon","Numeric2Icon","acceptedStatus","StatusAccepted","actionStatus","StatusAction","draftStatus","StatusDraft","submittedStatus","StatusSubmitted","reactifiedStatus","StatusRectified","rectifiedStatus","investigatedStatus","StatusInvestigated","incompleteStatus","StatusIncomplete","withdrawnStatus","StatusWithdrawn","unresolvedStatus","StatusUnresolved","resolvedStatus","StatusResolved","dismissedStatus","StatusDismissed","abandonedStatus","StatusAbandoned","moduleDefault","moduleSubmit","moduleReview","moduleResponse","moduleView","moduleRespond","moduleAccess","iconsKeys","Object","keys","iconsVariants","DEFAULT_ICON_SIZE","AnvIcon","icon","offset","leftOffset","IconTag","useTheme","styles","marginLeft","marginRight","colorClass","FILTER_SETTINGS","FILTER_BY_ORGANIZATION","FILTER_BY_SCHOOL","FILTER_PARTICULAR_ORGANIZATION","ScopeFormFilter","moduleSettings","register","orgTypeWatcher","isFetchingAccessHistory","historyActiveItems","anchorHistory","setAnchorHistory","handleClickHistory","currentTarget","handleCloseHistory","handleMenuItemHistoryClick","setTimeout","actualOrgAccessScope","schoolFilterAvailable","organizationFilterAvailable","isTabsTypeAvailable","organizationTab","setOrganizationTab","handleChangeTab","isOrganization","payload","alignItems","startIcon","endIcon","CircularProgress","ExpandMore","anchorEl","onClose","keepMounted","anchorOrigin","vertical","horizontal","MenuItem","ScopeFilterSchool","ScopeFilterOrganization","rest","Dialog","paper","IconButton","closeButton","CloseIcon","DialogTitle","AnvModal","mixins","scrollBar","minWidth","right","TextH1","component","other","textH1","divider","textH2","borderBottom","TextH3","textH3","TextH5","textH5","TextBody","semiBold","bold","textBody","TextBody2","root","flexGrow","textTransform","tabs","tab","a11yProps","AnvTabs","labels","activeIndex","handleChange","Tabs","onChange","scrollButtons","Tab","commonControl","filterControl","minHeight","AnvTableHeadFilter","column","handleChangeFilter","handleChangeFilterDate","formatMessage","filterType","FILTER_TYPES","filterOptions","headerString","AnvDatepicker","placeholder","TextField","AnvPaginationMui","pagination","page","totalPages","handleChangePage","Pagination","count","renderItem","ArrowBackIosIcon","ArrowForwardIosIcon","PaginationItem","AnvTooltip","Tooltip","placement","autoOk","ref","isTime","defaultFormat","Component","KeyboardDateTimePicker","KeyboardDatePicker","Controller","as","ampm","inputVariant","orientation","rightArrowButtonProps","leftArrowButtonProps","autoFocus","handleSelectMenuItem","additionalProps","inputEl","useRef","current","scrollIntoView","behavior","block","Select","innerRef","labelId","MenuProps","getContentAnchorEl","selectPaper","inputProps","selectRoot","caption","FormControl","InputLabel","htmlFor","FormHelperText","justifyContent","AnvInputZipCode","inputRef","formattedValue","setFormattedValue","NumberFormat","getInputRef","onValueChange","isNumericString","AnvInputPhone","mask","LabelLoading","isLoading","AutocompleteTotalContext","PaperTotalAutocomplete","Paper","elevation","autocompletePaper","AUTOCOMPLETE_SERVER_LIMIT","totalWrapper","overflow","getInputValue","valueProps","valueParams","disableCloseOnSelect","freeSolo","handleHomeEndKeys","renderTags","getOpObj","op","render","Autocomplete","getOptionLabel","getOptionDisabled","getOptionSelected","PaperComponent","renderOption","direction","xs","renderInput","params","_","newData","AnvSwitch","labelRight","onChangeCustom","viewMode","labelComponent","labelComponentRight","controlElement","Switch","target","checked","focusVisibleClassName","focusVisible","disableRipple","switchBase","thumb","track","cursor","margin","border","boxShadow","grey","Jurisdiction","countryRef","createdAt","updatedAt","custom","textLight","controlBorder","blueContrast","contrast","hyperlink","redcolor","scrollBehavior","scrollbarWidth","scrollbarColor","scrollBarBody","listReset","listStyle","buttonReset","font","visuallyHidden","clip","textOverflow","whiteSpace","defaultTheme","createMuiTheme","themePlain","typography","overrides","MuiCssBaseline","MuiLink","MuiAppBar","maxHeight","colorPrimary","MuiToolbar","gutters","MuiTypography","MuiButton","MuiFormControl","MuiFormControlLabel","MuiFormLabel","filled","asterisk","MuiInputLabel","MuiSelect","paddingTop","iconOutlined","MuiMenu","list","MuiListItemIcon","MuiMenuItem","MuiFormHelperText","contained","MuiInputBase","MuiFilledInput","underline","MuiTableCell","head","stickyHeader","MuiTimelineItem","missingOppositeContent","flex","MuiTooltip","tooltip","arrow","MuiDivider","MuiAutocomplete","listbox","MuiPickersToolbarButton","toolbarBtn","MuiTextField","APP_BAR_HEIGHT","APP_BAR_MOBILE_HEIGHT","BREADCRUMBS_HEIGHT","BORDER_RADIUS","FOOTER_HEIGHT","drawerWidth","drawerWidthDesktopClose","drawerHeaderHeight","useStylesTable","thSortable","userSelect","thDateFilter","tableHeadLabelSortable"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}